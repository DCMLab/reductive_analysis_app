var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function getAugmentedNamespace(c){if(c.__esModule)return c;var f=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(c).forEach(function(m){var p=Object.getOwnPropertyDescriptor(c,m);Object.defineProperty(f,m,p.get?p:{enumerable:!0,get:function(){return c[m]}})}),f}function commonjsRequire(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(c){(function(f,m){c.exports=f.document?m(f,!0):function(p){if(!p.document)throw new Error("jQuery requires a window with a document");return m(p)}})(typeof window!="undefined"?window:commonjsGlobal,function(f,m){var p=[],a=Object.getPrototypeOf,l=p.slice,y=p.flat?function(t){return p.flat.call(t)}:function(t){return p.concat.apply([],t)},S=p.push,A=p.indexOf,I={},U=I.toString,R=I.hasOwnProperty,M=R.toString,K=M.call(Object),q={},W=function(e){return typeof e=="function"&&typeof e.nodeType!="number"&&typeof e.item!="function"},pt=function(e){return e!=null&&e===e.window},ht=f.document,Ut={type:!0,src:!0,nonce:!0,noModule:!0};function Tt(t,e,n){n=n||ht;var r,u,h=n.createElement("script");if(h.text=t,e)for(r in Ut)u=e[r]||e.getAttribute&&e.getAttribute(r),u&&h.setAttribute(r,u);n.head.appendChild(h).parentNode.removeChild(h)}function Lt(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?I[U.call(t)]||"object":typeof t}var jt="3.6.0",o=function(t,e){return new o.fn.init(t,e)};o.fn=o.prototype={jquery:jt,constructor:o,length:0,toArray:function(){return l.call(this)},get:function(t){return t==null?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=o.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return o.each(this,t)},map:function(t){return this.pushStack(o.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:S,sort:p.sort,splice:p.splice},o.extend=o.fn.extend=function(){var t,e,n,r,u,h,d=arguments[0]||{},T=1,C=arguments.length,k=!1;for(typeof d=="boolean"&&(k=d,d=arguments[T]||{},T++),typeof d!="object"&&!W(d)&&(d={}),T===C&&(d=this,T--);T<C;T++)if((t=arguments[T])!=null)for(e in t)r=t[e],!(e==="__proto__"||d===r)&&(k&&r&&(o.isPlainObject(r)||(u=Array.isArray(r)))?(n=d[e],u&&!Array.isArray(n)?h=[]:!u&&!o.isPlainObject(n)?h={}:h=n,u=!1,d[e]=o.extend(k,h,r)):r!==void 0&&(d[e]=r));return d},o.extend({expando:"jQuery"+(jt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!t||U.call(t)!=="[object Object]"?!1:(e=a(t),e?(n=R.call(e,"constructor")&&e.constructor,typeof n=="function"&&M.call(n)===K):!0)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){Tt(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(Q(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},makeArray:function(t,e){var n=e||[];return t!=null&&(Q(Object(t))?o.merge(n,typeof t=="string"?[t]:t):S.call(n,t)),n},inArray:function(t,e,n){return e==null?-1:A.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,u=t.length;r<n;r++)t[u++]=e[r];return t.length=u,t},grep:function(t,e,n){for(var r,u=[],h=0,d=t.length,T=!n;h<d;h++)r=!e(t[h],h),r!==T&&u.push(t[h]);return u},map:function(t,e,n){var r,u,h=0,d=[];if(Q(t))for(r=t.length;h<r;h++)u=e(t[h],h,n),u!=null&&d.push(u);else for(h in t)u=e(t[h],h,n),u!=null&&d.push(u);return y(d)},guid:1,support:q}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=p[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){I["[object "+e+"]"]=e.toLowerCase()});function Q(t){var e=!!t&&"length"in t&&t.length,n=Lt(t);return W(t)||pt(t)?!1:n==="array"||e===0||typeof e=="number"&&e>0&&e-1 in t}var X=function(t){var e,n,r,u,h,d,T,C,k,O,V,j,P,it,dt,nt,Mt,Nt,ee,_t="sizzle"+1*new Date,ft=t.document,Jt=0,yt=0,It=ji(),li=ji(),ki=ji(),ie=ji(),Me=function(g,w){return g===w&&(V=!0),0},He={}.hasOwnProperty,Zt=[],Ae=Zt.pop,se=Zt.push,je=Zt.push,dn=Zt.slice,Re=function(g,w){for(var D=0,N=g.length;D<N;D++)if(g[D]===w)return D;return-1},Yi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",St="[\\x20\\t\\r\\n\\f]",qe="(?:\\\\[\\da-fA-F]{1,6}"+St+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",pn="\\["+St+"*("+qe+")(?:"+St+"*([*^$|!~]?=)"+St+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qe+"))|)"+St+"*\\]",Gi=":("+qe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+pn+")*)|.*)\\)|)",Vn=new RegExp(St+"+","g"),Ei=new RegExp("^"+St+"+|((?:^|[^\\\\])(?:\\\\.)*)"+St+"+$","g"),zn=new RegExp("^"+St+"*,"+St+"*"),gn=new RegExp("^"+St+"*([>+~]|"+St+")"+St+"*"),Wn=new RegExp(St+"|>"),$n=new RegExp(Gi),Fn=new RegExp("^"+qe+"$"),Ai={ID:new RegExp("^#("+qe+")"),CLASS:new RegExp("^\\.("+qe+")"),TAG:new RegExp("^("+qe+"|[*])"),ATTR:new RegExp("^"+pn),PSEUDO:new RegExp("^"+Gi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+St+"*(even|odd|(([+-]|)(\\d*)n|)"+St+"*(?:([+-]|)"+St+"*(\\d+)|))"+St+"*\\)|)","i"),bool:new RegExp("^(?:"+Yi+")$","i"),needsContext:new RegExp("^"+St+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+St+"*((?:-\\d)?\\d*)"+St+"*\\)|)(?=[^-]|$)","i")},Un=/HTML$/i,Kn=/^(?:input|select|textarea|button)$/i,Xn=/^h\d$/i,ci=/^[^{]+\{\s*\[native \w/,Yn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ji=/[+~]/,be=new RegExp("\\\\[\\da-fA-F]{1,6}"+St+"?|\\\\([^\\r\\n\\f])","g"),xe=function(g,w){var D="0x"+g.slice(1)-65536;return w||(D<0?String.fromCharCode(D+65536):String.fromCharCode(D>>10|55296,D&1023|56320))},mn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,vn=function(g,w){return w?g==="\0"?"\uFFFD":g.slice(0,-1)+"\\"+g.charCodeAt(g.length-1).toString(16)+" ":"\\"+g},yn=function(){j()},Gn=Oi(function(g){return g.disabled===!0&&g.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{je.apply(Zt=dn.call(ft.childNodes),ft.childNodes),Zt[ft.childNodes.length].nodeType}catch{je={apply:Zt.length?function(w,D){se.apply(w,dn.call(D))}:function(w,D){for(var N=w.length,E=0;w[N++]=D[E++];);w.length=N-1}}}function Dt(g,w,D,N){var E,L,z,G,Z,ut,ot,ct=w&&w.ownerDocument,mt=w?w.nodeType:9;if(D=D||[],typeof g!="string"||!g||mt!==1&&mt!==9&&mt!==11)return D;if(!N&&(j(w),w=w||P,dt)){if(mt!==11&&(Z=Yn.exec(g)))if(E=Z[1]){if(mt===9)if(z=w.getElementById(E)){if(z.id===E)return D.push(z),D}else return D;else if(ct&&(z=ct.getElementById(E))&&ee(w,z)&&z.id===E)return D.push(z),D}else{if(Z[2])return je.apply(D,w.getElementsByTagName(g)),D;if((E=Z[3])&&n.getElementsByClassName&&w.getElementsByClassName)return je.apply(D,w.getElementsByClassName(E)),D}if(n.qsa&&!ie[g+" "]&&(!nt||!nt.test(g))&&(mt!==1||w.nodeName.toLowerCase()!=="object")){if(ot=g,ct=w,mt===1&&(Wn.test(g)||gn.test(g))){for(ct=Ji.test(g)&&Qi(w.parentNode)||w,(ct!==w||!n.scope)&&((G=w.getAttribute("id"))?G=G.replace(mn,vn):w.setAttribute("id",G=_t)),ut=d(g),L=ut.length;L--;)ut[L]=(G?"#"+G:":scope")+" "+Ii(ut[L]);ot=ut.join(",")}try{return je.apply(D,ct.querySelectorAll(ot)),D}catch{ie(g,!0)}finally{G===_t&&w.removeAttribute("id")}}}return C(g.replace(Ei,"$1"),w,D,N)}function ji(){var g=[];function w(D,N){return g.push(D+" ")>r.cacheLength&&delete w[g.shift()],w[D+" "]=N}return w}function le(g){return g[_t]=!0,g}function ce(g){var w=P.createElement("fieldset");try{return!!g(w)}catch{return!1}finally{w.parentNode&&w.parentNode.removeChild(w),w=null}}function Zi(g,w){for(var D=g.split("|"),N=D.length;N--;)r.attrHandle[D[N]]=w}function bn(g,w){var D=w&&g,N=D&&g.nodeType===1&&w.nodeType===1&&g.sourceIndex-w.sourceIndex;if(N)return N;if(D){for(;D=D.nextSibling;)if(D===w)return-1}return g?1:-1}function Jn(g){return function(w){var D=w.nodeName.toLowerCase();return D==="input"&&w.type===g}}function Zn(g){return function(w){var D=w.nodeName.toLowerCase();return(D==="input"||D==="button")&&w.type===g}}function xn(g){return function(w){return"form"in w?w.parentNode&&w.disabled===!1?"label"in w?"label"in w.parentNode?w.parentNode.disabled===g:w.disabled===g:w.isDisabled===g||w.isDisabled!==!g&&Gn(w)===g:w.disabled===g:"label"in w?w.disabled===g:!1}}function Ve(g){return le(function(w){return w=+w,le(function(D,N){for(var E,L=g([],D.length,w),z=L.length;z--;)D[E=L[z]]&&(D[E]=!(N[E]=D[E]))})})}function Qi(g){return g&&typeof g.getElementsByTagName!="undefined"&&g}n=Dt.support={},h=Dt.isXML=function(g){var w=g&&g.namespaceURI,D=g&&(g.ownerDocument||g).documentElement;return!Un.test(w||D&&D.nodeName||"HTML")},j=Dt.setDocument=function(g){var w,D,N=g?g.ownerDocument||g:ft;return N==P||N.nodeType!==9||!N.documentElement||(P=N,it=P.documentElement,dt=!h(P),ft!=P&&(D=P.defaultView)&&D.top!==D&&(D.addEventListener?D.addEventListener("unload",yn,!1):D.attachEvent&&D.attachEvent("onunload",yn)),n.scope=ce(function(E){return it.appendChild(E).appendChild(P.createElement("div")),typeof E.querySelectorAll!="undefined"&&!E.querySelectorAll(":scope fieldset div").length}),n.attributes=ce(function(E){return E.className="i",!E.getAttribute("className")}),n.getElementsByTagName=ce(function(E){return E.appendChild(P.createComment("")),!E.getElementsByTagName("*").length}),n.getElementsByClassName=ci.test(P.getElementsByClassName),n.getById=ce(function(E){return it.appendChild(E).id=_t,!P.getElementsByName||!P.getElementsByName(_t).length}),n.getById?(r.filter.ID=function(E){var L=E.replace(be,xe);return function(z){return z.getAttribute("id")===L}},r.find.ID=function(E,L){if(typeof L.getElementById!="undefined"&&dt){var z=L.getElementById(E);return z?[z]:[]}}):(r.filter.ID=function(E){var L=E.replace(be,xe);return function(z){var G=typeof z.getAttributeNode!="undefined"&&z.getAttributeNode("id");return G&&G.value===L}},r.find.ID=function(E,L){if(typeof L.getElementById!="undefined"&&dt){var z,G,Z,ut=L.getElementById(E);if(ut){if(z=ut.getAttributeNode("id"),z&&z.value===E)return[ut];for(Z=L.getElementsByName(E),G=0;ut=Z[G++];)if(z=ut.getAttributeNode("id"),z&&z.value===E)return[ut]}return[]}}),r.find.TAG=n.getElementsByTagName?function(E,L){if(typeof L.getElementsByTagName!="undefined")return L.getElementsByTagName(E);if(n.qsa)return L.querySelectorAll(E)}:function(E,L){var z,G=[],Z=0,ut=L.getElementsByTagName(E);if(E==="*"){for(;z=ut[Z++];)z.nodeType===1&&G.push(z);return G}return ut},r.find.CLASS=n.getElementsByClassName&&function(E,L){if(typeof L.getElementsByClassName!="undefined"&&dt)return L.getElementsByClassName(E)},Mt=[],nt=[],(n.qsa=ci.test(P.querySelectorAll))&&(ce(function(E){var L;it.appendChild(E).innerHTML="<a id='"+_t+"'></a><select id='"+_t+"-\r\\' msallowcapture=''><option selected=''></option></select>",E.querySelectorAll("[msallowcapture^='']").length&&nt.push("[*^$]="+St+`*(?:''|"")`),E.querySelectorAll("[selected]").length||nt.push("\\["+St+"*(?:value|"+Yi+")"),E.querySelectorAll("[id~="+_t+"-]").length||nt.push("~="),L=P.createElement("input"),L.setAttribute("name",""),E.appendChild(L),E.querySelectorAll("[name='']").length||nt.push("\\["+St+"*name"+St+"*="+St+`*(?:''|"")`),E.querySelectorAll(":checked").length||nt.push(":checked"),E.querySelectorAll("a#"+_t+"+*").length||nt.push(".#.+[+~]"),E.querySelectorAll("\\\f"),nt.push("[\\r\\n\\f]")}),ce(function(E){E.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var L=P.createElement("input");L.setAttribute("type","hidden"),E.appendChild(L).setAttribute("name","D"),E.querySelectorAll("[name=d]").length&&nt.push("name"+St+"*[*^$|!~]?="),E.querySelectorAll(":enabled").length!==2&&nt.push(":enabled",":disabled"),it.appendChild(E).disabled=!0,E.querySelectorAll(":disabled").length!==2&&nt.push(":enabled",":disabled"),E.querySelectorAll("*,:x"),nt.push(",.*:")})),(n.matchesSelector=ci.test(Nt=it.matches||it.webkitMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector||it.msMatchesSelector))&&ce(function(E){n.disconnectedMatch=Nt.call(E,"*"),Nt.call(E,"[s!='']:x"),Mt.push("!=",Gi)}),nt=nt.length&&new RegExp(nt.join("|")),Mt=Mt.length&&new RegExp(Mt.join("|")),w=ci.test(it.compareDocumentPosition),ee=w||ci.test(it.contains)?function(E,L){var z=E.nodeType===9?E.documentElement:E,G=L&&L.parentNode;return E===G||!!(G&&G.nodeType===1&&(z.contains?z.contains(G):E.compareDocumentPosition&&E.compareDocumentPosition(G)&16))}:function(E,L){if(L){for(;L=L.parentNode;)if(L===E)return!0}return!1},Me=w?function(E,L){if(E===L)return V=!0,0;var z=!E.compareDocumentPosition-!L.compareDocumentPosition;return z||(z=(E.ownerDocument||E)==(L.ownerDocument||L)?E.compareDocumentPosition(L):1,z&1||!n.sortDetached&&L.compareDocumentPosition(E)===z?E==P||E.ownerDocument==ft&&ee(ft,E)?-1:L==P||L.ownerDocument==ft&&ee(ft,L)?1:O?Re(O,E)-Re(O,L):0:z&4?-1:1)}:function(E,L){if(E===L)return V=!0,0;var z,G=0,Z=E.parentNode,ut=L.parentNode,ot=[E],ct=[L];if(!Z||!ut)return E==P?-1:L==P?1:Z?-1:ut?1:O?Re(O,E)-Re(O,L):0;if(Z===ut)return bn(E,L);for(z=E;z=z.parentNode;)ot.unshift(z);for(z=L;z=z.parentNode;)ct.unshift(z);for(;ot[G]===ct[G];)G++;return G?bn(ot[G],ct[G]):ot[G]==ft?-1:ct[G]==ft?1:0}),P},Dt.matches=function(g,w){return Dt(g,null,null,w)},Dt.matchesSelector=function(g,w){if(j(g),n.matchesSelector&&dt&&!ie[w+" "]&&(!Mt||!Mt.test(w))&&(!nt||!nt.test(w)))try{var D=Nt.call(g,w);if(D||n.disconnectedMatch||g.document&&g.document.nodeType!==11)return D}catch{ie(w,!0)}return Dt(w,P,null,[g]).length>0},Dt.contains=function(g,w){return(g.ownerDocument||g)!=P&&j(g),ee(g,w)},Dt.attr=function(g,w){(g.ownerDocument||g)!=P&&j(g);var D=r.attrHandle[w.toLowerCase()],N=D&&He.call(r.attrHandle,w.toLowerCase())?D(g,w,!dt):void 0;return N!==void 0?N:n.attributes||!dt?g.getAttribute(w):(N=g.getAttributeNode(w))&&N.specified?N.value:null},Dt.escape=function(g){return(g+"").replace(mn,vn)},Dt.error=function(g){throw new Error("Syntax error, unrecognized expression: "+g)},Dt.uniqueSort=function(g){var w,D=[],N=0,E=0;if(V=!n.detectDuplicates,O=!n.sortStable&&g.slice(0),g.sort(Me),V){for(;w=g[E++];)w===g[E]&&(N=D.push(E));for(;N--;)g.splice(D[N],1)}return O=null,g},u=Dt.getText=function(g){var w,D="",N=0,E=g.nodeType;if(E){if(E===1||E===9||E===11){if(typeof g.textContent=="string")return g.textContent;for(g=g.firstChild;g;g=g.nextSibling)D+=u(g)}else if(E===3||E===4)return g.nodeValue}else for(;w=g[N++];)D+=u(w);return D},r=Dt.selectors={cacheLength:50,createPseudo:le,match:Ai,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(g){return g[1]=g[1].replace(be,xe),g[3]=(g[3]||g[4]||g[5]||"").replace(be,xe),g[2]==="~="&&(g[3]=" "+g[3]+" "),g.slice(0,4)},CHILD:function(g){return g[1]=g[1].toLowerCase(),g[1].slice(0,3)==="nth"?(g[3]||Dt.error(g[0]),g[4]=+(g[4]?g[5]+(g[6]||1):2*(g[3]==="even"||g[3]==="odd")),g[5]=+(g[7]+g[8]||g[3]==="odd")):g[3]&&Dt.error(g[0]),g},PSEUDO:function(g){var w,D=!g[6]&&g[2];return Ai.CHILD.test(g[0])?null:(g[3]?g[2]=g[4]||g[5]||"":D&&$n.test(D)&&(w=d(D,!0))&&(w=D.indexOf(")",D.length-w)-D.length)&&(g[0]=g[0].slice(0,w),g[2]=D.slice(0,w)),g.slice(0,3))}},filter:{TAG:function(g){var w=g.replace(be,xe).toLowerCase();return g==="*"?function(){return!0}:function(D){return D.nodeName&&D.nodeName.toLowerCase()===w}},CLASS:function(g){var w=It[g+" "];return w||(w=new RegExp("(^|"+St+")"+g+"("+St+"|$)"))&&It(g,function(D){return w.test(typeof D.className=="string"&&D.className||typeof D.getAttribute!="undefined"&&D.getAttribute("class")||"")})},ATTR:function(g,w,D){return function(N){var E=Dt.attr(N,g);return E==null?w==="!=":w?(E+="",w==="="?E===D:w==="!="?E!==D:w==="^="?D&&E.indexOf(D)===0:w==="*="?D&&E.indexOf(D)>-1:w==="$="?D&&E.slice(-D.length)===D:w==="~="?(" "+E.replace(Vn," ")+" ").indexOf(D)>-1:w==="|="?E===D||E.slice(0,D.length+1)===D+"-":!1):!0}},CHILD:function(g,w,D,N,E){var L=g.slice(0,3)!=="nth",z=g.slice(-4)!=="last",G=w==="of-type";return N===1&&E===0?function(Z){return!!Z.parentNode}:function(Z,ut,ot){var ct,mt,kt,lt,Ht,Ft,ne=L!==z?"nextSibling":"previousSibling",At=Z.parentNode,hi=G&&Z.nodeName.toLowerCase(),fi=!ot&&!G,re=!1;if(At){if(L){for(;ne;){for(lt=Z;lt=lt[ne];)if(G?lt.nodeName.toLowerCase()===hi:lt.nodeType===1)return!1;Ft=ne=g==="only"&&!Ft&&"nextSibling"}return!0}if(Ft=[z?At.firstChild:At.lastChild],z&&fi){for(lt=At,kt=lt[_t]||(lt[_t]={}),mt=kt[lt.uniqueID]||(kt[lt.uniqueID]={}),ct=mt[g]||[],Ht=ct[0]===Jt&&ct[1],re=Ht&&ct[2],lt=Ht&&At.childNodes[Ht];lt=++Ht&&lt&&lt[ne]||(re=Ht=0)||Ft.pop();)if(lt.nodeType===1&&++re&&lt===Z){mt[g]=[Jt,Ht,re];break}}else if(fi&&(lt=Z,kt=lt[_t]||(lt[_t]={}),mt=kt[lt.uniqueID]||(kt[lt.uniqueID]={}),ct=mt[g]||[],Ht=ct[0]===Jt&&ct[1],re=Ht),re===!1)for(;(lt=++Ht&&lt&&lt[ne]||(re=Ht=0)||Ft.pop())&&!((G?lt.nodeName.toLowerCase()===hi:lt.nodeType===1)&&++re&&(fi&&(kt=lt[_t]||(lt[_t]={}),mt=kt[lt.uniqueID]||(kt[lt.uniqueID]={}),mt[g]=[Jt,re]),lt===Z)););return re-=E,re===N||re%N===0&&re/N>=0}}},PSEUDO:function(g,w){var D,N=r.pseudos[g]||r.setFilters[g.toLowerCase()]||Dt.error("unsupported pseudo: "+g);return N[_t]?N(w):N.length>1?(D=[g,g,"",w],r.setFilters.hasOwnProperty(g.toLowerCase())?le(function(E,L){for(var z,G=N(E,w),Z=G.length;Z--;)z=Re(E,G[Z]),E[z]=!(L[z]=G[Z])}):function(E){return N(E,0,D)}):N}},pseudos:{not:le(function(g){var w=[],D=[],N=T(g.replace(Ei,"$1"));return N[_t]?le(function(E,L,z,G){for(var Z,ut=N(E,null,G,[]),ot=E.length;ot--;)(Z=ut[ot])&&(E[ot]=!(L[ot]=Z))}):function(E,L,z){return w[0]=E,N(w,null,z,D),w[0]=null,!D.pop()}}),has:le(function(g){return function(w){return Dt(g,w).length>0}}),contains:le(function(g){return g=g.replace(be,xe),function(w){return(w.textContent||u(w)).indexOf(g)>-1}}),lang:le(function(g){return Fn.test(g||"")||Dt.error("unsupported lang: "+g),g=g.replace(be,xe).toLowerCase(),function(w){var D;do if(D=dt?w.lang:w.getAttribute("xml:lang")||w.getAttribute("lang"))return D=D.toLowerCase(),D===g||D.indexOf(g+"-")===0;while((w=w.parentNode)&&w.nodeType===1);return!1}}),target:function(g){var w=t.location&&t.location.hash;return w&&w.slice(1)===g.id},root:function(g){return g===it},focus:function(g){return g===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(g.type||g.href||~g.tabIndex)},enabled:xn(!1),disabled:xn(!0),checked:function(g){var w=g.nodeName.toLowerCase();return w==="input"&&!!g.checked||w==="option"&&!!g.selected},selected:function(g){return g.parentNode&&g.parentNode.selectedIndex,g.selected===!0},empty:function(g){for(g=g.firstChild;g;g=g.nextSibling)if(g.nodeType<6)return!1;return!0},parent:function(g){return!r.pseudos.empty(g)},header:function(g){return Xn.test(g.nodeName)},input:function(g){return Kn.test(g.nodeName)},button:function(g){var w=g.nodeName.toLowerCase();return w==="input"&&g.type==="button"||w==="button"},text:function(g){var w;return g.nodeName.toLowerCase()==="input"&&g.type==="text"&&((w=g.getAttribute("type"))==null||w.toLowerCase()==="text")},first:Ve(function(){return[0]}),last:Ve(function(g,w){return[w-1]}),eq:Ve(function(g,w,D){return[D<0?D+w:D]}),even:Ve(function(g,w){for(var D=0;D<w;D+=2)g.push(D);return g}),odd:Ve(function(g,w){for(var D=1;D<w;D+=2)g.push(D);return g}),lt:Ve(function(g,w,D){for(var N=D<0?D+w:D>w?w:D;--N>=0;)g.push(N);return g}),gt:Ve(function(g,w,D){for(var N=D<0?D+w:D;++N<w;)g.push(N);return g})}},r.pseudos.nth=r.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=Jn(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=Zn(e);function Sn(){}Sn.prototype=r.filters=r.pseudos,r.setFilters=new Sn,d=Dt.tokenize=function(g,w){var D,N,E,L,z,G,Z,ut=li[g+" "];if(ut)return w?0:ut.slice(0);for(z=g,G=[],Z=r.preFilter;z;){(!D||(N=zn.exec(z)))&&(N&&(z=z.slice(N[0].length)||z),G.push(E=[])),D=!1,(N=gn.exec(z))&&(D=N.shift(),E.push({value:D,type:N[0].replace(Ei," ")}),z=z.slice(D.length));for(L in r.filter)(N=Ai[L].exec(z))&&(!Z[L]||(N=Z[L](N)))&&(D=N.shift(),E.push({value:D,type:L,matches:N}),z=z.slice(D.length));if(!D)break}return w?z.length:z?Dt.error(g):li(g,G).slice(0)};function Ii(g){for(var w=0,D=g.length,N="";w<D;w++)N+=g[w].value;return N}function Oi(g,w,D){var N=w.dir,E=w.next,L=E||N,z=D&&L==="parentNode",G=yt++;return w.first?function(Z,ut,ot){for(;Z=Z[N];)if(Z.nodeType===1||z)return g(Z,ut,ot);return!1}:function(Z,ut,ot){var ct,mt,kt,lt=[Jt,G];if(ot){for(;Z=Z[N];)if((Z.nodeType===1||z)&&g(Z,ut,ot))return!0}else for(;Z=Z[N];)if(Z.nodeType===1||z)if(kt=Z[_t]||(Z[_t]={}),mt=kt[Z.uniqueID]||(kt[Z.uniqueID]={}),E&&E===Z.nodeName.toLowerCase())Z=Z[N]||Z;else{if((ct=mt[L])&&ct[0]===Jt&&ct[1]===G)return lt[2]=ct[2];if(mt[L]=lt,lt[2]=g(Z,ut,ot))return!0}return!1}}function tn(g){return g.length>1?function(w,D,N){for(var E=g.length;E--;)if(!g[E](w,D,N))return!1;return!0}:g[0]}function Qn(g,w,D){for(var N=0,E=w.length;N<E;N++)Dt(g,w[N],D);return D}function Pi(g,w,D,N,E){for(var L,z=[],G=0,Z=g.length,ut=w!=null;G<Z;G++)(L=g[G])&&(!D||D(L,N,E))&&(z.push(L),ut&&w.push(G));return z}function en(g,w,D,N,E,L){return N&&!N[_t]&&(N=en(N)),E&&!E[_t]&&(E=en(E,L)),le(function(z,G,Z,ut){var ot,ct,mt,kt=[],lt=[],Ht=G.length,Ft=z||Qn(w||"*",Z.nodeType?[Z]:Z,[]),ne=g&&(z||!w)?Pi(Ft,kt,g,Z,ut):Ft,At=D?E||(z?g:Ht||N)?[]:G:ne;if(D&&D(ne,At,Z,ut),N)for(ot=Pi(At,lt),N(ot,[],Z,ut),ct=ot.length;ct--;)(mt=ot[ct])&&(At[lt[ct]]=!(ne[lt[ct]]=mt));if(z){if(E||g){if(E){for(ot=[],ct=At.length;ct--;)(mt=At[ct])&&ot.push(ne[ct]=mt);E(null,At=[],ot,ut)}for(ct=At.length;ct--;)(mt=At[ct])&&(ot=E?Re(z,mt):kt[ct])>-1&&(z[ot]=!(G[ot]=mt))}}else At=Pi(At===G?At.splice(Ht,At.length):At),E?E(null,G,At,ut):je.apply(G,At)})}function nn(g){for(var w,D,N,E=g.length,L=r.relative[g[0].type],z=L||r.relative[" "],G=L?1:0,Z=Oi(function(ct){return ct===w},z,!0),ut=Oi(function(ct){return Re(w,ct)>-1},z,!0),ot=[function(ct,mt,kt){var lt=!L&&(kt||mt!==k)||((w=mt).nodeType?Z(ct,mt,kt):ut(ct,mt,kt));return w=null,lt}];G<E;G++)if(D=r.relative[g[G].type])ot=[Oi(tn(ot),D)];else{if(D=r.filter[g[G].type].apply(null,g[G].matches),D[_t]){for(N=++G;N<E&&!r.relative[g[N].type];N++);return en(G>1&&tn(ot),G>1&&Ii(g.slice(0,G-1).concat({value:g[G-2].type===" "?"*":""})).replace(Ei,"$1"),D,G<N&&nn(g.slice(G,N)),N<E&&nn(g=g.slice(N)),N<E&&Ii(g))}ot.push(D)}return tn(ot)}function tr(g,w){var D=w.length>0,N=g.length>0,E=function(L,z,G,Z,ut){var ot,ct,mt,kt=0,lt="0",Ht=L&&[],Ft=[],ne=k,At=L||N&&r.find.TAG("*",ut),hi=Jt+=ne==null?1:Math.random()||.1,fi=At.length;for(ut&&(k=z==P||z||ut);lt!==fi&&(ot=At[lt])!=null;lt++){if(N&&ot){for(ct=0,!z&&ot.ownerDocument!=P&&(j(ot),G=!dt);mt=g[ct++];)if(mt(ot,z||P,G)){Z.push(ot);break}ut&&(Jt=hi)}D&&((ot=!mt&&ot)&&kt--,L&&Ht.push(ot))}if(kt+=lt,D&&lt!==kt){for(ct=0;mt=w[ct++];)mt(Ht,Ft,z,G);if(L){if(kt>0)for(;lt--;)Ht[lt]||Ft[lt]||(Ft[lt]=Ae.call(Z));Ft=Pi(Ft)}je.apply(Z,Ft),ut&&!L&&Ft.length>0&&kt+w.length>1&&Dt.uniqueSort(Z)}return ut&&(Jt=hi,k=ne),Ht};return D?le(E):E}return T=Dt.compile=function(g,w){var D,N=[],E=[],L=ki[g+" "];if(!L){for(w||(w=d(g)),D=w.length;D--;)L=nn(w[D]),L[_t]?N.push(L):E.push(L);L=ki(g,tr(E,N)),L.selector=g}return L},C=Dt.select=function(g,w,D,N){var E,L,z,G,Z,ut=typeof g=="function"&&g,ot=!N&&d(g=ut.selector||g);if(D=D||[],ot.length===1){if(L=ot[0]=ot[0].slice(0),L.length>2&&(z=L[0]).type==="ID"&&w.nodeType===9&&dt&&r.relative[L[1].type]){if(w=(r.find.ID(z.matches[0].replace(be,xe),w)||[])[0],w)ut&&(w=w.parentNode);else return D;g=g.slice(L.shift().value.length)}for(E=Ai.needsContext.test(g)?0:L.length;E--&&(z=L[E],!r.relative[G=z.type]);)if((Z=r.find[G])&&(N=Z(z.matches[0].replace(be,xe),Ji.test(L[0].type)&&Qi(w.parentNode)||w))){if(L.splice(E,1),g=N.length&&Ii(L),!g)return je.apply(D,N),D;break}}return(ut||T(g,ot))(N,w,!dt,D,!w||Ji.test(g)&&Qi(w.parentNode)||w),D},n.sortStable=_t.split("").sort(Me).join("")===_t,n.detectDuplicates=!!V,j(),n.sortDetached=ce(function(g){return g.compareDocumentPosition(P.createElement("fieldset"))&1}),ce(function(g){return g.innerHTML="<a href='#'></a>",g.firstChild.getAttribute("href")==="#"})||Zi("type|href|height|width",function(g,w,D){if(!D)return g.getAttribute(w,w.toLowerCase()==="type"?1:2)}),(!n.attributes||!ce(function(g){return g.innerHTML="<input/>",g.firstChild.setAttribute("value",""),g.firstChild.getAttribute("value")===""}))&&Zi("value",function(g,w,D){if(!D&&g.nodeName.toLowerCase()==="input")return g.defaultValue}),ce(function(g){return g.getAttribute("disabled")==null})||Zi(Yi,function(g,w,D){var N;if(!D)return g[w]===!0?w.toLowerCase():(N=g.getAttributeNode(w))&&N.specified?N.value:null}),Dt}(f);o.find=X,o.expr=X.selectors,o.expr[":"]=o.expr.pseudos,o.uniqueSort=o.unique=X.uniqueSort,o.text=X.getText,o.isXMLDoc=X.isXML,o.contains=X.contains,o.escapeSelector=X.escape;var vt=function(t,e,n){for(var r=[],u=n!==void 0;(t=t[e])&&t.nodeType!==9;)if(t.nodeType===1){if(u&&o(t).is(n))break;r.push(t)}return r},Ct=function(t,e){for(var n=[];t;t=t.nextSibling)t.nodeType===1&&t!==e&&n.push(t);return n},Kt=o.expr.match.needsContext;function bt(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var de=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Et(t,e,n){return W(e)?o.grep(t,function(r,u){return!!e.call(r,u,r)!==n}):e.nodeType?o.grep(t,function(r){return r===e!==n}):typeof e!="string"?o.grep(t,function(r){return A.call(e,r)>-1!==n}):o.filter(e,t,n)}o.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),e.length===1&&r.nodeType===1?o.find.matchesSelector(r,t)?[r]:[]:o.find.matches(t,o.grep(e,function(u){return u.nodeType===1}))},o.fn.extend({find:function(t){var e,n,r=this.length,u=this;if(typeof t!="string")return this.pushStack(o(t).filter(function(){for(e=0;e<r;e++)if(o.contains(u[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)o.find(t,u[e],n);return r>1?o.uniqueSort(n):n},filter:function(t){return this.pushStack(Et(this,t||[],!1))},not:function(t){return this.pushStack(Et(this,t||[],!0))},is:function(t){return!!Et(this,typeof t=="string"&&Kt.test(t)?o(t):t||[],!1).length}});var Pt,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qt=o.fn.init=function(t,e,n){var r,u;if(!t)return this;if(n=n||Pt,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?r=[null,t,null]:r=he.exec(t),r&&(r[1]||!e))if(r[1]){if(e=e instanceof o?e[0]:e,o.merge(this,o.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:ht,!0)),de.test(r[1])&&o.isPlainObject(e))for(r in e)W(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}else return u=ht.getElementById(r[2]),u&&(this[0]=u,this.length=1),this;else return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(W(t))return n.ready!==void 0?n.ready(t):t(o)}return o.makeArray(t,this)};Qt.prototype=o.fn,Pt=o(ht);var pe=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(t){var e=o(t,this),n=e.length;return this.filter(function(){for(var r=0;r<n;r++)if(o.contains(this,e[r]))return!0})},closest:function(t,e){var n,r=0,u=this.length,h=[],d=typeof t!="string"&&o(t);if(!Kt.test(t)){for(;r<u;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(d?d.index(n)>-1:n.nodeType===1&&o.find.matchesSelector(n,t))){h.push(n);break}}return this.pushStack(h.length>1?o.uniqueSort(h):h)},index:function(t){return t?typeof t=="string"?A.call(o(t),this[0]):A.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(t,e))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function Se(t,e){for(;(t=t[e])&&t.nodeType!==1;);return t}o.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return vt(t,"parentNode")},parentsUntil:function(t,e,n){return vt(t,"parentNode",n)},next:function(t){return Se(t,"nextSibling")},prev:function(t){return Se(t,"previousSibling")},nextAll:function(t){return vt(t,"nextSibling")},prevAll:function(t){return vt(t,"previousSibling")},nextUntil:function(t,e,n){return vt(t,"nextSibling",n)},prevUntil:function(t,e,n){return vt(t,"previousSibling",n)},siblings:function(t){return Ct((t.parentNode||{}).firstChild,t)},children:function(t){return Ct(t.firstChild)},contents:function(t){return t.contentDocument!=null&&a(t.contentDocument)?t.contentDocument:(bt(t,"template")&&(t=t.content||t),o.merge([],t.childNodes))}},function(t,e){o.fn[t]=function(n,r){var u=o.map(this,e,n);return t.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(u=o.filter(r,u)),this.length>1&&(ge[t]||o.uniqueSort(u),pe.test(t)&&u.reverse()),this.pushStack(u)}});var Yt=/[^\x20\t\r\n\f]+/g;function me(t){var e={};return o.each(t.match(Yt)||[],function(n,r){e[r]=!0}),e}o.Callbacks=function(t){t=typeof t=="string"?me(t):o.extend({},t);var e,n,r,u,h=[],d=[],T=-1,C=function(){for(u=u||t.once,r=e=!0;d.length;T=-1)for(n=d.shift();++T<h.length;)h[T].apply(n[0],n[1])===!1&&t.stopOnFalse&&(T=h.length,n=!1);t.memory||(n=!1),e=!1,u&&(n?h=[]:h="")},k={add:function(){return h&&(n&&!e&&(T=h.length-1,d.push(n)),function O(V){o.each(V,function(j,P){W(P)?(!t.unique||!k.has(P))&&h.push(P):P&&P.length&&Lt(P)!=="string"&&O(P)})}(arguments),n&&!e&&C()),this},remove:function(){return o.each(arguments,function(O,V){for(var j;(j=o.inArray(V,h,j))>-1;)h.splice(j,1),j<=T&&T--}),this},has:function(O){return O?o.inArray(O,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return u=d=[],h=n="",this},disabled:function(){return!h},lock:function(){return u=d=[],!n&&!e&&(h=n=""),this},locked:function(){return!!u},fireWith:function(O,V){return u||(V=V||[],V=[O,V.slice?V.slice():V],d.push(V),e||C()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!r}};return k};function Xt(t){return t}function we(t){throw t}function ve(t,e,n,r){var u;try{t&&W(u=t.promise)?u.call(t).done(e).fail(n):t&&W(u=t.then)?u.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(h){n.apply(void 0,[h])}}o.extend({Deferred:function(t){var e=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return u.done(arguments).fail(arguments),this},catch:function(h){return r.then(null,h)},pipe:function(){var h=arguments;return o.Deferred(function(d){o.each(e,function(T,C){var k=W(h[C[4]])&&h[C[4]];u[C[1]](function(){var O=k&&k.apply(this,arguments);O&&W(O.promise)?O.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[C[0]+"With"](this,k?[O]:arguments)})}),h=null}).promise()},then:function(h,d,T){var C=0;function k(O,V,j,P){return function(){var it=this,dt=arguments,nt=function(){var Nt,ee;if(!(O<C)){if(Nt=j.apply(it,dt),Nt===V.promise())throw new TypeError("Thenable self-resolution");ee=Nt&&(typeof Nt=="object"||typeof Nt=="function")&&Nt.then,W(ee)?P?ee.call(Nt,k(C,V,Xt,P),k(C,V,we,P)):(C++,ee.call(Nt,k(C,V,Xt,P),k(C,V,we,P),k(C,V,Xt,V.notifyWith))):(j!==Xt&&(it=void 0,dt=[Nt]),(P||V.resolveWith)(it,dt))}},Mt=P?nt:function(){try{nt()}catch(Nt){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(Nt,Mt.stackTrace),O+1>=C&&(j!==we&&(it=void 0,dt=[Nt]),V.rejectWith(it,dt))}};O?Mt():(o.Deferred.getStackHook&&(Mt.stackTrace=o.Deferred.getStackHook()),f.setTimeout(Mt))}}return o.Deferred(function(O){e[0][3].add(k(0,O,W(T)?T:Xt,O.notifyWith)),e[1][3].add(k(0,O,W(h)?h:Xt)),e[2][3].add(k(0,O,W(d)?d:we))}).promise()},promise:function(h){return h!=null?o.extend(h,r):r}},u={};return o.each(e,function(h,d){var T=d[2],C=d[5];r[d[1]]=T.add,C&&T.add(function(){n=C},e[3-h][2].disable,e[3-h][3].disable,e[0][2].lock,e[0][3].lock),T.add(d[3].fire),u[d[0]]=function(){return u[d[0]+"With"](this===u?void 0:this,arguments),this},u[d[0]+"With"]=T.fireWith}),r.promise(u),t&&t.call(u,u),u},when:function(t){var e=arguments.length,n=e,r=Array(n),u=l.call(arguments),h=o.Deferred(),d=function(T){return function(C){r[T]=this,u[T]=arguments.length>1?l.call(arguments):C,--e||h.resolveWith(r,u)}};if(e<=1&&(ve(t,h.done(d(n)).resolve,h.reject,!e),h.state()==="pending"||W(u[n]&&u[n].then)))return h.then();for(;n--;)ve(u[n],d(n),h.reject);return h.promise()}});var ze=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(t,e){f.console&&f.console.warn&&t&&ze.test(t.name)&&f.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},o.readyException=function(t){f.setTimeout(function(){throw t})};var xt=o.Deferred();o.fn.ready=function(t){return xt.then(t).catch(function(e){o.readyException(e)}),this},o.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(t!==!0&&--o.readyWait>0)&&xt.resolveWith(ht,[o]))}}),o.ready.then=xt.then;function tt(){ht.removeEventListener("DOMContentLoaded",tt),f.removeEventListener("load",tt),o.ready()}ht.readyState==="complete"||ht.readyState!=="loading"&&!ht.documentElement.doScroll?f.setTimeout(o.ready):(ht.addEventListener("DOMContentLoaded",tt),f.addEventListener("load",tt));var st=function(t,e,n,r,u,h,d){var T=0,C=t.length,k=n==null;if(Lt(n)==="object"){u=!0;for(T in n)st(t,e,T,n[T],!0,h,d)}else if(r!==void 0&&(u=!0,W(r)||(d=!0),k&&(d?(e.call(t,r),e=null):(k=e,e=function(O,V,j){return k.call(o(O),j)})),e))for(;T<C;T++)e(t[T],n,d?r:r.call(t[T],T,e(t[T],n)));return u?t:k?e.call(t):C?e(t[0],n):h},wt=/^-ms-/,Rt=/-([a-z])/g;function Je(t,e){return e.toUpperCase()}function oe(t){return t.replace(wt,"ms-").replace(Rt,Je)}var Te=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function Ie(){this.expando=o.expando+Ie.uid++}Ie.uid=1,Ie.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Te(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,u=this.cache(t);if(typeof e=="string")u[oe(e)]=n;else for(r in e)u[oe(r)]=e[r];return u},get:function(t,e){return e===void 0?this.cache(t):t[this.expando]&&t[this.expando][oe(e)]},access:function(t,e,n){return e===void 0||e&&typeof e=="string"&&n===void 0?this.get(t,e):(this.set(t,e,n),n!==void 0?n:e)},remove:function(t,e){var n,r=t[this.expando];if(r!==void 0){if(e!==void 0)for(Array.isArray(e)?e=e.map(oe):(e=oe(e),e=e in r?[e]:e.match(Yt)||[]),n=e.length;n--;)delete r[e[n]];(e===void 0||o.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==void 0&&!o.isEmptyObject(e)}};var at=new Ie,qt=new Ie,Ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,di=/[A-Z]/g;function Bi(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:Ze.test(t)?JSON.parse(t):t}function pi(t,e,n){var r;if(n===void 0&&t.nodeType===1)if(r="data-"+e.replace(di,"-$&").toLowerCase(),n=t.getAttribute(r),typeof n=="string"){try{n=Bi(n)}catch{}qt.set(t,e,n)}else n=void 0;return n}o.extend({hasData:function(t){return qt.hasData(t)||at.hasData(t)},data:function(t,e,n){return qt.access(t,e,n)},removeData:function(t,e){qt.remove(t,e)},_data:function(t,e,n){return at.access(t,e,n)},_removeData:function(t,e){at.remove(t,e)}}),o.fn.extend({data:function(t,e){var n,r,u,h=this[0],d=h&&h.attributes;if(t===void 0){if(this.length&&(u=qt.get(h),h.nodeType===1&&!at.get(h,"hasDataAttrs"))){for(n=d.length;n--;)d[n]&&(r=d[n].name,r.indexOf("data-")===0&&(r=oe(r.slice(5)),pi(h,r,u[r])));at.set(h,"hasDataAttrs",!0)}return u}return typeof t=="object"?this.each(function(){qt.set(this,t)}):st(this,function(T){var C;if(h&&T===void 0)return C=qt.get(h,t),C!==void 0||(C=pi(h,t),C!==void 0)?C:void 0;this.each(function(){qt.set(this,t,T)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){qt.remove(this,t)})}}),o.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=at.get(t,e),n&&(!r||Array.isArray(n)?r=at.access(t,e,o.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=o.queue(t,e),r=n.length,u=n.shift(),h=o._queueHooks(t,e),d=function(){o.dequeue(t,e)};u==="inprogress"&&(u=n.shift(),r--),u&&(e==="fx"&&n.unshift("inprogress"),delete h.stop,u.call(t,d,h)),!r&&h&&h.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return at.get(t,n)||at.access(t,n,{empty:o.Callbacks("once memory").add(function(){at.remove(t,[e+"queue",n])})})}}),o.fn.extend({queue:function(t,e){var n=2;return typeof t!="string"&&(e=t,t="fx",n--),arguments.length<n?o.queue(this[0],t):e===void 0?this:this.each(function(){var r=o.queue(this,t,e);o._queueHooks(this,t),t==="fx"&&r[0]!=="inprogress"&&o.dequeue(this,t)})},dequeue:function(t){return this.each(function(){o.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,u=o.Deferred(),h=this,d=this.length,T=function(){--r||u.resolveWith(h,[h])};for(typeof t!="string"&&(e=t,t=void 0),t=t||"fx";d--;)n=at.get(h[d],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(T));return T(),u.promise(e)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],fe=ht.documentElement,_e=function(t){return o.contains(t.ownerDocument,t)},Ni={composed:!0};fe.getRootNode&&(_e=function(t){return o.contains(t.ownerDocument,t)||t.getRootNode(Ni)===t.ownerDocument});var We=function(t,e){return t=e||t,t.style.display==="none"||t.style.display===""&&_e(t)&&o.css(t,"display")==="none"};function gi(t,e,n,r){var u,h,d=20,T=r?function(){return r.cur()}:function(){return o.css(t,e,"")},C=T(),k=n&&n[3]||(o.cssNumber[e]?"":"px"),O=t.nodeType&&(o.cssNumber[e]||k!=="px"&&+C)&&Oe.exec(o.css(t,e));if(O&&O[3]!==k){for(C=C/2,k=k||O[3],O=+C||1;d--;)o.style(t,e,O+k),(1-h)*(1-(h=T()/C||.5))<=0&&(d=0),O=O/h;O=O*2,o.style(t,e,O+k),n=n||[]}return n&&(O=+O||+C||0,u=n[1]?O+(n[1]+1)*n[2]:+n[2],r&&(r.unit=k,r.start=O,r.end=u)),u}var mi={};function Li(t){var e,n=t.ownerDocument,r=t.nodeName,u=mi[r];return u||(e=n.body.appendChild(n.createElement(r)),u=o.css(e,"display"),e.parentNode.removeChild(e),u==="none"&&(u="block"),mi[r]=u,u)}function De(t,e){for(var n,r,u=[],h=0,d=t.length;h<d;h++)r=t[h],!!r.style&&(n=r.style.display,e?(n==="none"&&(u[h]=at.get(r,"display")||null,u[h]||(r.style.display="")),r.style.display===""&&We(r)&&(u[h]=Li(r))):n!=="none"&&(u[h]="none",at.set(r,"display",n)));for(h=0;h<d;h++)u[h]!=null&&(t[h].style.display=u[h]);return t}o.fn.extend({show:function(){return De(this,!0)},hide:function(){return De(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){We(this)?o(this).show():o(this).hide()})}});var Pe=/^(?:checkbox|radio)$/i,vi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,yi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=ht.createDocumentFragment(),e=t.appendChild(ht.createElement("div")),n=ht.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),q.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",q.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",q.option=!!e.lastChild})();var Gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,q.option||(Gt.optgroup=Gt.option=[1,"<select multiple='multiple'>","</select>"]);function zt(t,e){var n;return typeof t.getElementsByTagName!="undefined"?n=t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!="undefined"?n=t.querySelectorAll(e||"*"):n=[],e===void 0||e&&bt(t,e)?o.merge([t],n):n}function Qe(t,e){for(var n=0,r=t.length;n<r;n++)at.set(t[n],"globalEval",!e||at.get(e[n],"globalEval"))}var b=/<|&#?\w+;/;function v(t,e,n,r,u){for(var h,d,T,C,k,O,V=e.createDocumentFragment(),j=[],P=0,it=t.length;P<it;P++)if(h=t[P],h||h===0)if(Lt(h)==="object")o.merge(j,h.nodeType?[h]:h);else if(!b.test(h))j.push(e.createTextNode(h));else{for(d=d||V.appendChild(e.createElement("div")),T=(vi.exec(h)||["",""])[1].toLowerCase(),C=Gt[T]||Gt._default,d.innerHTML=C[1]+o.htmlPrefilter(h)+C[2],O=C[0];O--;)d=d.lastChild;o.merge(j,d.childNodes),d=V.firstChild,d.textContent=""}for(V.textContent="",P=0;h=j[P++];){if(r&&o.inArray(h,r)>-1){u&&u.push(h);continue}if(k=_e(h),d=zt(V.appendChild(h),"script"),k&&Qe(d),n)for(O=0;h=d[O++];)yi.test(h.type||"")&&n.push(h)}return V}var s=/^([^.]*)(?:\.(.+)|)/;function _(){return!0}function x(){return!1}function H(t,e){return t===F()==(e==="focus")}function F(){try{return ht.activeElement}catch{}}function B(t,e,n,r,u,h){var d,T;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=void 0);for(T in e)B(t,T,n,r,e[T],h);return t}if(r==null&&u==null?(u=n,r=n=void 0):u==null&&(typeof n=="string"?(u=r,r=void 0):(u=r,r=n,n=void 0)),u===!1)u=x;else if(!u)return t;return h===1&&(d=u,u=function(C){return o().off(C),d.apply(this,arguments)},u.guid=d.guid||(d.guid=o.guid++)),t.each(function(){o.event.add(this,e,u,r,n)})}o.event={global:{},add:function(t,e,n,r,u){var h,d,T,C,k,O,V,j,P,it,dt,nt=at.get(t);if(!!Te(t))for(n.handler&&(h=n,n=h.handler,u=h.selector),u&&o.find.matchesSelector(fe,u),n.guid||(n.guid=o.guid++),(C=nt.events)||(C=nt.events=Object.create(null)),(d=nt.handle)||(d=nt.handle=function(Mt){return typeof o!="undefined"&&o.event.triggered!==Mt.type?o.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Yt)||[""],k=e.length;k--;)T=s.exec(e[k])||[],P=dt=T[1],it=(T[2]||"").split(".").sort(),!!P&&(V=o.event.special[P]||{},P=(u?V.delegateType:V.bindType)||P,V=o.event.special[P]||{},O=o.extend({type:P,origType:dt,data:r,handler:n,guid:n.guid,selector:u,needsContext:u&&o.expr.match.needsContext.test(u),namespace:it.join(".")},h),(j=C[P])||(j=C[P]=[],j.delegateCount=0,(!V.setup||V.setup.call(t,r,it,d)===!1)&&t.addEventListener&&t.addEventListener(P,d)),V.add&&(V.add.call(t,O),O.handler.guid||(O.handler.guid=n.guid)),u?j.splice(j.delegateCount++,0,O):j.push(O),o.event.global[P]=!0)},remove:function(t,e,n,r,u){var h,d,T,C,k,O,V,j,P,it,dt,nt=at.hasData(t)&&at.get(t);if(!(!nt||!(C=nt.events))){for(e=(e||"").match(Yt)||[""],k=e.length;k--;){if(T=s.exec(e[k])||[],P=dt=T[1],it=(T[2]||"").split(".").sort(),!P){for(P in C)o.event.remove(t,P+e[k],n,r,!0);continue}for(V=o.event.special[P]||{},P=(r?V.delegateType:V.bindType)||P,j=C[P]||[],T=T[2]&&new RegExp("(^|\\.)"+it.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=h=j.length;h--;)O=j[h],(u||dt===O.origType)&&(!n||n.guid===O.guid)&&(!T||T.test(O.namespace))&&(!r||r===O.selector||r==="**"&&O.selector)&&(j.splice(h,1),O.selector&&j.delegateCount--,V.remove&&V.remove.call(t,O));d&&!j.length&&((!V.teardown||V.teardown.call(t,it,nt.handle)===!1)&&o.removeEvent(t,P,nt.handle),delete C[P])}o.isEmptyObject(C)&&at.remove(t,"handle events")}},dispatch:function(t){var e,n,r,u,h,d,T=new Array(arguments.length),C=o.event.fix(t),k=(at.get(this,"events")||Object.create(null))[C.type]||[],O=o.event.special[C.type]||{};for(T[0]=C,e=1;e<arguments.length;e++)T[e]=arguments[e];if(C.delegateTarget=this,!(O.preDispatch&&O.preDispatch.call(this,C)===!1)){for(d=o.event.handlers.call(this,C,k),e=0;(u=d[e++])&&!C.isPropagationStopped();)for(C.currentTarget=u.elem,n=0;(h=u.handlers[n++])&&!C.isImmediatePropagationStopped();)(!C.rnamespace||h.namespace===!1||C.rnamespace.test(h.namespace))&&(C.handleObj=h,C.data=h.data,r=((o.event.special[h.origType]||{}).handle||h.handler).apply(u.elem,T),r!==void 0&&(C.result=r)===!1&&(C.preventDefault(),C.stopPropagation()));return O.postDispatch&&O.postDispatch.call(this,C),C.result}},handlers:function(t,e){var n,r,u,h,d,T=[],C=e.delegateCount,k=t.target;if(C&&k.nodeType&&!(t.type==="click"&&t.button>=1)){for(;k!==this;k=k.parentNode||this)if(k.nodeType===1&&!(t.type==="click"&&k.disabled===!0)){for(h=[],d={},n=0;n<C;n++)r=e[n],u=r.selector+" ",d[u]===void 0&&(d[u]=r.needsContext?o(u,this).index(k)>-1:o.find(u,this,null,[k]).length),d[u]&&h.push(r);h.length&&T.push({elem:k,handlers:h})}}return k=this,C<e.length&&T.push({elem:k,handlers:e.slice(C)}),T},addProp:function(t,e){Object.defineProperty(o.Event.prototype,t,{enumerable:!0,configurable:!0,get:W(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(n){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(t){return t[o.expando]?t:new o.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Pe.test(e.type)&&e.click&&bt(e,"input")&&Y(e,"click",_),!1},trigger:function(t){var e=this||t;return Pe.test(e.type)&&e.click&&bt(e,"input")&&Y(e,"click"),!0},_default:function(t){var e=t.target;return Pe.test(e.type)&&e.click&&bt(e,"input")&&at.get(e,"click")||bt(e,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function Y(t,e,n){if(!n){at.get(t,e)===void 0&&o.event.add(t,e,_);return}at.set(t,e,!1),o.event.add(t,e,{namespace:!1,handler:function(r){var u,h,d=at.get(this,e);if(r.isTrigger&1&&this[e]){if(d.length)(o.event.special[e]||{}).delegateType&&r.stopPropagation();else if(d=l.call(arguments),at.set(this,e,d),u=n(this,e),this[e](),h=at.get(this,e),d!==h||u?at.set(this,e,!1):h={},d!==h)return r.stopImmediatePropagation(),r.preventDefault(),h&&h.value}else d.length&&(at.set(this,e,{value:o.event.trigger(o.extend(d[0],o.Event.prototype),d.slice(1),this)}),r.stopImmediatePropagation())}})}o.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},o.Event=function(t,e){if(!(this instanceof o.Event))return new o.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?_:x,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&o.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(t,e){o.event.special[t]={setup:function(){return Y(this,t,H),!1},trigger:function(){return Y(this,t),!0},_default:function(){return!0},delegateType:e}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){o.event.special[t]={delegateType:e,bindType:e,handle:function(n){var r,u=this,h=n.relatedTarget,d=n.handleObj;return(!h||h!==u&&!o.contains(u,h))&&(n.type=d.origType,r=d.handler.apply(this,arguments),n.type=e),r}}}),o.fn.extend({on:function(t,e,n,r){return B(this,t,e,n,r)},one:function(t,e,n,r){return B(this,t,e,n,r,1)},off:function(t,e,n){var r,u;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,o(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof t=="object"){for(u in t)this.off(u,e,t[u]);return this}return(e===!1||typeof e=="function")&&(n=e,e=void 0),n===!1&&(n=x),this.each(function(){o.event.remove(this,t,n,e)})}});var et=/<script|<style|<link/i,J=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function gt(t,e){return bt(t,"table")&&bt(e.nodeType!==11?e:e.firstChild,"tr")&&o(t).children("tbody")[0]||t}function Ot(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function Wt(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,r,u,h,d,T,C;if(e.nodeType===1){if(at.hasData(t)&&(h=at.get(t),C=h.events,C)){at.remove(e,"handle events");for(u in C)for(n=0,r=C[u].length;n<r;n++)o.event.add(e,u,C[u][n])}qt.hasData(t)&&(d=qt.access(t),T=o.extend({},d),qt.set(e,T))}}function ke(t,e){var n=e.nodeName.toLowerCase();n==="input"&&Pe.test(t.type)?e.checked=t.checked:(n==="input"||n==="textarea")&&(e.defaultValue=t.defaultValue)}function ae(t,e,n,r){e=y(e);var u,h,d,T,C,k,O=0,V=t.length,j=V-1,P=e[0],it=W(P);if(it||V>1&&typeof P=="string"&&!q.checkClone&&J.test(P))return t.each(function(dt){var nt=t.eq(dt);it&&(e[0]=P.call(this,dt,nt.html())),ae(nt,e,n,r)});if(V&&(u=v(e,t[0].ownerDocument,!1,t,r),h=u.firstChild,u.childNodes.length===1&&(u=h),h||r)){for(d=o.map(zt(u,"script"),Ot),T=d.length;O<V;O++)C=u,O!==j&&(C=o.clone(C,!0,!0),T&&o.merge(d,zt(C,"script"))),n.call(t[O],C,O);if(T)for(k=d[d.length-1].ownerDocument,o.map(d,Wt),O=0;O<T;O++)C=d[O],yi.test(C.type||"")&&!at.access(C,"globalEval")&&o.contains(k,C)&&(C.src&&(C.type||"").toLowerCase()!=="module"?o._evalUrl&&!C.noModule&&o._evalUrl(C.src,{nonce:C.nonce||C.getAttribute("nonce")},k):Tt(C.textContent.replace(rt,""),C,k))}return t}function ue(t,e,n){for(var r,u=e?o.filter(e,t):t,h=0;(r=u[h])!=null;h++)!n&&r.nodeType===1&&o.cleanData(zt(r)),r.parentNode&&(n&&_e(r)&&Qe(zt(r,"script")),r.parentNode.removeChild(r));return t}o.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,u,h,d,T=t.cloneNode(!0),C=_e(t);if(!q.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!o.isXMLDoc(t))for(d=zt(T),h=zt(t),r=0,u=h.length;r<u;r++)ke(h[r],d[r]);if(e)if(n)for(h=h||zt(t),d=d||zt(T),r=0,u=h.length;r<u;r++)Bt(h[r],d[r]);else Bt(t,T);return d=zt(T,"script"),d.length>0&&Qe(d,!C&&zt(t,"script")),T},cleanData:function(t){for(var e,n,r,u=o.event.special,h=0;(n=t[h])!==void 0;h++)if(Te(n)){if(e=n[at.expando]){if(e.events)for(r in e.events)u[r]?o.event.remove(n,r):o.removeEvent(n,r,e.handle);n[at.expando]=void 0}n[qt.expando]&&(n[qt.expando]=void 0)}}}),o.fn.extend({detach:function(t){return ue(this,t,!0)},remove:function(t){return ue(this,t)},text:function(t){return st(this,function(e){return e===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=e)})},null,t,arguments.length)},append:function(){return ae(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=gt(this,t);e.appendChild(t)}})},prepend:function(){return ae(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=gt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return ae(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return ae(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;(t=this[e])!=null;e++)t.nodeType===1&&(o.cleanData(zt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=t==null?!1:t,e=e==null?t:e,this.map(function(){return o.clone(this,t,e)})},html:function(t){return st(this,function(e){var n=this[0]||{},r=0,u=this.length;if(e===void 0&&n.nodeType===1)return n.innerHTML;if(typeof e=="string"&&!et.test(e)&&!Gt[(vi.exec(e)||["",""])[1].toLowerCase()]){e=o.htmlPrefilter(e);try{for(;r<u;r++)n=this[r]||{},n.nodeType===1&&(o.cleanData(zt(n,!1)),n.innerHTML=e);n=0}catch{}}n&&this.empty().append(e)},null,t,arguments.length)},replaceWith:function(){var t=[];return ae(this,arguments,function(e){var n=this.parentNode;o.inArray(this,t)<0&&(o.cleanData(zt(this)),n&&n.replaceChild(e,this))},t)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){o.fn[t]=function(n){for(var r,u=[],h=o(n),d=h.length-1,T=0;T<=d;T++)r=T===d?this:this.clone(!0),o(h[T])[e](r),S.apply(u,r.get());return this.pushStack(u)}});var $e=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),Fe=function(t){var e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=f),e.getComputedStyle(t)},ti=function(t,e,n){var r,u,h={};for(u in e)h[u]=t.style[u],t.style[u]=e[u];r=n.call(t);for(u in e)t.style[u]=h[u];return r},Mi=new RegExp(Vt.join("|"),"i");(function(){function t(){if(!!k){C.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(C).appendChild(k);var O=f.getComputedStyle(k);n=O.top!=="1%",T=e(O.marginLeft)===12,k.style.right="60%",h=e(O.right)===36,r=e(O.width)===36,k.style.position="absolute",u=e(k.offsetWidth/3)===12,fe.removeChild(C),k=null}}function e(O){return Math.round(parseFloat(O))}var n,r,u,h,d,T,C=ht.createElement("div"),k=ht.createElement("div");!k.style||(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",q.clearCloneStyle=k.style.backgroundClip==="content-box",o.extend(q,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),h},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),T},scrollboxSize:function(){return t(),u},reliableTrDimensions:function(){var O,V,j,P;return d==null&&(O=ht.createElement("table"),V=ht.createElement("tr"),j=ht.createElement("div"),O.style.cssText="position:absolute;left:-11111px;border-collapse:separate",V.style.cssText="border:1px solid",V.style.height="1px",j.style.height="9px",j.style.display="block",fe.appendChild(O).appendChild(V).appendChild(j),P=f.getComputedStyle(V),d=parseInt(P.height,10)+parseInt(P.borderTopWidth,10)+parseInt(P.borderBottomWidth,10)===V.offsetHeight,fe.removeChild(O)),d}}))})();function Ee(t,e,n){var r,u,h,d,T=t.style;return n=n||Fe(t),n&&(d=n.getPropertyValue(e)||n[e],d===""&&!_e(t)&&(d=o.style(t,e)),!q.pixelBoxStyles()&&$e.test(d)&&Mi.test(e)&&(r=T.width,u=T.minWidth,h=T.maxWidth,T.minWidth=T.maxWidth=T.width=d,d=n.width,T.width=r,T.minWidth=u,T.maxWidth=h)),d!==void 0?d+"":d}function Ue(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var ei=["Webkit","Moz","ms"],bi=ht.createElement("div").style,ii={};function Hi(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ei.length;n--;)if(t=ei[n]+e,t in bi)return t}function ni(t){var e=o.cssProps[t]||ii[t];return e||(t in bi?t:ii[t]=Hi(t)||t)}var xi=/^(none|table(?!-c[ea]).+)/,Si=/^--/,wi={position:"absolute",visibility:"hidden",display:"block"},ri={letterSpacing:"0",fontWeight:"400"};function oi(t,e,n){var r=Oe.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Ke(t,e,n,r,u,h){var d=e==="width"?1:0,T=0,C=0;if(n===(r?"border":"content"))return 0;for(;d<4;d+=2)n==="margin"&&(C+=o.css(t,n+Vt[d],!0,u)),r?(n==="content"&&(C-=o.css(t,"padding"+Vt[d],!0,u)),n!=="margin"&&(C-=o.css(t,"border"+Vt[d]+"Width",!0,u))):(C+=o.css(t,"padding"+Vt[d],!0,u),n!=="padding"?C+=o.css(t,"border"+Vt[d]+"Width",!0,u):T+=o.css(t,"border"+Vt[d]+"Width",!0,u));return!r&&h>=0&&(C+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-h-C-T-.5))||0),C}function si(t,e,n){var r=Fe(t),u=!q.boxSizingReliable()||n,h=u&&o.css(t,"boxSizing",!1,r)==="border-box",d=h,T=Ee(t,e,r),C="offset"+e[0].toUpperCase()+e.slice(1);if($e.test(T)){if(!n)return T;T="auto"}return(!q.boxSizingReliable()&&h||!q.reliableTrDimensions()&&bt(t,"tr")||T==="auto"||!parseFloat(T)&&o.css(t,"display",!1,r)==="inline")&&t.getClientRects().length&&(h=o.css(t,"boxSizing",!1,r)==="border-box",d=C in t,d&&(T=t[C])),T=parseFloat(T)||0,T+Ke(t,e,n||(h?"border":"content"),d,r,T)+"px"}o.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ee(t,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var u,h,d,T=oe(e),C=Si.test(e),k=t.style;if(C||(e=ni(T)),d=o.cssHooks[e]||o.cssHooks[T],n!==void 0){if(h=typeof n,h==="string"&&(u=Oe.exec(n))&&u[1]&&(n=gi(t,e,u),h="number"),n==null||n!==n)return;h==="number"&&!C&&(n+=u&&u[3]||(o.cssNumber[T]?"":"px")),!q.clearCloneStyle&&n===""&&e.indexOf("background")===0&&(k[e]="inherit"),(!d||!("set"in d)||(n=d.set(t,n,r))!==void 0)&&(C?k.setProperty(e,n):k[e]=n)}else return d&&"get"in d&&(u=d.get(t,!1,r))!==void 0?u:k[e]}},css:function(t,e,n,r){var u,h,d,T=oe(e),C=Si.test(e);return C||(e=ni(T)),d=o.cssHooks[e]||o.cssHooks[T],d&&"get"in d&&(u=d.get(t,!0,n)),u===void 0&&(u=Ee(t,e,r)),u==="normal"&&e in ri&&(u=ri[e]),n===""||n?(h=parseFloat(u),n===!0||isFinite(h)?h||0:u):u}}),o.each(["height","width"],function(t,e){o.cssHooks[e]={get:function(n,r,u){if(r)return xi.test(o.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?ti(n,wi,function(){return si(n,e,u)}):si(n,e,u)},set:function(n,r,u){var h,d=Fe(n),T=!q.scrollboxSize()&&d.position==="absolute",C=T||u,k=C&&o.css(n,"boxSizing",!1,d)==="border-box",O=u?Ke(n,e,u,k,d):0;return k&&T&&(O-=Math.ceil(n["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(d[e])-Ke(n,e,"border",!1,d)-.5)),O&&(h=Oe.exec(r))&&(h[3]||"px")!=="px"&&(n.style[e]=r,r=o.css(n,e)),oi(n,r,O)}}}),o.cssHooks.marginLeft=Ue(q.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ee(t,"marginLeft"))||t.getBoundingClientRect().left-ti(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(t,e){o.cssHooks[t+e]={expand:function(n){for(var r=0,u={},h=typeof n=="string"?n.split(" "):[n];r<4;r++)u[t+Vt[r]+e]=h[r]||h[r-2]||h[0];return u}},t!=="margin"&&(o.cssHooks[t+e].set=oi)}),o.fn.extend({css:function(t,e){return st(this,function(n,r,u){var h,d,T={},C=0;if(Array.isArray(r)){for(h=Fe(n),d=r.length;C<d;C++)T[r[C]]=o.css(n,r[C],!1,h);return T}return u!==void 0?o.style(n,r,u):o.css(n,r)},t,e,arguments.length>1)}});function $t(t,e,n,r,u){return new $t.prototype.init(t,e,n,r,u)}o.Tween=$t,$t.prototype={constructor:$t,init:function(t,e,n,r,u,h){this.elem=t,this.prop=n,this.easing=u||o.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=h||(o.cssNumber[n]?"":"px")},cur:function(){var t=$t.propHooks[this.prop];return t&&t.get?t.get(this):$t.propHooks._default.get(this)},run:function(t){var e,n=$t.propHooks[this.prop];return this.options.duration?this.pos=e=o.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$t.propHooks._default.set(this),this}},$t.prototype.init.prototype=$t.prototype,$t.propHooks={_default:{get:function(t){var e;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(e=o.css(t.elem,t.prop,""),!e||e==="auto"?0:e)},set:function(t){o.fx.step[t.prop]?o.fx.step[t.prop](t):t.elem.nodeType===1&&(o.cssHooks[t.prop]||t.elem.style[ni(t.prop)]!=null)?o.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$t.propHooks.scrollTop=$t.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},o.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},o.fx=$t.prototype.init,o.fx.step={};var ye,Xe,Ti=/^(?:toggle|show|hide)$/,Ri=/queueHooks$/;function Ye(){Xe&&(ht.hidden===!1&&f.requestAnimationFrame?f.requestAnimationFrame(Ye):f.setTimeout(Ye,o.fx.interval),o.fx.tick())}function Ci(){return f.setTimeout(function(){ye=void 0}),ye=Date.now()}function Ge(t,e){var n,r=0,u={height:t};for(e=e?1:0;r<4;r+=2-e)n=Vt[r],u["margin"+n]=u["padding"+n]=t;return e&&(u.opacity=u.width=t),u}function _i(t,e,n){for(var r,u=(te.tweeners[e]||[]).concat(te.tweeners["*"]),h=0,d=u.length;h<d;h++)if(r=u[h].call(n,e,t))return r}function qi(t,e,n){var r,u,h,d,T,C,k,O,V="width"in e||"height"in e,j=this,P={},it=t.style,dt=t.nodeType&&We(t),nt=at.get(t,"fxshow");n.queue||(d=o._queueHooks(t,"fx"),d.unqueued==null&&(d.unqueued=0,T=d.empty.fire,d.empty.fire=function(){d.unqueued||T()}),d.unqueued++,j.always(function(){j.always(function(){d.unqueued--,o.queue(t,"fx").length||d.empty.fire()})}));for(r in e)if(u=e[r],Ti.test(u)){if(delete e[r],h=h||u==="toggle",u===(dt?"hide":"show"))if(u==="show"&&nt&&nt[r]!==void 0)dt=!0;else continue;P[r]=nt&&nt[r]||o.style(t,r)}if(C=!o.isEmptyObject(e),!(!C&&o.isEmptyObject(P))){V&&t.nodeType===1&&(n.overflow=[it.overflow,it.overflowX,it.overflowY],k=nt&&nt.display,k==null&&(k=at.get(t,"display")),O=o.css(t,"display"),O==="none"&&(k?O=k:(De([t],!0),k=t.style.display||k,O=o.css(t,"display"),De([t]))),(O==="inline"||O==="inline-block"&&k!=null)&&o.css(t,"float")==="none"&&(C||(j.done(function(){it.display=k}),k==null&&(O=it.display,k=O==="none"?"":O)),it.display="inline-block")),n.overflow&&(it.overflow="hidden",j.always(function(){it.overflow=n.overflow[0],it.overflowX=n.overflow[1],it.overflowY=n.overflow[2]})),C=!1;for(r in P)C||(nt?"hidden"in nt&&(dt=nt.hidden):nt=at.access(t,"fxshow",{display:k}),h&&(nt.hidden=!dt),dt&&De([t],!0),j.done(function(){dt||De([t]),at.remove(t,"fxshow");for(r in P)o.style(t,r,P[r])})),C=_i(dt?nt[r]:0,r,j),r in nt||(nt[r]=C.start,dt&&(C.end=C.start,C.start=0))}}function Vi(t,e){var n,r,u,h,d;for(n in t)if(r=oe(n),u=e[r],h=t[n],Array.isArray(h)&&(u=h[1],h=t[n]=h[0]),n!==r&&(t[r]=h,delete t[n]),d=o.cssHooks[r],d&&"expand"in d){h=d.expand(h),delete t[r];for(n in h)n in t||(t[n]=h[n],e[n]=u)}else e[r]=u}function te(t,e,n){var r,u,h=0,d=te.prefilters.length,T=o.Deferred().always(function(){delete C.elem}),C=function(){if(u)return!1;for(var V=ye||Ci(),j=Math.max(0,k.startTime+k.duration-V),P=j/k.duration||0,it=1-P,dt=0,nt=k.tweens.length;dt<nt;dt++)k.tweens[dt].run(it);return T.notifyWith(t,[k,it,j]),it<1&&nt?j:(nt||T.notifyWith(t,[k,1,0]),T.resolveWith(t,[k]),!1)},k=T.promise({elem:t,props:o.extend({},e),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},n),originalProperties:e,originalOptions:n,startTime:ye||Ci(),duration:n.duration,tweens:[],createTween:function(V,j){var P=o.Tween(t,k.opts,V,j,k.opts.specialEasing[V]||k.opts.easing);return k.tweens.push(P),P},stop:function(V){var j=0,P=V?k.tweens.length:0;if(u)return this;for(u=!0;j<P;j++)k.tweens[j].run(1);return V?(T.notifyWith(t,[k,1,0]),T.resolveWith(t,[k,V])):T.rejectWith(t,[k,V]),this}}),O=k.props;for(Vi(O,k.opts.specialEasing);h<d;h++)if(r=te.prefilters[h].call(k,t,O,k.opts),r)return W(r.stop)&&(o._queueHooks(k.elem,k.opts.queue).stop=r.stop.bind(r)),r;return o.map(O,_i,k),W(k.opts.start)&&k.opts.start.call(t,k),k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always),o.fx.timer(o.extend(C,{elem:t,anim:k,queue:k.opts.queue})),k}o.Animation=o.extend(te,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return gi(n.elem,t,Oe.exec(e),n),n}]},tweener:function(t,e){W(t)?(e=t,t=["*"]):t=t.match(Yt);for(var n,r=0,u=t.length;r<u;r++)n=t[r],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(e)},prefilters:[qi],prefilter:function(t,e){e?te.prefilters.unshift(t):te.prefilters.push(t)}}),o.speed=function(t,e,n){var r=t&&typeof t=="object"?o.extend({},t):{complete:n||!n&&e||W(t)&&t,duration:t,easing:n&&e||e&&!W(e)&&e};return o.fx.off?r.duration=0:typeof r.duration!="number"&&(r.duration in o.fx.speeds?r.duration=o.fx.speeds[r.duration]:r.duration=o.fx.speeds._default),(r.queue==null||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){W(r.old)&&r.old.call(this),r.queue&&o.dequeue(this,r.queue)},r},o.fn.extend({fadeTo:function(t,e,n,r){return this.filter(We).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var u=o.isEmptyObject(t),h=o.speed(e,n,r),d=function(){var T=te(this,o.extend({},t),h);(u||at.get(this,"finish"))&&T.stop(!0)};return d.finish=d,u||h.queue===!1?this.each(d):this.queue(h.queue,d)},stop:function(t,e,n){var r=function(u){var h=u.stop;delete u.stop,h(n)};return typeof t!="string"&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var u=!0,h=t!=null&&t+"queueHooks",d=o.timers,T=at.get(this);if(h)T[h]&&T[h].stop&&r(T[h]);else for(h in T)T[h]&&T[h].stop&&Ri.test(h)&&r(T[h]);for(h=d.length;h--;)d[h].elem===this&&(t==null||d[h].queue===t)&&(d[h].anim.stop(n),u=!1,d.splice(h,1));(u||!n)&&o.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=at.get(this),r=n[t+"queue"],u=n[t+"queueHooks"],h=o.timers,d=r?r.length:0;for(n.finish=!0,o.queue(this,t,[]),u&&u.stop&&u.stop.call(this,!0),e=h.length;e--;)h[e].elem===this&&h[e].queue===t&&(h[e].anim.stop(!0),h.splice(e,1));for(e=0;e<d;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),o.each(["toggle","show","hide"],function(t,e){var n=o.fn[e];o.fn[e]=function(r,u,h){return r==null||typeof r=="boolean"?n.apply(this,arguments):this.animate(Ge(e,!0),r,u,h)}}),o.each({slideDown:Ge("show"),slideUp:Ge("hide"),slideToggle:Ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){o.fn[t]=function(n,r,u){return this.animate(e,n,r,u)}}),o.timers=[],o.fx.tick=function(){var t,e=0,n=o.timers;for(ye=Date.now();e<n.length;e++)t=n[e],!t()&&n[e]===t&&n.splice(e--,1);n.length||o.fx.stop(),ye=void 0},o.fx.timer=function(t){o.timers.push(t),o.fx.start()},o.fx.interval=13,o.fx.start=function(){Xe||(Xe=!0,Ye())},o.fx.stop=function(){Xe=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(t,e){return t=o.fx&&o.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(n,r){var u=f.setTimeout(n,t);r.stop=function(){f.clearTimeout(u)}})},function(){var t=ht.createElement("input"),e=ht.createElement("select"),n=e.appendChild(ht.createElement("option"));t.type="checkbox",q.checkOn=t.value!=="",q.optSelected=n.selected,t=ht.createElement("input"),t.value="t",t.type="radio",q.radioValue=t.value==="t"}();var Di,Be=o.expr.attrHandle;o.fn.extend({attr:function(t,e){return st(this,o.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){o.removeAttr(this,t)})}}),o.extend({attr:function(t,e,n){var r,u,h=t.nodeType;if(!(h===3||h===8||h===2)){if(typeof t.getAttribute=="undefined")return o.prop(t,e,n);if((h!==1||!o.isXMLDoc(t))&&(u=o.attrHooks[e.toLowerCase()]||(o.expr.match.bool.test(e)?Di:void 0)),n!==void 0){if(n===null){o.removeAttr(t,e);return}return u&&"set"in u&&(r=u.set(t,n,e))!==void 0?r:(t.setAttribute(e,n+""),n)}return u&&"get"in u&&(r=u.get(t,e))!==null?r:(r=o.find.attr(t,e),r==null?void 0:r)}},attrHooks:{type:{set:function(t,e){if(!q.radioValue&&e==="radio"&&bt(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,u=e&&e.match(Yt);if(u&&t.nodeType===1)for(;n=u[r++];)t.removeAttribute(n)}}),Di={set:function(t,e,n){return e===!1?o.removeAttr(t,n):t.setAttribute(n,n),n}},o.each(o.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Be[e]||o.find.attr;Be[e]=function(r,u,h){var d,T,C=u.toLowerCase();return h||(T=Be[C],Be[C]=d,d=n(r,u,h)!=null?C:null,Be[C]=T),d}});var wn=/^(?:input|select|textarea|button)$/i,Tn=/^(?:a|area)$/i;o.fn.extend({prop:function(t,e){return st(this,o.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[o.propFix[t]||t]})}}),o.extend({prop:function(t,e,n){var r,u,h=t.nodeType;if(!(h===3||h===8||h===2))return(h!==1||!o.isXMLDoc(t))&&(e=o.propFix[e]||e,u=o.propHooks[e]),n!==void 0?u&&"set"in u&&(r=u.set(t,n,e))!==void 0?r:t[e]=n:u&&"get"in u&&(r=u.get(t,e))!==null?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=o.find.attr(t,"tabindex");return e?parseInt(e,10):wn.test(t.nodeName)||Tn.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),q.optSelected||(o.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function Ne(t){var e=t.match(Yt)||[];return e.join(" ")}function Le(t){return t.getAttribute&&t.getAttribute("class")||""}function zi(t){return Array.isArray(t)?t:typeof t=="string"?t.match(Yt)||[]:[]}o.fn.extend({addClass:function(t){var e,n,r,u,h,d,T,C=0;if(W(t))return this.each(function(k){o(this).addClass(t.call(this,k,Le(this)))});if(e=zi(t),e.length){for(;n=this[C++];)if(u=Le(n),r=n.nodeType===1&&" "+Ne(u)+" ",r){for(d=0;h=e[d++];)r.indexOf(" "+h+" ")<0&&(r+=h+" ");T=Ne(r),u!==T&&n.setAttribute("class",T)}}return this},removeClass:function(t){var e,n,r,u,h,d,T,C=0;if(W(t))return this.each(function(k){o(this).removeClass(t.call(this,k,Le(this)))});if(!arguments.length)return this.attr("class","");if(e=zi(t),e.length){for(;n=this[C++];)if(u=Le(n),r=n.nodeType===1&&" "+Ne(u)+" ",r){for(d=0;h=e[d++];)for(;r.indexOf(" "+h+" ")>-1;)r=r.replace(" "+h+" "," ");T=Ne(r),u!==T&&n.setAttribute("class",T)}}return this},toggleClass:function(t,e){var n=typeof t,r=n==="string"||Array.isArray(t);return typeof e=="boolean"&&r?e?this.addClass(t):this.removeClass(t):W(t)?this.each(function(u){o(this).toggleClass(t.call(this,u,Le(this),e),e)}):this.each(function(){var u,h,d,T;if(r)for(h=0,d=o(this),T=zi(t);u=T[h++];)d.hasClass(u)?d.removeClass(u):d.addClass(u);else(t===void 0||n==="boolean")&&(u=Le(this),u&&at.set(this,"__className__",u),this.setAttribute&&this.setAttribute("class",u||t===!1?"":at.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(n.nodeType===1&&(" "+Ne(Le(n))+" ").indexOf(e)>-1)return!0;return!1}});var Cn=/\r/g;o.fn.extend({val:function(t){var e,n,r,u=this[0];return arguments.length?(r=W(t),this.each(function(h){var d;this.nodeType===1&&(r?d=t.call(this,h,o(this).val()):d=t,d==null?d="":typeof d=="number"?d+="":Array.isArray(d)&&(d=o.map(d,function(T){return T==null?"":T+""})),e=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!e||!("set"in e)||e.set(this,d,"value")===void 0)&&(this.value=d))})):u?(e=o.valHooks[u.type]||o.valHooks[u.nodeName.toLowerCase()],e&&"get"in e&&(n=e.get(u,"value"))!==void 0?n:(n=u.value,typeof n=="string"?n.replace(Cn,""):n==null?"":n)):void 0}}),o.extend({valHooks:{option:{get:function(t){var e=o.find.attr(t,"value");return e!=null?e:Ne(o.text(t))}},select:{get:function(t){var e,n,r,u=t.options,h=t.selectedIndex,d=t.type==="select-one",T=d?null:[],C=d?h+1:u.length;for(h<0?r=C:r=d?h:0;r<C;r++)if(n=u[r],(n.selected||r===h)&&!n.disabled&&(!n.parentNode.disabled||!bt(n.parentNode,"optgroup"))){if(e=o(n).val(),d)return e;T.push(e)}return T},set:function(t,e){for(var n,r,u=t.options,h=o.makeArray(e),d=u.length;d--;)r=u[d],(r.selected=o.inArray(o.valHooks.option.get(r),h)>-1)&&(n=!0);return n||(t.selectedIndex=-1),h}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=o.inArray(o(t).val(),e)>-1}},q.checkOn||(o.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})}),q.focusin="onfocusin"in f;var rn=/^(?:focusinfocus|focusoutblur)$/,on=function(t){t.stopPropagation()};o.extend(o.event,{trigger:function(t,e,n,r){var u,h,d,T,C,k,O,V,j=[n||ht],P=R.call(t,"type")?t.type:t,it=R.call(t,"namespace")?t.namespace.split("."):[];if(h=V=d=n=n||ht,!(n.nodeType===3||n.nodeType===8)&&!rn.test(P+o.event.triggered)&&(P.indexOf(".")>-1&&(it=P.split("."),P=it.shift(),it.sort()),C=P.indexOf(":")<0&&"on"+P,t=t[o.expando]?t:new o.Event(P,typeof t=="object"&&t),t.isTrigger=r?2:3,t.namespace=it.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+it.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=e==null?[t]:o.makeArray(e,[t]),O=o.event.special[P]||{},!(!r&&O.trigger&&O.trigger.apply(n,e)===!1))){if(!r&&!O.noBubble&&!pt(n)){for(T=O.delegateType||P,rn.test(T+P)||(h=h.parentNode);h;h=h.parentNode)j.push(h),d=h;d===(n.ownerDocument||ht)&&j.push(d.defaultView||d.parentWindow||f)}for(u=0;(h=j[u++])&&!t.isPropagationStopped();)V=h,t.type=u>1?T:O.bindType||P,k=(at.get(h,"events")||Object.create(null))[t.type]&&at.get(h,"handle"),k&&k.apply(h,e),k=C&&h[C],k&&k.apply&&Te(h)&&(t.result=k.apply(h,e),t.result===!1&&t.preventDefault());return t.type=P,!r&&!t.isDefaultPrevented()&&(!O._default||O._default.apply(j.pop(),e)===!1)&&Te(n)&&C&&W(n[P])&&!pt(n)&&(d=n[C],d&&(n[C]=null),o.event.triggered=P,t.isPropagationStopped()&&V.addEventListener(P,on),n[P](),t.isPropagationStopped()&&V.removeEventListener(P,on),o.event.triggered=void 0,d&&(n[C]=d)),t.result}},simulate:function(t,e,n){var r=o.extend(new o.Event,n,{type:t,isSimulated:!0});o.event.trigger(r,null,e)}}),o.fn.extend({trigger:function(t,e){return this.each(function(){o.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return o.event.trigger(t,e,n,!0)}}),q.focusin||o.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(r){o.event.simulate(e,r.target,o.event.fix(r))};o.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,u=at.access(r,e);u||r.addEventListener(t,n,!0),at.access(r,e,(u||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,u=at.access(r,e)-1;u?at.access(r,e,u):(r.removeEventListener(t,n,!0),at.remove(r,e))}}});var ai=f.location,sn={guid:Date.now()},Wi=/\?/;o.parseXML=function(t){var e,n;if(!t||typeof t!="string")return null;try{e=new f.DOMParser().parseFromString(t,"text/xml")}catch{}return n=e&&e.getElementsByTagName("parsererror")[0],(!e||n)&&o.error("Invalid XML: "+(n?o.map(n.childNodes,function(r){return r.textContent}).join(`
`):t)),e};var _n=/\[\]$/,an=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,kn=/^(?:input|select|textarea|keygen)/i;function $i(t,e,n,r){var u;if(Array.isArray(e))o.each(e,function(h,d){n||_n.test(t)?r(t,d):$i(t+"["+(typeof d=="object"&&d!=null?h:"")+"]",d,n,r)});else if(!n&&Lt(e)==="object")for(u in e)$i(t+"["+u+"]",e[u],n,r);else r(t,e)}o.param=function(t,e){var n,r=[],u=function(h,d){var T=W(d)?d():d;r[r.length]=encodeURIComponent(h)+"="+encodeURIComponent(T==null?"":T)};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!o.isPlainObject(t))o.each(t,function(){u(this.name,this.value)});else for(n in t)$i(n,t[n],e,u);return r.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=o.prop(this,"elements");return t?o.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!o(this).is(":disabled")&&kn.test(this.nodeName)&&!Dn.test(t)&&(this.checked||!Pe.test(t))}).map(function(t,e){var n=o(this).val();return n==null?null:Array.isArray(n)?o.map(n,function(r){return{name:e.name,value:r.replace(an,`\r
`)}}):{name:e.name,value:n.replace(an,`\r
`)}}).get()}});var En=/%20/g,An=/#.*$/,jn=/([?&])_=[^&]*/,In=/^(.*?):[ \t]*([^\r\n]*)$/mg,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Bn=/^\/\//,un={},Fi={},ln="*/".concat("*"),Ui=ht.createElement("a");Ui.href=ai.href;function cn(t){return function(e,n){typeof e!="string"&&(n=e,e="*");var r,u=0,h=e.toLowerCase().match(Yt)||[];if(W(n))for(;r=h[u++];)r[0]==="+"?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function hn(t,e,n,r){var u={},h=t===Fi;function d(T){var C;return u[T]=!0,o.each(t[T]||[],function(k,O){var V=O(e,n,r);if(typeof V=="string"&&!h&&!u[V])return e.dataTypes.unshift(V),d(V),!1;if(h)return!(C=V)}),C}return d(e.dataTypes[0])||!u["*"]&&d("*")}function Ki(t,e){var n,r,u=o.ajaxSettings.flatOptions||{};for(n in e)e[n]!==void 0&&((u[n]?t:r||(r={}))[n]=e[n]);return r&&o.extend(!0,t,r),t}function Nn(t,e,n){for(var r,u,h,d,T=t.contents,C=t.dataTypes;C[0]==="*";)C.shift(),r===void 0&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r){for(u in T)if(T[u]&&T[u].test(r)){C.unshift(u);break}}if(C[0]in n)h=C[0];else{for(u in n){if(!C[0]||t.converters[u+" "+C[0]]){h=u;break}d||(d=u)}h=h||d}if(h)return h!==C[0]&&C.unshift(h),n[h]}function Ln(t,e,n,r){var u,h,d,T,C,k={},O=t.dataTypes.slice();if(O[1])for(d in t.converters)k[d.toLowerCase()]=t.converters[d];for(h=O.shift();h;)if(t.responseFields[h]&&(n[t.responseFields[h]]=e),!C&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),C=h,h=O.shift(),h){if(h==="*")h=C;else if(C!=="*"&&C!==h){if(d=k[C+" "+h]||k["* "+h],!d){for(u in k)if(T=u.split(" "),T[1]===h&&(d=k[C+" "+T[0]]||k["* "+T[0]],d)){d===!0?d=k[u]:k[u]!==!0&&(h=T[0],O.unshift(T[1]));break}}if(d!==!0)if(d&&t.throws)e=d(e);else try{e=d(e)}catch(V){return{state:"parsererror",error:d?V:"No conversion from "+C+" to "+h}}}}return{state:"success",data:e}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ai.href,type:"GET",isLocal:On.test(ai.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ln,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ki(Ki(t,o.ajaxSettings),e):Ki(o.ajaxSettings,t)},ajaxPrefilter:cn(un),ajaxTransport:cn(Fi),ajax:function(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};var n,r,u,h,d,T,C,k,O,V,j=o.ajaxSetup({},e),P=j.context||j,it=j.context&&(P.nodeType||P.jquery)?o(P):o.event,dt=o.Deferred(),nt=o.Callbacks("once memory"),Mt=j.statusCode||{},Nt={},ee={},_t="canceled",ft={readyState:0,getResponseHeader:function(yt){var It;if(C){if(!h)for(h={};It=In.exec(u);)h[It[1].toLowerCase()+" "]=(h[It[1].toLowerCase()+" "]||[]).concat(It[2]);It=h[yt.toLowerCase()+" "]}return It==null?null:It.join(", ")},getAllResponseHeaders:function(){return C?u:null},setRequestHeader:function(yt,It){return C==null&&(yt=ee[yt.toLowerCase()]=ee[yt.toLowerCase()]||yt,Nt[yt]=It),this},overrideMimeType:function(yt){return C==null&&(j.mimeType=yt),this},statusCode:function(yt){var It;if(yt)if(C)ft.always(yt[ft.status]);else for(It in yt)Mt[It]=[Mt[It],yt[It]];return this},abort:function(yt){var It=yt||_t;return n&&n.abort(It),Jt(0,It),this}};if(dt.promise(ft),j.url=((t||j.url||ai.href)+"").replace(Bn,ai.protocol+"//"),j.type=e.method||e.type||j.method||j.type,j.dataTypes=(j.dataType||"*").toLowerCase().match(Yt)||[""],j.crossDomain==null){T=ht.createElement("a");try{T.href=j.url,T.href=T.href,j.crossDomain=Ui.protocol+"//"+Ui.host!=T.protocol+"//"+T.host}catch{j.crossDomain=!0}}if(j.data&&j.processData&&typeof j.data!="string"&&(j.data=o.param(j.data,j.traditional)),hn(un,j,e,ft),C)return ft;k=o.event&&j.global,k&&o.active++===0&&o.event.trigger("ajaxStart"),j.type=j.type.toUpperCase(),j.hasContent=!Pn.test(j.type),r=j.url.replace(An,""),j.hasContent?j.data&&j.processData&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(j.data=j.data.replace(En,"+")):(V=j.url.slice(r.length),j.data&&(j.processData||typeof j.data=="string")&&(r+=(Wi.test(r)?"&":"?")+j.data,delete j.data),j.cache===!1&&(r=r.replace(jn,"$1"),V=(Wi.test(r)?"&":"?")+"_="+sn.guid+++V),j.url=r+V),j.ifModified&&(o.lastModified[r]&&ft.setRequestHeader("If-Modified-Since",o.lastModified[r]),o.etag[r]&&ft.setRequestHeader("If-None-Match",o.etag[r])),(j.data&&j.hasContent&&j.contentType!==!1||e.contentType)&&ft.setRequestHeader("Content-Type",j.contentType),ft.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+(j.dataTypes[0]!=="*"?", "+ln+"; q=0.01":""):j.accepts["*"]);for(O in j.headers)ft.setRequestHeader(O,j.headers[O]);if(j.beforeSend&&(j.beforeSend.call(P,ft,j)===!1||C))return ft.abort();if(_t="abort",nt.add(j.complete),ft.done(j.success),ft.fail(j.error),n=hn(Fi,j,e,ft),!n)Jt(-1,"No Transport");else{if(ft.readyState=1,k&&it.trigger("ajaxSend",[ft,j]),C)return ft;j.async&&j.timeout>0&&(d=f.setTimeout(function(){ft.abort("timeout")},j.timeout));try{C=!1,n.send(Nt,Jt)}catch(yt){if(C)throw yt;Jt(-1,yt)}}function Jt(yt,It,li,ki){var ie,Me,He,Zt,Ae,se=It;C||(C=!0,d&&f.clearTimeout(d),n=void 0,u=ki||"",ft.readyState=yt>0?4:0,ie=yt>=200&&yt<300||yt===304,li&&(Zt=Nn(j,ft,li)),!ie&&o.inArray("script",j.dataTypes)>-1&&o.inArray("json",j.dataTypes)<0&&(j.converters["text script"]=function(){}),Zt=Ln(j,Zt,ft,ie),ie?(j.ifModified&&(Ae=ft.getResponseHeader("Last-Modified"),Ae&&(o.lastModified[r]=Ae),Ae=ft.getResponseHeader("etag"),Ae&&(o.etag[r]=Ae)),yt===204||j.type==="HEAD"?se="nocontent":yt===304?se="notmodified":(se=Zt.state,Me=Zt.data,He=Zt.error,ie=!He)):(He=se,(yt||!se)&&(se="error",yt<0&&(yt=0))),ft.status=yt,ft.statusText=(It||se)+"",ie?dt.resolveWith(P,[Me,se,ft]):dt.rejectWith(P,[ft,se,He]),ft.statusCode(Mt),Mt=void 0,k&&it.trigger(ie?"ajaxSuccess":"ajaxError",[ft,j,ie?Me:He]),nt.fireWith(P,[ft,se]),k&&(it.trigger("ajaxComplete",[ft,j]),--o.active||o.event.trigger("ajaxStop")))}return ft},getJSON:function(t,e,n){return o.get(t,e,n,"json")},getScript:function(t,e){return o.get(t,void 0,e,"script")}}),o.each(["get","post"],function(t,e){o[e]=function(n,r,u,h){return W(r)&&(h=h||u,u=r,r=void 0),o.ajax(o.extend({url:n,type:e,dataType:h,data:r,success:u},o.isPlainObject(n)&&n))}}),o.ajaxPrefilter(function(t){var e;for(e in t.headers)e.toLowerCase()==="content-type"&&(t.contentType=t.headers[e]||"")}),o._evalUrl=function(t,e,n){return o.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(r){o.globalEval(r,e,n)}})},o.fn.extend({wrapAll:function(t){var e;return this[0]&&(W(t)&&(t=t.call(this[0])),e=o(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(t){return W(t)?this.each(function(e){o(this).wrapInner(t.call(this,e))}):this.each(function(){var e=o(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=W(t);return this.each(function(n){o(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(t){return!o.expr.pseudos.visible(t)},o.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new f.XMLHttpRequest}catch{}};var Mn={0:200,1223:204},ui=o.ajaxSettings.xhr();q.cors=!!ui&&"withCredentials"in ui,q.ajax=ui=!!ui,o.ajaxTransport(function(t){var e,n;if(q.cors||ui&&!t.crossDomain)return{send:function(r,u){var h,d=t.xhr();if(d.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(h in t.xhrFields)d[h]=t.xhrFields[h];t.mimeType&&d.overrideMimeType&&d.overrideMimeType(t.mimeType),!t.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");for(h in r)d.setRequestHeader(h,r[h]);e=function(T){return function(){e&&(e=n=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,T==="abort"?d.abort():T==="error"?typeof d.status!="number"?u(0,"error"):u(d.status,d.statusText):u(Mn[d.status]||d.status,d.statusText,(d.responseType||"text")!=="text"||typeof d.responseText!="string"?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},d.onload=e(),n=d.onerror=d.ontimeout=e("error"),d.onabort!==void 0?d.onabort=n:d.onreadystatechange=function(){d.readyState===4&&f.setTimeout(function(){e&&n()})},e=e("abort");try{d.send(t.hasContent&&t.data||null)}catch(T){if(e)throw T}},abort:function(){e&&e()}}}),o.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return o.globalEval(t),t}}}),o.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),o.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,n;return{send:function(r,u){e=o("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(h){e.remove(),n=null,h&&u(h.type==="error"?404:200,h.type)}),ht.head.appendChild(e[0])},abort:function(){n&&n()}}}});var fn=[],Xi=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=fn.pop()||o.expando+"_"+sn.guid++;return this[t]=!0,t}}),o.ajaxPrefilter("json jsonp",function(t,e,n){var r,u,h,d=t.jsonp!==!1&&(Xi.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Xi.test(t.data)&&"data");if(d||t.dataTypes[0]==="jsonp")return r=t.jsonpCallback=W(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,d?t[d]=t[d].replace(Xi,"$1"+r):t.jsonp!==!1&&(t.url+=(Wi.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return h||o.error(r+" was not called"),h[0]},t.dataTypes[0]="json",u=f[r],f[r]=function(){h=arguments},n.always(function(){u===void 0?o(f).removeProp(r):f[r]=u,t[r]&&(t.jsonpCallback=e.jsonpCallback,fn.push(r)),h&&W(u)&&u(h[0]),h=u=void 0}),"script"}),q.createHTMLDocument=function(){var t=ht.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),o.parseHTML=function(t,e,n){if(typeof t!="string")return[];typeof e=="boolean"&&(n=e,e=!1);var r,u,h;return e||(q.createHTMLDocument?(e=ht.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=ht.location.href,e.head.appendChild(r)):e=ht),u=de.exec(t),h=!n&&[],u?[e.createElement(u[1])]:(u=v([t],e,h),h&&h.length&&o(h).remove(),o.merge([],u.childNodes))},o.fn.load=function(t,e,n){var r,u,h,d=this,T=t.indexOf(" ");return T>-1&&(r=Ne(t.slice(T)),t=t.slice(0,T)),W(e)?(n=e,e=void 0):e&&typeof e=="object"&&(u="POST"),d.length>0&&o.ajax({url:t,type:u||"GET",dataType:"html",data:e}).done(function(C){h=arguments,d.html(r?o("<div>").append(o.parseHTML(C)).find(r):C)}).always(n&&function(C,k){d.each(function(){n.apply(this,h||[C.responseText,k,C])})}),this},o.expr.pseudos.animated=function(t){return o.grep(o.timers,function(e){return t===e.elem}).length},o.offset={setOffset:function(t,e,n){var r,u,h,d,T,C,k,O=o.css(t,"position"),V=o(t),j={};O==="static"&&(t.style.position="relative"),T=V.offset(),h=o.css(t,"top"),C=o.css(t,"left"),k=(O==="absolute"||O==="fixed")&&(h+C).indexOf("auto")>-1,k?(r=V.position(),d=r.top,u=r.left):(d=parseFloat(h)||0,u=parseFloat(C)||0),W(e)&&(e=e.call(t,n,o.extend({},T))),e.top!=null&&(j.top=e.top-T.top+d),e.left!=null&&(j.left=e.left-T.left+u),"using"in e?e.using.call(t,j):V.css(j)}},o.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(u){o.offset.setOffset(this,t,u)});var e,n,r=this[0];if(!!r)return r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var t,e,n,r=this[0],u={top:0,left:0};if(o.css(r,"position")==="fixed")e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&o.css(t,"position")==="static";)t=t.parentNode;t&&t!==r&&t.nodeType===1&&(u=o(t).offset(),u.top+=o.css(t,"borderTopWidth",!0),u.left+=o.css(t,"borderLeftWidth",!0))}return{top:e.top-u.top-o.css(r,"marginTop",!0),left:e.left-u.left-o.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&o.css(t,"position")==="static";)t=t.offsetParent;return t||fe})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=e==="pageYOffset";o.fn[t]=function(r){return st(this,function(u,h,d){var T;if(pt(u)?T=u:u.nodeType===9&&(T=u.defaultView),d===void 0)return T?T[e]:u[h];T?T.scrollTo(n?T.pageXOffset:d,n?d:T.pageYOffset):u[h]=d},t,r,arguments.length)}}),o.each(["top","left"],function(t,e){o.cssHooks[e]=Ue(q.pixelPosition,function(n,r){if(r)return r=Ee(n,e),$e.test(r)?o(n).position()[e]+"px":r})}),o.each({Height:"height",Width:"width"},function(t,e){o.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){o.fn[r]=function(u,h){var d=arguments.length&&(n||typeof u!="boolean"),T=n||(u===!0||h===!0?"margin":"border");return st(this,function(C,k,O){var V;return pt(C)?r.indexOf("outer")===0?C["inner"+t]:C.document.documentElement["client"+t]:C.nodeType===9?(V=C.documentElement,Math.max(C.body["scroll"+t],V["scroll"+t],C.body["offset"+t],V["offset"+t],V["client"+t])):O===void 0?o.css(C,k,T):o.style(C,k,O,T)},e,d?u:void 0,d)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){o.fn[e]=function(n){return this.on(e,n)}}),o.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return arguments.length===1?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){o.fn[e]=function(n,r){return arguments.length>0?this.on(e,null,n,r):this.trigger(e)}});var Hn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;o.proxy=function(t,e){var n,r,u;if(typeof e=="string"&&(n=t[e],e=t,t=n),!!W(t))return r=l.call(arguments,2),u=function(){return t.apply(e||this,r.concat(l.call(arguments)))},u.guid=t.guid=t.guid||o.guid++,u},o.holdReady=function(t){t?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=bt,o.isFunction=W,o.isWindow=pt,o.camelCase=oe,o.type=Lt,o.now=Date.now,o.isNumeric=function(t){var e=o.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))},o.trim=function(t){return t==null?"":(t+"").replace(Hn,"")};var Rn=f.jQuery,qn=f.$;return o.noConflict=function(t){return f.$===o&&(f.$=qn),t&&f.jQuery===o&&(f.jQuery=Rn),o},typeof m=="undefined"&&(f.jQuery=f.$=o),o})})(jquery);var $=jquery.exports;function _typeof(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(f){return typeof f}:_typeof=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof(c)}function _classCallCheck(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function _defineProperties(c,f){for(var m=0;m<f.length;m++){var p=f[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}function _createClass(c,f,m){return f&&_defineProperties(c.prototype,f),m&&_defineProperties(c,m),c}var Constants={VERSION:"2.0.16",NOTES:[],HEADER_CHUNK_LENGTH:14,CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},allNotes=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],counter=0,_loop=function(f){allNotes.forEach(function(m){m.forEach(function(p){return Constants.NOTES[counter]=p+f}),counter++})};for(var i=-1;i<=9;i++)_loop(i);var Utils=function(){function c(){_classCallCheck(this,c)}return _createClass(c,null,[{key:"byteToHex",value:function(m){return("0"+m.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(m){var p=[];return m.forEach(function(a){return p.push(c.byteToHex(a))}),p.join("")}},{key:"hexToNumber",value:function(m){return parseInt(m,16)}},{key:"bytesToNumber",value:function(m){return c.hexToNumber(c.bytesToHex(m))}},{key:"bytesToLetters",value:function(m){var p=[];return m.forEach(function(a){return p.push(String.fromCharCode(a))}),p.join("")}},{key:"decToBinary",value:function(m){return(m>>>0).toString(2)}},{key:"getVarIntLength",value:function(m){for(var p=m[0],a=1;p>=128;)p=m[a],a++;return a}},{key:"readVarInt",value:function(m){var p=0;return m.forEach(function(a){var l=a;l&128?(p+=l&127,p<<=7):p+=l}),p}},{key:"atob",value:function(f){function m(p){return f.apply(this,arguments)}return m.toString=function(){return f.toString()},m}(function(f){return typeof atob=="function"?atob(f):Buffer.from(f,"base64").toString("binary")})}]),c}(),Track=function(){function c(f,m){_classCallCheck(this,c),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=f,this.data=m,this.delta=0,this.runningDelta=0,this.events=[];var p=this.data.subarray(this.data.length-3,this.data.length);if(!(p[0]===255&&p[1]===47&&p[2]===0))throw"Invalid MIDI file; Last three bytes of track "+this.index+"must be FF 2F 00 to mark end of track"}return _createClass(c,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(m){m=m||0;for(var p in this.events)if(this.events[p].tick>=m)return this.eventIndex=p,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){return Utils.getVarIntLength(this.data.subarray(this.pointer))}},{key:"getDelta",value:function(){return Utils.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(m,p){if(p=p||!1,p){var a=m-this.lastTick,l=this.getDelta(),y=a>=l;if(this.pointer<this.data.length&&(p||y)){var S=this.parseEvent();if(this.enabled)return S}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=m&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(m){var p=Utils.getVarIntLength(this.data.subarray(m+2)),a=Utils.readVarInt(this.data.subarray(m+2,m+2+p)),l=Utils.bytesToLetters(this.data.subarray(m+2+p,m+2+p+a));return l}},{key:"parseEvent",value:function(){var m=this.pointer+this.getDeltaByteCount(),p={},a=this.getDeltaByteCount();if(p.track=this.index+1,p.delta=this.getDelta(),this.lastTick=this.lastTick+p.delta,this.runningDelta+=p.delta,p.tick=this.runningDelta,p.byteIndex=this.pointer,this.data[m]==255){switch(this.data[m+1]){case 0:p.name="Sequence Number";break;case 1:p.name="Text Event",p.string=this.getStringData(m);break;case 2:p.name="Copyright Notice";break;case 3:p.name="Sequence/Track Name",p.string=this.getStringData(m);break;case 4:p.name="Instrument Name",p.string=this.getStringData(m);break;case 5:p.name="Lyric",p.string=this.getStringData(m);break;case 6:p.name="Marker";break;case 7:p.name="Cue Point",p.string=this.getStringData(m);break;case 9:p.name="Device Name",p.string=this.getStringData(m);break;case 32:p.name="MIDI Channel Prefix";break;case 33:p.name="MIDI Port",p.data=Utils.bytesToNumber([this.data[m+3]]);break;case 47:p.name="End of Track";break;case 81:p.name="Set Tempo",p.data=Math.round(6e7/Utils.bytesToNumber(this.data.subarray(m+3,m+6))),this.tempo=p.data;break;case 84:p.name="SMTPE Offset";break;case 88:p.name="Time Signature",p.data=this.data.subarray(m+3,m+7),p.timeSignature=""+p.data[0]+"/"+Math.pow(2,p.data[1]);break;case 89:p.name="Key Signature",p.data=this.data.subarray(m+3,m+5),p.data[0]>=0?p.keySignature=Constants.CIRCLE_OF_FIFTHS[p.data[0]]:p.data[0]<0&&(p.keySignature=Constants.CIRCLE_OF_FOURTHS[Math.abs(p.data[0])]),p.data[1]==0?p.keySignature+=" Major":p.data[1]==1&&(p.keySignature+=" Minor");break;case 127:p.name="Sequencer-Specific Meta-event";break;default:p.name="Unknown: "+this.data[m+1].toString(16);break}var l=Utils.getVarIntLength(this.data.subarray(m+2)),y=Utils.readVarInt(this.data.subarray(m+2,m+2+l));this.pointer+=a+3+y}else if(this.data[m]===240){p.name="Sysex";var S=Utils.getVarIntLength(this.data.subarray(m+1)),A=Utils.readVarInt(this.data.subarray(m+1,m+1+S));p.data=this.data.subarray(m+1+S,m+1+S+A),this.pointer+=a+1+S+A}else if(this.data[m]===247){p.name="Sysex (escape)";var I=Utils.getVarIntLength(this.data.subarray(m+1)),U=Utils.readVarInt(this.data.subarray(m+1,m+1+I));p.data=this.data.subarray(m+1+I,m+1+I+U),this.pointer+=a+1+I+U}else if(this.data[m]<128)if(p.running=!0,p.noteNumber=this.data[m],p.noteName=Constants.NOTES[this.data[m]],p.velocity=this.data[m+1],this.lastStatus<=143)p.name="Note off",p.channel=this.lastStatus-128+1,this.pointer+=a+2;else if(this.lastStatus<=159)p.name="Note on",p.channel=this.lastStatus-144+1,this.pointer+=a+2;else if(this.lastStatus<=175)p.name="Polyphonic Key Pressure",p.channel=this.lastStatus-160+1,p.note=Constants.NOTES[this.data[m+1]],p.pressure=event[1],this.pointer+=a+2;else if(this.lastStatus<=191)p.name="Controller Change",p.channel=this.lastStatus-176+1,p.number=this.data[m+1],p.value=this.data[m+2],this.pointer+=a+2;else if(this.lastStatus<=207)p.name="Program Change",p.channel=this.lastStatus-192+1,p.value=this.data[m+1],this.pointer+=a+1;else if(this.lastStatus<=223)p.name="Channel Key Pressure",p.channel=this.lastStatus-208+1,this.pointer+=a+1;else if(this.lastStatus<=239)p.name="Pitch Bend",p.channel=this.lastStatus-224+1,p.value=this.data[m+2],this.pointer+=a+2;else throw"Unknown event (running): ".concat(this.lastStatus);else if(this.lastStatus=this.data[m],this.data[m]<=143)p.name="Note off",p.channel=this.lastStatus-128+1,p.noteNumber=this.data[m+1],p.noteName=Constants.NOTES[this.data[m+1]],p.velocity=Math.round(this.data[m+2]/127*100),this.pointer+=a+3;else if(this.data[m]<=159)p.name="Note on",p.channel=this.lastStatus-144+1,p.noteNumber=this.data[m+1],p.noteName=Constants.NOTES[this.data[m+1]],p.velocity=Math.round(this.data[m+2]/127*100),this.pointer+=a+3;else if(this.data[m]<=175)p.name="Polyphonic Key Pressure",p.channel=this.lastStatus-160+1,p.note=Constants.NOTES[this.data[m+1]],p.pressure=event[2],this.pointer+=a+3;else if(this.data[m]<=191)p.name="Controller Change",p.channel=this.lastStatus-176+1,p.number=this.data[m+1],p.value=this.data[m+2],this.pointer+=a+3;else if(this.data[m]<=207)p.name="Program Change",p.channel=this.lastStatus-192+1,p.value=this.data[m+1],this.pointer+=a+2;else if(this.data[m]<=223)p.name="Channel Key Pressure",p.channel=this.lastStatus-208+1,this.pointer+=a+2;else if(this.data[m]<=239)p.name="Pitch Bend",p.channel=this.lastStatus-224+1,this.pointer+=a+3;else throw"Unknown event: ".concat(this.data[m]);return this.delta+=p.delta,this.events.push(p),p}},{key:"endOfTrack",value:function(){return this.data[this.pointer+1]==255&&this.data[this.pointer+2]==47&&this.data[this.pointer+3]==0}}]),c}();Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var Player=function(){function c(f,m){_classCallCheck(this,c),this.sampleRate=5,this.startTime=0,this.buffer=m||null,this.midiChunksByteLength=null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},typeof f=="function"&&this.on("midiEvent",f)}return _createClass(c,[{key:"loadFile",value:function(m){throw"loadFile is only supported on Node.js"}},{key:"loadArrayBuffer",value:function(m){return this.buffer=new Uint8Array(m),this.fileLoaded()}},{key:"loadDataUri",value:function(m){for(var p=Utils.atob(m.split(",")[1]),a=new Uint8Array(p.length),l=0;l<p.length;l++)a[l]=p.charCodeAt(l);return this.buffer=a,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return Utils.bytesToLetters(this.buffer.subarray(0,4))==="MThd"}},{key:"getFormat",value:function(){return this.format=Utils.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var m=0;m<this.buffer.length;){if(Utils.bytesToLetters(this.buffer.subarray(m,m+4))=="MTrk"){var p=Utils.bytesToNumber(this.buffer.subarray(m+4,m+8));this.tracks.push(new Track(this.tracks.length,this.buffer.subarray(m+8,m+8+p)))}m+=Utils.bytesToNumber(this.buffer.subarray(m+4,m+8))+8}var a=0;return this.tracks.forEach(function(l){a+=8+l.data.length}),this.midiChunksByteLength=Constants.HEADER_CHUNK_LENGTH+a,this}},{key:"enableTrack",value:function(m){return this.tracks[m-1].enable(),this}},{key:"disableTrack",value:function(m){return this.tracks[m-1].disable(),this}},{key:"getDivision",value:function(){return this.division=Utils.bytesToNumber(this.buffer.subarray(12,Constants.HEADER_CHUNK_LENGTH)),this}},{key:"playLoop",value:function(m){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(p,a){if(!m&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var l=p.handleEvent(this.tick,m);m&&l?(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.defaultTempo=l.data,this.setTempo(l.data)),l.hasOwnProperty("name")&&l.name==="Program Change"&&(this.instruments.includes(l.value)||this.instruments.push(l.value))):l&&(l.hasOwnProperty("name")&&l.name==="Set Tempo"&&(this.setTempo(l.data),this.isPlaying()&&this.pause().play()),this.emitEvent(l))}},this),m||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(m){return this.tempo=m,this}},{key:"setStartTime",value:function(m){return this.startTime=m,this}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=new Date().getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"loop",value:function(){setTimeout(function(){this.playLoop(),this.loop()}.bind(this),this.sampleRate)}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(m){return this.stop(),this.startTick=m,this.tracks.forEach(function(p){p.setEventIndexByTick(m)}),this}},{key:"skipToPercent",value:function(m){if(m<0||m>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(m/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(m){var p=this.getSongTime();if(m<0||m>p)throw m+" seconds not within song time of "+p;return this.skipToPercent(m/p*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||_typeof(this.setIntervalId)==="object"}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(m){return m.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(m){return m.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(m){return m.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(m,p){return{events:{length:m.events.length+p.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return Constants.HEADER_CHUNK_LENGTH+this.tracks.length*8+this.tracks.reduce(function(m,p){return{pointer:m.pointer+p.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(m,p){return{eventIndex:m.eventIndex+p.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()>=this.midiChunksByteLength}},{key:"getCurrentTick",value:function(){return this.startTime?Math.round((new Date().getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:this.startTick}},{key:"emitEvent",value:function(m){return this.triggerPlayerEvent("midiEvent",m),this}},{key:"on",value:function(m,p){return this.eventListeners.hasOwnProperty(m)||(this.eventListeners[m]=[]),this.eventListeners[m].push(p),this}},{key:"triggerPlayerEvent",value:function(m,p){return this.eventListeners.hasOwnProperty(m)&&this.eventListeners[m].forEach(function(a){return a(p||{})}),this}}]),c}(),index={Player,Utils,Constants},lib$2={exports:{}},lib$1={exports:{}};function b64ToUint6(c){return c>64&&c<91?c-65:c>96&&c<123?c-71:c>47&&c<58?c+4:c===43?62:c===47?63:0}function decode(c,f){for(var m=c.replace(/[^A-Za-z0-9\+\/]/g,""),p=m.length,a=f?Math.ceil((p*3+1>>2)/f)*f:p*3+1>>2,l=new Uint8Array(a),y,S,A=0,I=0,U=0;U<p;U++)if(S=U&3,A|=b64ToUint6(m.charCodeAt(U))<<18-6*S,S===3||p-U===1){for(y=0;y<3&&I<a;y++,I++)l[I]=A>>>(16>>>y&24)&255;A=0}return l}var base64={decode},fetch=function(c,f){return new Promise(function(m,p){var a=new XMLHttpRequest;f&&(a.responseType=f),a.open("GET",c),a.onload=function(){a.status===200?m(a.response):p(Error(a.statusText))},a.onerror=function(){p(Error("Network Error"))},a.send()})};(function(c){var f=base64,m=fetch;function p(Q){return function(X){return typeof X=="string"&&Q.test(X)}}function a(Q,X){return typeof Q=="string"?Q+X:typeof Q=="function"?Q(X):X}function l(Q,X,vt,Ct){var Kt=y(X)?S:A(X)?I:U(X)?R:M(X)?K:q(X)?W:pt(X)?ht:Ut(X)?Tt:Lt(X)?jt:null,bt=vt||{};return Kt?Kt(Q,X,bt):Ct?Promise.resolve(Ct):Promise.reject("Source not valid ("+X+")")}l.fetch=m;function y(Q){return Q instanceof ArrayBuffer}function S(Q,X,vt){return new Promise(function(Ct,Kt){Q.decodeAudioData(X,function(bt){Ct(bt)},function(){Kt("Can't decode audio data ("+X.slice(0,30)+"...)")})})}var A=p(/\.(mp3|wav|ogg)(\?.*)?$/i);function I(Q,X,vt){var Ct=a(vt.from,X);return l(Q,l.fetch(Ct,"arraybuffer"),vt)}function U(Q){return Q&&typeof Q.then=="function"}function R(Q,X,vt){return X.then(function(Ct){return l(Q,Ct,vt)})}var M=Array.isArray;function K(Q,X,vt){return Promise.all(X.map(function(Ct){return l(Q,Ct,vt,Ct)}))}function q(Q){return Q&&typeof Q=="object"}function W(Q,X,vt){var Ct={},Kt=Object.keys(X).map(function(bt){if(vt.only&&vt.only.indexOf(bt)===-1)return null;var de=X[bt];return l(Q,de,vt,de).then(function(Et){Ct[bt]=Et})});return Promise.all(Kt).then(function(){return Ct})}var pt=p(/\.json(\?.*)?$/i);function ht(Q,X,vt){var Ct=a(vt.from,X);return l(Q,l.fetch(Ct,"text").then(JSON.parse),vt)}var Ut=p(/^data:audio/);function Tt(Q,X,vt){var Ct=X.indexOf(",");return l(Q,f.decode(X.slice(Ct+1)).buffer,vt)}var Lt=p(/\.js(\?.*)?$/i);function jt(Q,X,vt){var Ct=a(vt.from,X);return l(Q,l.fetch(Ct,"text").then(o),vt)}function o(Q){var X=Q.indexOf("MIDI.Soundfont.");if(X<0)throw Error("Invalid MIDI.js Soundfont format");X=Q.indexOf("=",X)+2;var vt=Q.lastIndexOf(",");return JSON.parse(Q.slice(X,vt)+"}")}c.exports&&(c.exports=l),typeof window!="undefined"&&(window.loadAudio=l)})(lib$1);var lib={exports:{}},adsr=ADSR$1;function ADSR$1(c){var f=c.createGain(),m=f._voltage=getVoltage(c),p=scale(m),a=scale(m),l=scale(m);return f._startAmount=scale(a),f._endAmount=scale(l),f._multiplier=scale(p),f._multiplier.connect(f),f._startAmount.connect(f),f._endAmount.connect(f),f.value=p.gain,f.startValue=a.gain,f.endValue=l.gain,f.startValue.value=0,f.endValue.value=0,Object.defineProperties(f,props),f}var props={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(c){var f=this._multiplier.gain,m=this._startAmount.gain,p=this._endAmount.gain;this._voltage.start(c),this._decayFrom=this._decayFrom=c+this.attack,this._startedAt=c;var a=this.sustain;f.cancelScheduledValues(c),m.cancelScheduledValues(c),p.cancelScheduledValues(c),p.setValueAtTime(0,c),this.attack?(f.setValueAtTime(0,c),f.linearRampToValueAtTime(1,c+this.attack),m.setValueAtTime(1,c),m.linearRampToValueAtTime(0,c+this.attack)):(f.setValueAtTime(1,c),m.setValueAtTime(0,c)),this.decay&&f.setTargetAtTime(a,this._decayFrom,getTimeConstant(this.decay))}},stop:{value:function(c,f){f&&(c=c-this.release);var m=c+this.release;if(this.release){var p=this._multiplier.gain,a=this._startAmount.gain,l=this._endAmount.gain;p.cancelScheduledValues(c),a.cancelScheduledValues(c),l.cancelScheduledValues(c);var y=getTimeConstant(this.release);if(this.attack&&c<this._decayFrom){var S=getValue(0,1,this._startedAt,this._decayFrom,c);p.linearRampToValueAtTime(S,c),a.linearRampToValueAtTime(1-S,c),a.setTargetAtTime(0,c,y)}l.setTargetAtTime(1,c,y),p.setTargetAtTime(0,c,y)}return this._voltage.stop(m),m}},onended:{get:function(){return this._voltage.onended},set:function(c){this._voltage.onended=c}}},flat=new Float32Array([1,1]);function getVoltage(c){var f=c.createBufferSource(),m=c.createBuffer(1,2,c.sampleRate);return m.getChannelData(0).set(flat),f.buffer=m,f.loop=!0,f}function scale(c){var f=c.context.createGain();return c.connect(f),f}function getTimeConstant(c){return Math.log(c+1)/Math.log(100)}function getValue(c,f,m,p,a){var l=f-c,y=p-m,S=a-m,A=S/y,I=c+A*l;return I<=c&&(I=c),I>=f&&(I=f),I}var ADSR=adsr,EMPTY={},DEFAULTS={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function SamplePlayer(c,f,m){var p=!1,a=0,l={},y=c.createGain();y.gain.value=1;var S=Object.assign({},DEFAULTS,m),A={context:c,out:y,opts:S};return f instanceof AudioBuffer?A.buffer=f:A.buffers=f,A.start=function(R,M,K){if(A.buffer&&R!==null)return A.start(null,R,M);var q=R?A.buffers[R]:A.buffer;if(q){if(!p){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+R+" not found.");return}var W=K||EMPTY;M=Math.max(c.currentTime,M||0),A.emit("start",M,R,W);var pt=U(R,q,W);return pt.id=I(R,pt),pt.env.start(M),pt.source.start(M),A.emit("started",M,pt.id,pt),W.duration&&pt.stop(M+W.duration),pt},A.play=function(R,M,K){return A.start(R,M,K)},A.stop=function(R,M){var K;return M=M||Object.keys(l),M.map(function(q){return K=l[q],K?(K.stop(R),K.id):null})},A.connect=function(R){return p=!0,y.connect(R),A},A.emit=function(R,M,K,q){A.onevent&&A.onevent(R,M,K,q);var W=A["on"+R];W&&W(M,K,q)},A;function I(R,M){return M.id=a++,l[M.id]=M,M.source.onended=function(){var K=c.currentTime;M.source.disconnect(),M.env.disconnect(),M.disconnect(),A.emit("ended",K,M.id,M)},M.id}function U(R,M,K){var q=c.createGain();return q.gain.value=0,q.connect(y),q.env=envelope(c,K,S),q.env.connect(q.gain),q.source=c.createBufferSource(),q.source.buffer=M,q.source.connect(q),q.source.loop=K.loop||S.loop,q.source.playbackRate.value=centsToRate(K.cents||S.cents),q.source.loopStart=K.loopStart||S.loopStart,q.source.loopEnd=K.loopEnd||S.loopEnd,q.stop=function(W){var pt=W||c.currentTime;A.emit("stop",pt,R);var ht=q.env.stop(pt);q.source.stop(ht)},q}}function isNum$1(c){return typeof c=="number"}var PARAMS=["attack","decay","sustain","release"];function envelope(c,f,m){var p=ADSR(c),a=f.adsr||m.adsr;return PARAMS.forEach(function(l,y){a?p[l]=a[y]:p[l]=f[l]||m[l]}),p.value.value=isNum$1(f.gain)?f.gain:isNum$1(m.gain)?m.gain:1,p}function centsToRate(c){return c?Math.pow(2,c/1200):1}var player=SamplePlayer,events=function(c){return c.on=function(f,m){if(arguments.length===1&&typeof f=="function")return c.on("event",f);var p="on"+f,a=c[p];return c[p]=a?chain(a,m):m,c},c};function chain(c,f){return function(m,p,a,l){c(m,p,a,l),f(m,p,a,l)}}var REGEX$1=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function regex$1(){return REGEX$1}var SEMITONES$1=[0,2,4,5,7,9,11];function parse$1(c,f,m){if(typeof c!="string")return null;var p=REGEX$1.exec(c);if(!p||!f&&p[4])return null;var a={letter:p[1].toUpperCase(),acc:p[2].replace(/x/g,"##")};return a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length,a.chroma=SEMITONES$1[a.step]+a.alt,p[3]&&(a.oct=+p[3],a.midi=a.chroma+12*(a.oct+1),a.freq=midiToFreq$1(a.midi,m)),f&&(a.tonicOf=p[4]),a}function midiToFreq$1(c,f){return Math.pow(2,(c-69)/12)*(f||440)}var parser$1={parse:parse$1,regex:regex$1,midiToFreq:midiToFreq$1},FNS=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];FNS.forEach(function(c){parser$1[c]=function(f){var m=parse$1(f);return m&&typeof m[c]!="undefined"?m[c]:null}});var noteParser$1=parser$1,note=noteParser$1,isMidi=function(c){return c!==null&&c!==[]&&c>=0&&c<129},toMidi=function(c){return isMidi(c)?+c:note.midi(c)},notes=function(c){if(c.buffers){var f=c.opts.map,m=typeof f=="function"?f:toMidi,p=function(l){return l?m(l)||l:null};c.buffers=mapBuffers(c.buffers,p);var a=c.start;c.start=function(l,y,S){var A=p(l),I=A%1;return I&&(A=Math.floor(A),S=Object.assign(S||{},{cents:Math.floor(I*100)})),a(A,y,S)}}return c};function mapBuffers(c,f){return Object.keys(c).reduce(function(m,p){return m[f(p)]=c[p],m},{})}var isArr=Array.isArray,isObj=function(c){return c&&typeof c=="object"},OPTS={},scheduler=function(c){return c.schedule=function(f,m){var p=c.context.currentTime,a=f<p?p:f;c.emit("schedule",a,m);var l,y,S,A;return m.map(function(I){if(I)isArr(I)?(l=I[0],y=I[1]):(l=I.time,y=I);else return null;return isObj(y)?(S=y.name||y.key||y.note||y.midi||null,A=y):(S=y,A=OPTS),c.start(S,a+(l||0),A)})},c},index_min={exports:{}};(function(c,f){(function(m){c.exports=m()})(function(){return function m(p,a,l){function y(I,U){if(!a[I]){if(!p[I]){var R=typeof commonjsRequire=="function"&&commonjsRequire;if(!U&&R)return R(I,!0);if(S)return S(I,!0);var M=new Error("Cannot find module '"+I+"'");throw M.code="MODULE_NOT_FOUND",M}var K=a[I]={exports:{}};p[I][0].call(K.exports,function(q){var W=p[I][1][q];return y(W||q)},K,K.exports,m,p,a,l)}return a[I].exports}for(var S=typeof commonjsRequire=="function"&&commonjsRequire,A=0;A<l.length;A++)y(l[A]);return y}({1:[function(m,p,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(l){function y(S){if(this._event=S,this._data=S.data,this.receivedTime=S.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=S.data[0]&240,this.channel=S.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=S.data[1]&127,this.velocity=S.data[2]&127;break;case 144:this.messageType="noteon",this.key=S.data[1]&127,this.velocity=S.data[2]&127;break;case 160:this.messageType="keypressure",this.key=S.data[1]&127,this.pressure=S.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=S.data[1]&127,this.controllerValue=S.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=S.data[1];break;case 208:this.messageType="channelpressure",this.pressure=S.data[1]&127;break;case 224:this.messageType="pitchbendchange";var A=S.data[2]&127,I=S.data[1]&127;this.pitchBend=(A<<8)+I;break}}return new y(l)},p.exports=a.default},{}]},{},[1])(1)})})(index_min);var midimessage=index_min.exports,midi$1=function(c){return c.listenToMidi=function(f,m){var p={},a=m||{},l=a.gain||function(y){return y/127};return f.onmidimessage=function(y){var S=y.messageType?y:midimessage(y);if(S.messageType==="noteon"&&S.velocity===0&&(S.messageType="noteoff"),!(a.channel&&S.channel!==a.channel))switch(S.messageType){case"noteon":p[S.key]=c.play(S.key,0,{gain:l(S.velocity)});break;case"noteoff":p[S.key]&&(p[S.key].stop(),delete p[S.key]);break}},c},c};(function(c){var f=player,m=events,p=notes,a=scheduler,l=midi$1;function y(S,A,I){return l(a(p(m(f(S,A,I)))))}c.exports&&(c.exports=y),typeof window!="undefined"&&(window.SamplePlayer=y)})(lib);function fillStr(c,f){return Array(f+1).join(c)}function isNum(c){return typeof c=="number"}function isStr(c){return typeof c=="string"}function isDef(c){return typeof c!="undefined"}function midiToFreq(c,f){return Math.pow(2,(c-69)/12)*(f||440)}var REGEX=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function regex(){return REGEX}var SEMITONES=[0,2,4,5,7,9,11];function parse(c,f,m){if(typeof c!="string")return null;var p=REGEX.exec(c);if(!p||!f&&p[4])return null;var a={letter:p[1].toUpperCase(),acc:p[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var l=SEMITONES[a.step]+a.alt;return a.chroma=l<0?12+l:l%12,p[3]&&(a.oct=+p[3],a.midi=l+12*(a.oct+1),a.freq=midiToFreq(a.midi,m)),f&&(a.tonicOf=p[4]),a}var LETTERS="CDEFGAB";function accStr(c){return isNum(c)?c<0?fillStr("b",-c):fillStr("#",c):""}function octStr(c){return isNum(c)?""+c:""}function build(c,f,m){return c===null||typeof c=="undefined"?null:c.step?build(c.step,c.alt,c.oct):c<0||c>6?null:LETTERS.charAt(c)+accStr(f)+octStr(m)}function midi(c){if((isNum(c)||isStr(c))&&c>=0&&c<128)return+c;var f=parse(c);return f&&isDef(f.midi)?f.midi:null}function freq(c,f){var m=midi(c);return m===null?null:midiToFreq(m,f)}function letter(c){return(parse(c)||{}).letter}function acc(c){return(parse(c)||{}).acc}function pc(c){return(parse(c)||{}).pc}function step(c){return(parse(c)||{}).step}function alt(c){return(parse(c)||{}).alt}function chroma(c){return(parse(c)||{}).chroma}function oct(c){return(parse(c)||{}).oct}var noteParser=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",regex,parse,build,midi,freq,letter,acc,pc,step,alt,chroma,oct}),require$$0=getAugmentedNamespace(noteParser),parser=require$$0;function Soundfont$1(c,f){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof Soundfont$1))return new Soundfont$1(c);this.nameToUrl=f||Soundfont$1.nameToUrl,this.ctx=c,this.instruments={},this.promises=[]}Soundfont$1.prototype.onready=function(c){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(c)};Soundfont$1.prototype.instrument=function(c,f){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var m=this.ctx;if(c=c||"default",c in this.instruments)return this.instruments[c];var p={name:c,play:oscillatorPlayer(m,f)};if(this.instruments[c]=p,c!=="default"){var a=Soundfont$1.instrument(m,c,f).then(function(l){return p.play=l.play,p});this.promises.push(a),p.onready=function(l){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),a.then(l)}}else p.onready=function(l){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),l()};return p};function loadBuffers(c,f,m){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),Soundfont$1.instrument(c,f,m).then(function(p){return p.buffers})}Soundfont$1.loadBuffers=loadBuffers;function oscillatorPlayer(c,f){return f=f||{},function(m,p,a,l){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var y=m>0&&m<129?+m:parser.midi(m),S=y?parser.midiToFreq(y,440):null;if(!!S){a=a||.2,l=l||{};var A=l.destination||f.destination||c.destination,I=l.vcoType||f.vcoType||"sine",U=l.gain||f.gain||.4,R=c.createOscillator();R.type=I,R.frequency.value=S;var M=c.createGain();return M.gain.value=U,R.connect(M),M.connect(A),R.start(p),a>0&&R.stop(p+a),R}}}Soundfont$1.noteToMidi=parser.midi;var legacy=Soundfont$1;(function(c){var f=lib$1.exports,m=lib.exports;function p(S,A,I){if(arguments.length===1)return function(q,W){return p(S,q,W)};var U=I||{},R=U.isSoundfontURL||a,M=U.nameToUrl||l,K=R(A)?A:M(A,U.soundfont,U.format);return f(S,K,{only:U.only||U.notes}).then(function(q){var W=m(S,q,U).connect(U.destination?U.destination:S.destination);return W.url=K,W.name=A,W})}function a(S){return/\.js(\?.*)?$/i.test(S)}function l(S,A,I){return I=I==="ogg"?I:"mp3",A=A==="FluidR3_GM"?A:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+A+"/"+S+"-"+I+".js"}var y=legacy;y.instrument=p,y.nameToUrl=l,c.exports&&(c.exports=y),typeof window!="undefined"&&(window.Soundfont=y)})(lib$2);var Soundfont=lib$2.exports;function cross(c,f,m){return(f[0]-c[0])*(m[1]-c[1])-(f[1]-c[1])*(m[0]-c[0])}function lexicographicOrder(c,f){return c[0]-f[0]||c[1]-f[1]}function computeUpperHullIndexes(c){const f=c.length,m=[0,1];let p=2,a;for(a=2;a<f;++a){for(;p>1&&cross(c[m[p-2]],c[m[p-1]],c[a])<=0;)--p;m[p++]=a}return m.slice(0,p)}function polygonHull(c){if((m=c.length)<3)return null;var f,m,p=new Array(m),a=new Array(m);for(f=0;f<m;++f)p[f]=[+c[f][0],+c[f][1],f];for(p.sort(lexicographicOrder),f=0;f<m;++f)a[f]=[p[f][0],-p[f][1]];var l=computeUpperHullIndexes(p),y=computeUpperHullIndexes(a),S=y[0]===l[0],A=y[y.length-1]===l[l.length-1],I=[];for(f=l.length-1;f>=0;--f)I.push(c[p[l[f]][2]]);for(f=+S;f<y.length-A;++f)I.push(c[p[y[f]][2]]);return I}var pagemap$1={exports:{}};/*! pagemap v1.4.0 - https://larsjung.de/pagemap/ */(function(c,f){(function(p,a){c.exports=a()})(typeof self!="undefined"?self:commonjsGlobal,function(){return function(m){var p={};function a(l){if(p[l])return p[l].exports;var y=p[l]={i:l,l:!1,exports:{}};return m[l].call(y.exports,y,y.exports,a),y.l=!0,y.exports}return a.m=m,a.c=p,a.d=function(l,y,S){a.o(l,y)||Object.defineProperty(l,y,{enumerable:!0,get:S})},a.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,y){if(y&1&&(l=a(l)),y&8||y&4&&typeof l=="object"&&l&&l.__esModule)return l;var S=Object.create(null);if(a.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:l}),y&2&&typeof l!="string")for(var A in l)a.d(S,A,function(I){return l[I]}.bind(null,A));return S},a.n=function(l){var y=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(y,"a",y),y},a.o=function(l,y){return Object.prototype.hasOwnProperty.call(l,y)},a.p="",a(a.s=0)}([function(m,p,a){(function(l){m.exports=function(y,S){var A=l.window,I=A.document,U=I.documentElement,R=I.querySelector("body"),M=y.getContext("2d"),K=function(tt){return"rgba(0,0,0,".concat(tt/100,")")},q=Object.assign({viewport:null,styles:{"header,footer,section,article":K(8),"h1,a":K(10),"h2,h3,h4":K(8)},back:K(2),view:K(5),drag:K(10),interval:null},S),W=function(tt,st,wt,Rt){return wt.split(/\s+/).forEach(function(Je){return tt[st](Je,Rt)})},pt=function(tt,st,wt){return W(tt,"addEventListener",st,wt)},ht=function(tt,st,wt){return W(tt,"removeEventListener",st,wt)},Ut=function(tt,st,wt,Rt){return{x:tt,y:st,w:wt,h:Rt}},Tt=function(tt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Ut(tt.x-st.x,tt.y-st.y,tt.w,tt.h)},Lt=function(){return Ut(0,0,U.scrollWidth,U.scrollHeight)},jt=function(){return Ut(A.pageXOffset,A.pageYOffset,U.clientWidth,U.clientHeight)},o=function(tt){var st=tt.getBoundingClientRect();return{x:st.left+A.pageXOffset,y:st.top+A.pageYOffset}},Q=function(tt){var st=o(tt),wt=st.x,Rt=st.y;return Ut(wt,Rt,tt.offsetWidth,tt.offsetHeight)},X=function(tt){var st=o(tt),wt=st.x,Rt=st.y;return Ut(wt+tt.clientLeft,Rt+tt.clientTop,tt.clientWidth,tt.clientHeight)},vt=function(tt){var st=o(tt),wt=st.x,Rt=st.y;return Ut(wt+tt.clientLeft-tt.scrollLeft,Rt+tt.clientTop-tt.scrollTop,tt.scrollWidth,tt.scrollHeight)},Ct=function(){var xt=y.clientWidth,tt=y.clientHeight;return function(st,wt){return Math.min(xt/st,tt/wt)}}(),Kt=function(tt,st){y.width=tt,y.height=st,y.style.width="".concat(tt,"px"),y.style.height="".concat(st,"px")},bt=q.viewport,de=function(tt){return Array.from((bt||I).querySelectorAll(tt))},Et=!1,Pt,he,Qt,pe,ge,Se=function(tt,st){st&&(M.beginPath(),M.rect(tt.x,tt.y,tt.w,tt.h),M.fillStyle=st,M.fill())},Yt=function(tt){Object.keys(tt).forEach(function(st){var wt=tt[st];de(st).forEach(function(Rt){Se(Tt(Q(Rt),Pt),wt)})})},me=function(){Pt=bt?vt(bt):Lt(),he=bt?X(bt):jt(),Qt=Ct(Pt.w,Pt.h),Kt(Pt.w*Qt,Pt.h*Qt),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,y.width,y.height),M.scale(Qt,Qt),Se(Tt(Pt,Pt),q.back),Yt(q.styles),Se(Tt(he,Pt),Et?q.drag:q.view)},Xt=function(tt){tt.preventDefault();var st=X(y),wt=(tt.pageX-st.x)/Qt-he.w*pe,Rt=(tt.pageY-st.y)/Qt-he.h*ge;bt?(bt.scrollLeft=wt,bt.scrollTop=Rt):A.scrollTo(wt,Rt),me()},we=function xt(tt){Et=!1,y.style.cursor="pointer",R.style.cursor="auto",ht(A,"mousemove",Xt),ht(A,"mouseup",xt),Xt(tt)},ve=function(tt){Et=!0;var st=X(y),wt=Tt(he,Pt);pe=((tt.pageX-st.x)/Qt-wt.x)/wt.w,ge=((tt.pageY-st.y)/Qt-wt.y)/wt.h,(pe<0||pe>1||ge<0||ge>1)&&(pe=.5,ge=.5),y.style.cursor="crosshair",R.style.cursor="crosshair",pt(A,"mousemove",Xt),pt(A,"mouseup",we),Xt(tt)},ze=function(){y.style.cursor="pointer",pt(y,"mousedown",ve),pt(bt||A,"load resize scroll",me),q.interval>0&&setInterval(function(){return me()},q.interval),me()};return ze(),{redraw:me}}}).call(this,a(1))},function(m,p){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}m.exports=a}])})})(pagemap$1);var pagemap=getDefaultExportFromCjs(pagemap$1.exports),DragSelect$1={exports:{}};(function(c,f){(function(m,p){c.exports=p()})(commonjsGlobal,function(){function m(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function p(b,v){for(var s=0;s<v.length;s++){var _=v[s];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}function a(b,v,s){return v&&p(b.prototype,v),s&&p(b,s),b}function l(b,v,s){return v in b?Object.defineProperty(b,v,{value:s,enumerable:!0,configurable:!0,writable:!0}):b[v]=s,b}function y(b,v){var s=Object.keys(b);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);v&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(b,x).enumerable})),s.push.apply(s,_)}return s}function S(b){for(var v=1;v<arguments.length;v++){var s=arguments[v]!=null?arguments[v]:{};v%2?y(Object(s),!0).forEach(function(_){l(b,_,s[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach(function(_){Object.defineProperty(b,_,Object.getOwnPropertyDescriptor(s,_))})}return b}function A(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),v&&U(b,v)}function I(b){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},I(b)}function U(b,v){return U=Object.setPrototypeOf||function(_,x){return _.__proto__=x,_},U(b,v)}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function M(b,v,s){return R()?M=Reflect.construct:M=function(x,H,F){var B=[null];B.push.apply(B,H);var Y=Function.bind.apply(x,B),et=new Y;return F&&U(et,F.prototype),et},M.apply(null,arguments)}function K(b){return Function.toString.call(b).indexOf("[native code]")!==-1}function q(b){var v=typeof Map=="function"?new Map:void 0;return q=function(_){if(_===null||!K(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(typeof v!="undefined"){if(v.has(_))return v.get(_);v.set(_,x)}function x(){return M(_,arguments,I(this).constructor)}return x.prototype=Object.create(_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),U(x,_)},q(b)}function W(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function pt(b,v){return v&&(typeof v=="object"||typeof v=="function")?v:W(b)}function ht(b){var v=R();return function(){var _=I(b),x;if(v){var H=I(this).constructor;x=Reflect.construct(_,arguments,H)}else x=_.apply(this,arguments);return pt(this,x)}}function Ut(b,v){for(;!Object.prototype.hasOwnProperty.call(b,v)&&(b=I(b),b!==null););return b}function Tt(b,v,s){return typeof Reflect!="undefined"&&Reflect.get?Tt=Reflect.get:Tt=function(x,H,F){var B=Ut(x,H);if(!!B){var Y=Object.getOwnPropertyDescriptor(B,H);return Y.get?Y.get.call(F):Y.value}},Tt(b,v,s||b)}function Lt(b,v){return Q(b)||vt(b,v)||Ct(b,v)||de()}function jt(b){return o(b)||X(b)||Ct(b)||bt()}function o(b){if(Array.isArray(b))return Kt(b)}function Q(b){if(Array.isArray(b))return b}function X(b){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(b))return Array.from(b)}function vt(b,v){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(b)))){var s=[],_=!0,x=!1,H=void 0;try{for(var F=b[Symbol.iterator](),B;!(_=(B=F.next()).done)&&(s.push(B.value),!(v&&s.length===v));_=!0);}catch(Y){x=!0,H=Y}finally{try{!_&&F.return!=null&&F.return()}finally{if(x)throw H}}return s}}function Ct(b,v){if(!!b){if(typeof b=="string")return Kt(b,v);var s=Object.prototype.toString.call(b).slice(8,-1);if(s==="Object"&&b.constructor&&(s=b.constructor.name),s==="Map"||s==="Set")return Array.from(b);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Kt(b,v)}}function Kt(b,v){(v==null||v>b.length)&&(v=b.length);for(var s=0,_=new Array(v);s<v;s++)_[s]=b[s];return _}function bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Et=function(v,s,_){var x=v.x,H=v.y,F=_.x,B=_.y,Y={"+":{x:x+F,y:H+B},"-":{x:x-F,y:H-B},"*":{x:x*F,y:H*B},"/":{x:x/F,y:H/B}};return Y[s]},Pt=function(v){return{x:v.left,y:v.top}},he=function(v){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{left:v.x,top:v.y,right:v.x,bottom:v.y,width:s,height:s}},Qt=function(v){return{x:v,y:v}},pe=function(b,v,s){window.addEventListener("resize",v),window.addEventListener("scroll",v),b.forEach(function(_,x){s.observe(_,{childList:x!==0,attributes:!0})})},ge=function(b){var v=ve(b);return v.x||v.y?!0:b instanceof HTMLDocument?b.body?!!(b.body.scrollTop=1):!!(b.documentElement.scrollTop=1):!!(b.scrollTop=1)},Se=function(b){var v=document.createElement("div");return v.style.position="fixed",v.style.overflow="hidden",v.style.pointerEvents="none",v.style.zIndex="999999999999999999",v.classList.add(b),v},Yt=function(b){var v=document.createElement("div");return v.style.position="absolute",b||(v.style.background="rgba(0, 0, 255, 0.1)",v.style.border="1px solid rgba(0, 0, 255, 0.45)",v.style.display="none",v.style.pointerEvents="none"),v},me=function(b,v){var s;return function(){for(var _=arguments.length,x=new Array(_),H=0;H<_;H++)x[H]=arguments[H];var F=function(){s=null,b.apply(void 0,x)};clearTimeout(s),s=setTimeout(F,v)}},Xt=function(){var b,v,s,_;return{y:((b=document.body)===null||b===void 0?void 0:b.scrollTop)||((v=document.documentElement)===null||v===void 0?void 0:v.scrollTop)||0,x:((s=document.body)===null||s===void 0?void 0:s.scrollLeft)||((_=document.documentElement)===null||_===void 0?void 0:_.scrollLeft)||0}},we=function(b,v){if(b instanceof Document)return{top:0,left:0,bottom:0,right:0,width:window.innerWidth,height:window.innerHeight};var s=b.getBoundingClientRect();return{top:s.top,left:s.left,bottom:s.bottom,right:s.right,width:(b.clientWidth||s.width)*v,height:(b.clientHeight||s.height)*v}},ve=function(b){return!b||b instanceof Document?Xt():{x:b.scrollLeft>=0?b.scrollLeft:Xt().x,y:b.scrollTop>=0?b.scrollTop:Xt().y}},ze=function(b){var v=b.elementRect,s=b.containerRect,_=b.tolerance,x=_===void 0?{x:0,y:0}:_,H=[];return v.top-x.y<s.top&&H.push("top"),v.left-x.x<s.left&&H.push("left"),v.bottom+x.y>s.bottom&&H.push("bottom"),v.right+x.y>s.right&&H.push("right"),H},xt=function(b){var v=b.event;return{x:v.clientX,y:v.clientY}},tt=function(b){var v=b.scrollAmount,s=b.initialPointerPos,_=b.pointerPos,x={};return _.x>s.x-v.x?(x.left=s.x-v.x,x.width=_.x-s.x+v.x):(x.left=_.x,x.width=s.x-_.x-v.x),_.y>s.y-v.y?(x.top=s.y-v.y,x.height=_.y-s.y+v.y):(x.top=_.y,x.height=s.y-_.y-v.y),x},st=function(v){var s={x:0,y:0},_=window.getComputedStyle(v);if(!_.transform||_.transform==="none")return s;if(_.transform.indexOf("3d")>=0){var x=_.transform.trim().match(/matrix3d\((.*?)\)/);if(x&&x.length){var H,F=(H=x[1])===null||H===void 0?void 0:H.split(",");s.x=parseInt(F[12])||0,s.y=parseInt(F[13])||0}return s}else{var B=_.transform.trim().match(/matrix\((.*?)\)/);if(B&&B.length){var Y,et=(Y=B[1])===null||Y===void 0?void 0:Y.split(",");s.x=parseInt(et[4])||0,s.y=parseInt(et[5])||0}return s}},wt=function(v){var s=v.style.transform;if(!s||s.indexOf("translate")<0)return st(v);var _={x:0,y:0},x=s.trim().match(/translate[3dD]*?\(.*?\)/);if(x){var H,F=(H=x[0])===null||H===void 0?void 0:H.split("(");if(F){var B,Y=(B=F[1])===null||B===void 0?void 0:B.split(",");_.x=parseInt(Y[0])||0,_.y=parseInt(Y[1])||0}}return!_.x&&!_.x?st(v):_},Rt=function(v){var s=v.style,_={x:parseInt(s.left)||0,y:parseInt(s.top)||0};if(!_.x&&!_.x){var x=window.getComputedStyle(v);return{x:parseInt(x.left)||0,y:parseInt(x.top)||0}}return _},Je=function(b,v){return v?wt(b):Rt(b)},oe=function(b){var v=b.element,s=b.edges,_=b.elementRect,x=b.containerRect,H=b.elementPos,F=b.useTransform;s.includes("top")&&Ce(v,{y:H.y+x.top-_.top,x:H.x},F),s.includes("left")&&Ce(v,{y:H.y,x:H.x+x.left-_.left},F),s.includes("bottom")&&Ce(v,{y:H.y+x.bottom-_.bottom,x:H.x},F),s.includes("right")&&Ce(v,{y:H.y,x:H.x+x.right-_.right},F)},Te=function(b){var v=b.computedStyle,s=b.node,_=v.position,x=_==="absolute"||_==="relative"||_==="fixed";!(s instanceof HTMLDocument)&&!x&&(s.style.position="relative")},Ie=function(b){var v=b.shiftKey,s=b.keyboardDragSpeed,_=b.zoom,x=b.key,H=b.dragKeys,F=b.scrollDiff,B=b.canScroll,Y=b.scrollCallback,et={x:0,y:0},J=v?s*4*_:s*_;return H.left.includes(x)&&(et.x=F.x||-J,!v&&!F.x&&B&&Y(["left"],s)),H.right.includes(x)&&(et.x=F.x||J,!v&&!F.x&&B&&Y(["right"],s)),H.up.includes(x)&&(et.y=F.y||-J,!v&&!F.y&&B&&Y(["top"],s)),H.down.includes(x)&&(et.y=F.y||J,!v&&!F.y&&B&&Y(["bottom"],s)),et},at=function(b){var v=b.element,s=b.force,_=b.multiSelectionToggle,x=b.SelectedSet,H=b.hoverClassName;v.classList.contains(H)&&!s||(x.has(v)?_&&x.delete(v):x.add(v),v.classList.add(H))},qt=function(b){var v=b.element,s=b.force,_=b.SelectedSet,x=b.PrevSelectedSet,H=b.hoverClassName;if(!v.classList.contains(H)&&!s)return!1;var F=_.has(v),B=x.has(v);F&&!B?_.delete(v):!F&&B&&_.add(v),v.classList.remove(H)},Ze=function(b,v){return b.left<v.right&&b.right>v.left&&b.top<v.bottom&&b.bottom>v.top},di=function(b){var v=b.element,s=b.posDirection,_=b.containerRect,x=b.useTransform,H=Je(v,x),F=Et(H,"+",s);Ce(v,F,x);var B=v.getBoundingClientRect(),Y=ze({elementRect:B,containerRect:_});oe({element:v,edges:Y,elementRect:B,containerRect:_,elementPos:F,useTransform:x})},Bi=function(b,v){window.removeEventListener("resize",v),window.removeEventListener("scroll",v),b.disconnect()},pi=function(b,v,s){if(!!v.length){var _=document&&document.documentElement&&document.documentElement.scrollTop&&document.documentElement,x=b instanceof HTMLDocument?_||document.body:b,H=v.includes("top")&&x.scrollTop>0,F=v.includes("bottom")&&x.scrollTop<x.scrollHeight,B=v.includes("left")&&x.scrollLeft>0,Y=v.includes("right")&&x.scrollLeft<x.scrollWidth;H&&(x.scrollTop-=1*s),F&&(x.scrollTop+=1*s),B&&(x.scrollLeft-=1*s),Y&&(x.scrollLeft+=1*s)}},Ce=function(b,v,s){if(s){var _=b.style.transform;b.style.transform="translate3d(".concat(v.x,"px,").concat(v.y,"px,1px) ").concat(_.replace(/translate.*?\)/g,""))}else b.style.left="".concat(v.x,"px"),b.style.top="".concat(v.y,"px");return b},Oe=function(b){for(var v=b.subscribe,s=b.publish,_=b.Interaction,x=b.SelectedSet,H={"Selected:added":[{name:"elementselect"}],"Selected:removed":[{name:"elementunselect"}],"Area:scroll":[{name:"autoscroll"}],"Interaction:start":[{name:"dragstart"}],"Interaction:update":[{name:"dragmove",condition:function(J){return J.event}}],"Interaction:end":[{name:"callback"}],"Drag:keyboardDrag":[{name:"dragstart"},{name:"dragmove"}]},F=function(){var J=Lt(Y[B],2),rt=J[0],gt=J[1];["pre",!1].forEach(function(Ot){return v(Ot?"".concat(rt,":").concat(Ot):rt,function(Wt){return gt.forEach(function(Bt){return(!Bt.condition||Bt.condition(Wt))&&s(Ot?"".concat(Ot).concat(Bt.name):Bt.name,S({items:x.elements,isDragging:_.isDragging},Wt))})})})},B=0,Y=Object.entries(H);B<Y.length;B++)F()},Vt=function(b){return b?!Array.isArray(b)&&(b instanceof HTMLElement||b instanceof SVGElement)?[b]:jt(b):[]},fe=function(b,v){b.style.left="".concat(v.left,"px"),b.style.top="".concat(v.top,"px"),b.style.width="".concat(v.width,"px"),b.style.height="".concat(v.height,"px")},_e=function(){function b(v){var s=this,_=v.area,x=v.PS,H=v.zoom;m(this,b),l(this,"_modificationCallback",void 0),l(this,"_modificationObserver",void 0),l(this,"_zoom",void 0),l(this,"_node",void 0),l(this,"_parentNodes",void 0),l(this,"_computedStyle",void 0),l(this,"_computedBorder",void 0),l(this,"_rect",void 0),l(this,"start",function(){pe(s.parentNodes,s._modificationCallback,s._modificationObserver)}),l(this,"reset",function(){s._computedStyle=void 0,s._rect=void 0,s._computedBorder=void 0,s._parentNodes=void 0}),l(this,"stop",function(){Bi(s._modificationObserver,s._modificationCallback),s.reset()}),l(this,"scroll",function(F,B){pi(s._node,F,B),s.PubSub.publish("Area:scroll",{scroll_directions:F,scroll_multiplier:B})}),this._node=_,this._zoom=H,this.PubSub=x,Te({computedStyle:this.computedStyle,node:this._node}),this._modificationCallback=me(function(F){s.reset(),s.PubSub.publish("Area:modified",{event:F,item:s})},60),this._modificationObserver=new MutationObserver(this._modificationCallback),setTimeout(function(){s.reset(),s.PubSub.publish("Area:modified",{event,item:s})}),this.PubSub.subscribe("Interaction:init",this.start),this.PubSub.subscribe("Interaction:end",this.reset)}return a(b,[{key:"HTMLNode",get:function(){return this._node}},{key:"computedBorder",get:function(){return this._computedBorder?this._computedBorder:{top:parseInt(this.computedStyle.borderTopWidth),bottom:parseInt(this.computedStyle.borderBottomWidth),left:parseInt(this.computedStyle.borderLeftWidth),right:parseInt(this.computedStyle.borderRightWidth)}}},{key:"computedStyle",get:function(){return this._computedStyle?this._computedStyle:this.HTMLNode instanceof HTMLDocument?this._computedStyle=window.getComputedStyle(this.HTMLNode.body||this.HTMLNode.documentElement):this._computedStyle=window.getComputedStyle(this.HTMLNode)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=we(this.HTMLNode,this._zoom)}},{key:"parentNodes",get:function(){if(this._parentNodes)return this._parentNodes;var s=function _(x){var H,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=(H=x[F])===null||H===void 0?void 0:H.parentNode;return B?(x.push(B),F++,_(x,F)):x};return this._parentNodes=s([this.HTMLNode]),this._parentNodes}}]),b}(),Ni=function(){function b(v){var s=this,_=v.DS,x=v.dragKeys,H=v.draggability,F=v.keyboardDrag,B=v.keyboardDragSpeed,Y=v.useTransform,et=v.zoom;m(this,b),l(this,"_useTransform",void 0),l(this,"_prevCursorPos",void 0),l(this,"_prevScrollPos",void 0),l(this,"_elements",[]),l(this,"_draggability",void 0),l(this,"_dragKeys",void 0),l(this,"_dragKeysFlat",void 0),l(this,"_keyboardDrag",void 0),l(this,"_keyboardDragSpeed",void 0),l(this,"_zoom",void 0),l(this,"keyboardDrag",function(J){var rt=J.event,gt=J.key;if(!(!s._keyboardDrag||!s._dragKeysFlat.includes(gt)||!s.DS.SelectedSet.size||!s._draggability||s.DS.continue)){s.DS.publish("Interaction:start",{event:rt,isDragging:!0,isDraggingKeyboard:!0}),s._elements=s.DS.getSelection(),s.handleZIndex(!0);var Ot=Ie({shiftKey:s.DS.stores.KeyStore.currentValues.includes("shift"),keyboardDragSpeed:s._keyboardDragSpeed,zoom:s._zoom,key:gt,scrollCallback:s.DS.Area.scroll,scrollDiff:s._scrollDiff,canScroll:s.DS.stores.ScrollStore.canScroll,dragKeys:s._dragKeys});s._elements.forEach(function(Wt){return di({element:Wt,posDirection:Ot,containerRect:s.DS.SelectorArea.rect,useTransform:s._useTransform})}),s.DS.publish("Interaction:update",{event:rt,isDragging:!0,isDraggingKeyboard:!0})}}),l(this,"keyboardEnd",function(J){var rt=J.event,gt=J.key;!s._keyboardDrag||!s._dragKeysFlat.includes(gt)||!s.DS.SelectedSet.size||!s._draggability||s.DS.publish("Interaction:end",{event:rt,isDragging:s._draggability,isDraggingKeyboard:!0})}),l(this,"start",function(J){var rt=J.isDragging,gt=J.isDraggingKeyboard;!rt||gt||(s._prevCursorPos=null,s._prevScrollPos=null,s._elements=s.DS.getSelection(),s.handleZIndex(!0))}),l(this,"stop",function(J){J!=null&&J.isKeyboard||(s._prevCursorPos=null,s._prevScrollPos=null,s.handleZIndex(!1),s._elements=[])}),l(this,"update",function(J){var rt=J.isDragging,gt=J.isDraggingKeyboard;if(!(!rt||!s._elements.length||gt||s.DS.continue)){var Ot=Et(s._cursorDiff,"+",s._scrollDiff);s._elements.forEach(function(Wt){return di({element:Wt,posDirection:Ot,containerRect:s.DS.SelectorArea.rect,useTransform:s._useTransform})})}}),l(this,"handleZIndex",function(J){s._elements.forEach(function(rt){return rt.style.zIndex="".concat((parseInt(rt.style.zIndex)||0)+J?9999:-9998)})}),this.DS=_,this._useTransform=Y,this._keyboardDragSpeed=B,this._keyboardDrag=F,this._zoom=et,this._draggability=H,this._dragKeys={up:x.up.map(function(J){return J.toLowerCase()}),down:x.down.map(function(J){return J.toLowerCase()}),left:x.left.map(function(J){return J.toLowerCase()}),right:x.right.map(function(J){return J.toLowerCase()})},this._dragKeysFlat=[].concat(jt(this._dragKeys.up),jt(this._dragKeys.down),jt(this._dragKeys.left),jt(this._dragKeys.right)),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:end",this.stop),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("KeyStore:down",this.keyboardDrag),this.DS.subscribe("KeyStore:up",this.keyboardEnd)}return a(b,[{key:"_cursorDiff",get:function(){var s=this.DS.stores.PointerStore.currentVal,_=this._prevCursorPos?Et(s,"-",this._prevCursorPos):{x:0,y:0};return this._prevCursorPos=s,_}},{key:"_scrollDiff",get:function(){var s=this.DS.stores.ScrollStore.currentVal,_=this._prevScrollPos?Et(s,"-",this._prevScrollPos):{x:0,y:0};return this._prevScrollPos=s,_}}]),b}(),We=function(){function b(v){var s=this,_=v.areaElement,x=v.DS,H=v.draggability,F=v.immediateDrag;m(this,b),l(this,"_areaElement",void 0),l(this,"_draggability",void 0),l(this,"_immediateDrag",void 0),l(this,"isInteracting",void 0),l(this,"isDragging",void 0),l(this,"init",function(){s.stop(),s._areaElement.addEventListener("mousedown",s.start),s._areaElement.addEventListener("touchstart",s.start,{passive:!1}),s.DS.publish("Interaction:init",{})}),l(this,"start",function(B){B.type==="touchstart"&&B.preventDefault(),!!s._canInteract(B)&&(s.isInteracting=!0,s.isDragging=s.isDragEvent(B),s.DS.publish("Interaction:start",{event:B,isDragging:s.isDragging}),document.addEventListener("mouseup",s.reset),document.addEventListener("touchend",s.reset))}),l(this,"isDragEvent",function(B){return!s._draggability||s.DS.stores.KeyStore.isMultiSelectKeyPressed(B)||!s.DS.SelectableSet.has(B.target)?!1:(s._immediateDrag&&(s.DS.SelectedSet.size?s.DS.SelectedSet.has(B.target)||(s.DS.SelectedSet.clear(),s.DS.SelectedSet.add(B.target)):s.DS.SelectedSet.add(B.target)),!!s.DS.SelectedSet.has(B.target))}),l(this,"onClick",function(B){var Y=B.event;if(!!s._canInteract(Y)&&!(Y.detail>0)){var et=s.DS,J=et.stores,rt=J.PointerStore,gt=J.KeyStore,Ot=et.SelectableSet,Wt=et.SelectedSet,Bt=et.publish;rt.start(Y);var ke=Y.target;!Ot.has(ke)||(gt.isMultiSelectKeyPressed(Y)||Wt.clear(),Wt.toggle(ke),Bt("Interaction:end",{event:Y,isDragging:s.isDragging}))}}),l(this,"stop",function(){s.isInteracting=!1,s.isDragging=!1,s._areaElement.removeEventListener("mousedown",s.start),s._areaElement.removeEventListener("touchstart",s.start,{passive:!1}),document.removeEventListener("mouseup",s.reset),document.removeEventListener("touchend",s.reset)}),l(this,"update",function(B){var Y=B.event,et=B.scroll_directions,J=B.scroll_multiplier;s.isInteracting&&s.DS.publish("Interaction:update",{event:Y,scroll_directions:et,scroll_multiplier:J,isDragging:s.isDragging})}),l(this,"reset",function(B){var Y=s.isDragging;s.stop(),s.init(),s.DS.publish("Interaction:end",{event:B,isDragging:Y})}),this._areaElement=_,this._draggability=H,this._immediateDrag=F,this.DS=x,this.DS.subscribe("PointerStore:updated",this.update),this.DS.subscribe("Selectable:click",this.onClick),this.DS.subscribe("Selectable:pointer",function(B){var Y=B.event;return s.start(Y)}),this.DS.subscribe("Area:scroll",this.update)}return a(b,[{key:"_canInteract",value:function(s){return!(s.button===2||this.isInteracting||s.target&&!this.DS.SelectorArea.isInside(s.target))}}]),b}(),gi=function b(){var v=this;m(this,b),l(this,"subscribers",{}),l(this,"subscribe",function(s,_){return Array.isArray(v.subscribers[s])||(v.subscribers[s]=[]),v.subscribers[s].push(_),v.subscribers[s].length-1}),l(this,"unsubscribe",function(s,_,x){x>=0?v.subscribers[s].splice(x,1):_&&(v.subscribers[s]=v.subscribers[s].filter(function(H){return H!==_}))}),l(this,"publish",function(s,_){var x,H;!Array.isArray(v.subscribers[s])||((x=v.subscribers["".concat(s,":pre")])===null||x===void 0||x.forEach(function(F){return F(_)}),(H=v.subscribers[s])===null||H===void 0||H.forEach(function(F){return F(_)}))})},mi=function(b){A(s,b);var v=ht(s);function s(_){var x,H=_.elements,F=_.className,B=_.hoverClassName,Y=_.draggability,et=_.useTransform,J=_.DS;return m(this,s),x=v.call(this),l(W(x),"_initElements",void 0),l(W(x),"_className",void 0),l(W(x),"_hoverClassName",void 0),l(W(x),"_useTransform",void 0),l(W(x),"_draggability",void 0),l(W(x),"init",function(){return x._initElements.forEach(function(rt){return x.add(rt)})}),l(W(x),"clear",function(){return x.forEach(function(rt){return x.delete(rt)})}),l(W(x),"_onClick",function(rt){return x.DS.publish("Selectable:click",{event:rt})}),l(W(x),"_onPointer",function(rt){return x.DS.publish("Selectable:pointer",{event:rt})}),l(W(x),"addAll",function(rt){return rt.forEach(function(gt){return x.add(gt)})}),l(W(x),"deleteAll",function(rt){return rt.forEach(function(gt){return x.delete(gt)})}),x.DS=J,x._initElements=Vt(H),x._className=F,x._hoverClassName=B,x._useTransform=et,x._draggability=Y,x.DS.subscribe("Interaction:init",x.init),x}return a(s,[{key:"add",value:function(x){return x.classList.add(this._className),x.addEventListener("click",this._onClick),x.addEventListener("mousedown",this._onPointer),x.addEventListener("touchstart",this._onPointer,{passive:!1}),this._draggability&&!this._useTransform&&Te({computedStyle:window.getComputedStyle(x),node:x}),Tt(I(s.prototype),"add",this).call(this,x)}},{key:"delete",value:function(x){return x.classList.remove(this._className),x.classList.remove(this._hoverClassName),x.removeEventListener("click",this._onClick),x.removeEventListener("mousedown",this._onPointer),x.removeEventListener("touchstart",this._onPointer,{passive:!1}),Tt(I(s.prototype),"delete",this).call(this,x)}},{key:"elements",get:function(){return Array.from(this.values())}}]),s}(q(Set)),Li=function(b){A(s,b);var v=ht(s);function s(_){var x,H=_.className,F=_.DS;return m(this,s),x=v.call(this),l(W(x),"_className",void 0),l(W(x),"clear",function(){return x.forEach(function(B){return x.delete(B)})}),l(W(x),"addAll",function(B){return B.forEach(function(Y){return x.add(Y)})}),l(W(x),"deleteAll",function(B){return B.forEach(function(Y){return x.delete(Y)})}),x.DS=F,x._className=H,x}return a(s,[{key:"add",value:function(x){if(!Tt(I(s.prototype),"has",this).call(this,x))return Tt(I(s.prototype),"add",this).call(this,x),x.classList.add(this._className),this.DS.publish("Selected:added",{items:this.elements,item:x}),x.style.zIndex="".concat((parseInt(x.style.zIndex)||0)+1),this}},{key:"delete",value:function(x){if(!!Tt(I(s.prototype),"has",this).call(this,x)){var H=Tt(I(s.prototype),"delete",this).call(this,x);return x.classList.remove(this._className),this.DS.publish("Selected:removed",{items:this.elements,item:x}),x.style.zIndex="".concat((parseInt(x.style.zIndex)||0)-1),H}}},{key:"toggle",value:function(x){return this.has(x)?this.delete(x):this.add(x),x}},{key:"elements",get:function(){return Array.from(this.values())}}]),s}(q(Set)),De=function(){function b(v){var s=this,_=v.DS,x=v.hoverClassName,H=v.multiSelectToggling;m(this,b),l(this,"_prevSelectedSet",void 0),l(this,"_hoverClassName",void 0),l(this,"_multiSelectToggling",void 0),l(this,"start",function(F){var B=F.event,Y=F.isDragging;Y||(s._storePrevious(B),s._handleInsideSelection(!0,B))}),l(this,"update",function(F){var B=F.isDragging;B||s.DS.continue||s._handleInsideSelection()}),l(this,"_handleInsideSelection",function(F,B){for(var Y=s.DS,et=Y.SelectableSet,J=Y.SelectorArea,rt=Y.Selector,gt=et.elements.map(function(ue){return[ue,ue.getBoundingClientRect()]}),Ot=[],Wt=[],Bt=0,ke=gt.length;Bt<ke;Bt++)!J.isInside(gt[Bt][0],gt[Bt][1])||(Ze(gt[Bt][1],rt.rect)?Ot.push(gt[Bt][0]):Wt.push(gt[Bt][0]));var ae=s.DS.stores.KeyStore.isMultiSelectKeyPressed(B)&&s._multiSelectToggling;Ot.forEach(function(ue){return at({element:ue,force:F,multiSelectionToggle:ae,SelectedSet:s.DS.SelectedSet,hoverClassName:s._hoverClassName})}),Wt.forEach(function(ue){return qt({element:ue,force:F,SelectedSet:s.DS.SelectedSet,hoverClassName:s._hoverClassName,PrevSelectedSet:s._prevSelectedSet})})}),this._hoverClassName=x,this._multiSelectToggling=H,this.DS=_,this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update)}return a(b,[{key:"_storePrevious",value:function(s){var _=this.DS,x=_.stores.KeyStore,H=_.SelectedSet;x.isMultiSelectKeyPressed(s)?this._prevSelectedSet=new Set(H):this._prevSelectedSet=new Set}}]),b}(),Pe=function(){function b(v){var s=this,_=v.DS,x=v.selector,H=v.selectorClass,F=v.customStyles;m(this,b),l(this,"_rect",void 0),l(this,"start",function(B){var Y=B.isDragging;if(!Y){var et=s.DS.stores.PointerStore,J=et.initialValArea;fe(s.HTMLNode,he(J,1)),s.HTMLNode.style.display="block",s._rect=null}}),l(this,"stop",function(){s.HTMLNode.style.width="0",s.HTMLNode.style.height="0",s.HTMLNode.style.display="none"}),l(this,"update",function(B){var Y=B.isDragging;if(!(Y||s.DS.continue)){var et=s.DS.stores,J=et.ScrollStore,rt=et.PointerStore,gt=tt({scrollAmount:J.scrollAmount,initialPointerPos:rt.initialValArea,pointerPos:rt.currentValArea});fe(s.HTMLNode,gt),s._rect=null}}),this.DS=_,this.HTMLNode=x||Yt(F),this.HTMLNode.classList.add(H),this.DS.subscribe("Interaction:start",this.start),this.DS.subscribe("Interaction:update",this.update),this.DS.subscribe("Interaction:end",this.stop)}return a(b,[{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),b}(),vi=function(){function b(v){var s=this,_=v.DS,x=v.selectorAreaClass,H=v.autoScrollSpeed,F=v.overflowTolerance;m(this,b),l(this,"_autoScrollSpeed",void 0),l(this,"_scrollInterval",void 0),l(this,"_rect",void 0),l(this,"currentEdges",[]),l(this,"_overflowTolerance",void 0),l(this,"start",function(){return s.applyElements("append")}),l(this,"applyElements",function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"append",Y=document.body?"body":"documentElement",et="".concat(B,"Child");s.HTMLNode[et](s.DS.Selector.HTMLNode),document[Y][et](s.HTMLNode)}),l(this,"updatePos",function(){s._rect=null;var B=s.DS.Area.rect,Y=s.DS.Area.computedBorder,et=s.HTMLNode.style,J="".concat(B.top+Y.top,"px"),rt="".concat(B.left+Y.left,"px"),gt="".concat(B.width,"px"),Ot="".concat(B.height,"px");et.top!==J&&(et.top=J),et.left!==rt&&(et.left=rt),et.width!==gt&&(et.width=gt),et.height!==Ot&&(et.height=Ot)}),l(this,"stop",function(B){s.stopAutoScroll(),B&&s.applyElements("remove")}),l(this,"startAutoScroll",function(){s.currentEdges=[],s._scrollInterval=setInterval(function(){return s.handleAutoScroll()},16)}),l(this,"handleAutoScroll",function(){if(!s.DS.continue){var B=s.DS,Y=B.stores.PointerStore,et=B.Area;s.currentEdges=ze({elementRect:he(Y.currentVal),containerRect:s.rect,tolerance:s._overflowTolerance}),s.currentEdges.length&&et.scroll(s.currentEdges,s._autoScrollSpeed)}}),l(this,"stopAutoScroll",function(){s.currentEdges=[],clearInterval(s._scrollInterval)}),l(this,"isInside",function(B,Y){return s.DS.Area.HTMLNode.contains(B)&&s.DS.stores.ScrollStore.canScroll?!0:Ze(s.rect,Y||B.getBoundingClientRect())}),this._autoScrollSpeed=H,this._overflowTolerance=F,this.DS=_,this.HTMLNode=Se(x),this.DS.subscribe("Area:modified",this.updatePos),this.DS.subscribe("Interaction:init",this.start),this.DS.subscribe("Interaction:start",this.startAutoScroll),this.DS.subscribe("Interaction:end",function(){s.updatePos(),s.stopAutoScroll()})}return a(b,[{key:"isClicked",value:function(){var s=this.DS.stores.PointerStore;return Ze({left:s.initialVal.x,top:s.initialVal.y,right:s.initialVal.x,bottom:s.initialVal.y},this.rect)}},{key:"rect",get:function(){return this._rect?this._rect:this._rect=this.HTMLNode.getBoundingClientRect()}}]),b}(),yi=function(){function b(v){var s=this,_=v.DS,x=v.multiSelectKeys,H=v.multiSelectMode;m(this,b),l(this,"_multiSelectMode",void 0),l(this,"_multiSelectKeys",void 0),l(this,"_currentValues",new Set),l(this,"_keyMapping",{control:"ctrlKey",shift:"shiftKey",meta:"metaKey"}),l(this,"init",function(){document.addEventListener("keydown",s.keydown),document.addEventListener("keyup",s.keyup),window.addEventListener("blur",s.reset)}),l(this,"keydown",function(F){var B=F.key.toLowerCase();s._currentValues.add(B),s.DS.publish("KeyStore:down",{event:F,key:B})}),l(this,"keyup",function(F){var B=F.key.toLowerCase();s._currentValues.delete(B),s.DS.publish("KeyStore:up",{event:F,key:B})}),l(this,"stop",function(){document.removeEventListener("keydown",s.keydown),document.removeEventListener("keyup",s.reset),window.removeEventListener("blur",s.reset),s.reset()}),l(this,"reset",function(){return s._currentValues.clear()}),this.DS=_,this._multiSelectMode=H,this._multiSelectKeys=x.map(function(F){var B={ctrlKey:"Control",shiftKey:"Shift",metaKey:"Meta"},Y=B[F];return Y?(console.warn("[DragSelect] ".concat(F,' is deprecated. Use "').concat(Y,'" instead. Act Now!. See docs for more info')),Y.toLowerCase()):F.toLowerCase()}),this.DS.subscribe("Interaction:init",this.init)}return a(b,[{key:"isMultiSelectKeyPressed",value:function(s){var _=this;return!!(this._multiSelectMode||this.currentValues.some(function(x){return _._multiSelectKeys.includes(x)})||s&&this._multiSelectKeys.some(function(x){return s[_._keyMapping[x]]}))}},{key:"currentValues",get:function(){return Array.from(this._currentValues.values())}}]),b}(),Gt=function(){function b(v){var s=this,_=v.DS;m(this,b),l(this,"_isMouseInteraction",!1),l(this,"_initialValArea",void 0),l(this,"_currentValArea",void 0),l(this,"_lastValArea",void 0),l(this,"_initialVal",void 0),l(this,"_currentVal",void 0),l(this,"_lastVal",void 0),l(this,"_lastTouch",void 0),l(this,"init",function(){document.addEventListener("mousemove",s.update),document.addEventListener("touchmove",s.update,{passive:!1})}),l(this,"update",function(x){!x||(s.currentVal=xt({event:s._normalizedEvent(x)}),!!s._isMouseInteraction&&s.DS.publish("PointerStore:updated",{event:x}))}),l(this,"stop",function(){document.removeEventListener("mousemove",s.update),document.removeEventListener("touchmove",s.update,{passive:!1}),setTimeout(function(){return s._isMouseInteraction=!1},100)}),l(this,"reset",function(x){!x||(s.currentVal=s.lastVal=xt({event:s._normalizedEvent(x)}),s.stop(),s.init())}),this.DS=_,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(x){var H=x.event;return s.start(H)}),this.DS.subscribe("Interaction:end",function(x){var H=x.event;return s.reset(H)})}return a(b,[{key:"start",value:function(s){!s||(this._isMouseInteraction=!0,this.currentVal=this.initialVal=xt({event:this._normalizedEvent(s)}))}},{key:"_normalizedEvent",value:function(s){return"touches"in s&&s.type!=="touchend"&&(this._lastTouch=s),"touches"in s?this._lastTouch.touches[0]:s}},{key:"initialValArea",get:function(){return this._initialValArea?this._initialValArea:{x:0,y:0}}},{key:"currentValArea",get:function(){return this._currentValArea?this._currentValArea:{x:0,y:0}}},{key:"lastValArea",get:function(){return this._lastValArea?this._lastValArea:{x:0,y:0}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}},set:function(s){this._initialVal=s,this._initialValArea=s&&Et(s,"-",Et(Pt(this.DS.Area.rect),"+",Pt(this.DS.Area.computedBorder)))}},{key:"currentVal",get:function(){return this._currentVal?this._currentVal:{x:0,y:0}},set:function(s){this._currentVal=s,this._currentValArea=s&&Et(s,"-",Et(Pt(this.DS.Area.rect),"+",Pt(this.DS.Area.computedBorder)))}},{key:"lastVal",get:function(){return this._lastVal?this._lastVal:{x:0,y:0}},set:function(s){this._lastVal=s,this._lastValArea=s&&Et(s,"-",Et(Pt(this.DS.Area.rect),"+",Pt(this.DS.Area.computedBorder)))}}]),b}(),zt=function(){function b(v){var s=this,_=v.DS,x=v.areaElement,H=v.zoom;m(this,b),l(this,"_initialVal",void 0),l(this,"_currentVal",void 0),l(this,"_areaElement",void 0),l(this,"_canScroll",void 0),l(this,"init",function(){return s._areaElement.addEventListener("scroll",s.update)}),l(this,"start",function(){s._currentVal=s._initialVal=ve(s._areaElement),s._areaElement.addEventListener("scroll",s.update)}),l(this,"update",function(){return s._currentVal=ve(s._areaElement)}),l(this,"stop",function(){s._areaElement.removeEventListener("scroll",s.update),s._initialVal={x:0,y:0},s._canScroll=null}),l(this,"reset",function(){s.stop(),s.start()}),this._areaElement=x,this.DS=_,this.zoom=H,this.DS.subscribe("Interaction:init",this.init),this.DS.subscribe("Interaction:start",function(){return s.start()}),this.DS.subscribe("Interaction:end",function(){return s.reset()})}return a(b,[{key:"canScroll",get:function(){return typeof this._canScroll=="boolean"?this._canScroll:this._canScroll=ge(this._areaElement)}},{key:"scrollAmount",get:function(){var s=Et(this.currentVal,"-",this.initialVal),_=Qt(this.zoom),x=Et(Et(s,"*",_),"-",s);return{x:s.x+x.x,y:s.y+x.y}}},{key:"initialVal",get:function(){return this._initialVal?this._initialVal:{x:0,y:0}}},{key:"currentVal",get:function(){return this._currentVal||(this._currentVal=ve(this._areaElement)),this._currentVal}}]),b}(),Qe=function(){function b(v){var s=this,_=v.area,x=_===void 0?document:_,H=v.selectables,F=H===void 0?[]:H,B=v.autoScrollSpeed,Y=B===void 0?5:B,et=v.overflowTolerance,J=et===void 0?{x:25,y:25}:et,rt=v.zoom,gt=rt===void 0?1:rt,Ot=v.customStyles,Wt=Ot===void 0?!1:Ot,Bt=v.multiSelectMode,ke=Bt===void 0?!1:Bt,ae=v.multiSelectToggling,ue=ae===void 0?!0:ae,$e=v.multiSelectKeys,Fe=$e===void 0?["Control","Shift","Meta"]:$e,ti=v.selector,Mi=ti===void 0?void 0:ti,Ee=v.draggability,Ue=Ee===void 0?!0:Ee,ei=v.immediateDrag,bi=ei===void 0?!0:ei,ii=v.keyboardDrag,Hi=ii===void 0?!0:ii,ni=v.dragKeys,xi=v.keyboardDragSpeed,Si=xi===void 0?10:xi,wi=v.useTransform,ri=wi===void 0?!0:wi,oi=v.hoverClass,Ke=oi===void 0?"ds-hover":oi,si=v.selectableClass,$t=si===void 0?"ds-selectable":si,ye=v.selectedClass,Xe=ye===void 0?"ds-selected":ye,Ti=v.selectorClass,Ri=Ti===void 0?"ds-selector":Ti,Ye=v.selectorAreaClass,Ci=Ye===void 0?"ds-selector-area":Ye,Ge=v.callback,_i=v.onDragMove,qi=v.onDragStartBegin,Vi=v.onDragStart,te=v.onElementSelect,Di=v.onElementUnselect;m(this,b),l(this,"continue",!1),l(this,"start",function(){return s.Interaction.init()}),l(this,"break",function(){return s.continue=!0}),l(this,"getSelection",function(){return s.SelectedSet.elements}),l(this,"getSelectables",function(){return s.SelectableSet.elements}),l(this,"getInitialCursorPosition",function(){return s.stores.PointerStore.initialVal}),l(this,"getCurrentCursorPosition",function(){return s.stores.PointerStore.currentVal}),l(this,"getPreviousCursorPosition",function(){return s.stores.PointerStore.lastVal}),l(this,"getInitialCursorPositionArea",function(){return s.stores.PointerStore.initialValArea}),l(this,"getCurrentCursorPositionArea",function(){return s.stores.PointerStore.currentValArea}),l(this,"getPreviousCursorPositionArea",function(){return s.stores.PointerStore.lastValArea}),l(this,"isMultiSelect",function(Be){return s.stores.KeyStore.isMultiSelectKeyPressed(Be)}),l(this,"isDragging",function(){return s.Interaction.isDragging}),this.PubSub=new gi,this.subscribe=this.PubSub.subscribe,this.unsubscribe=this.PubSub.unsubscribe,this.publish=this.PubSub.publish,this._callbacksTemp({callback:Ge,onDragMove:_i,onDragStart:Vi,onDragStartBegin:qi,onElementSelect:te,onElementUnselect:Di}),this.stores={PointerStore:new Gt({DS:this}),ScrollStore:new zt({DS:this,areaElement:x,zoom:gt}),KeyStore:new yi({DS:this,multiSelectKeys:Fe,multiSelectMode:ke})},this.Area=new _e({area:x,PS:this.PubSub,zoom:gt}),this.Selector=new Pe({DS:this,selector:Mi,selectorClass:Ri,customStyles:Wt}),this.SelectorArea=new vi({DS:this,selectorAreaClass:Ci,autoScrollSpeed:Y,overflowTolerance:J}),this.SelectableSet=new mi({elements:F,DS:this,className:$t,hoverClassName:Ke,useTransform:ri,draggability:Ue}),this.SelectedSet=new Li({DS:this,className:Xe}),this.Selection=new De({DS:this,hoverClassName:Ke,multiSelectToggling:ue}),this.Drag=new Ni({DS:this,draggability:Ue,useTransform:ri,keyboardDrag:Hi,dragKeys:Object.assign({up:["ArrowUp"],down:["ArrowDown"],left:["ArrowLeft"],right:["ArrowRight"]},ni),zoom:gt,keyboardDragSpeed:Si}),this.Interaction=new We({areaElement:x,DS:this,draggability:Ue,immediateDrag:bi}),Oe({subscribe:this.subscribe,publish:this.publish,SelectedSet:this.SelectedSet,Interaction:this.Interaction}),this.subscribe("Interaction:end",function(){return s.continue=!1}),this.start()}return a(b,[{key:"_callbacksTemp",value:function(s){var _=s.callback,x=s.onDragMove,H=s.onDragStart,F=s.onDragStartBegin,B=s.onElementSelect,Y=s.onElementUnselect,et=function(rt,gt){return console.warn("[DragSelect] ".concat(rt,' is deprecated. Use DragSelect.subscribe("').concat(gt,'", (callbackObject) => {}) instead. Act Now! See docs for more info'))};_&&(et("callback","callback"),this.subscribe("callback",function(J){var rt=J.items;J.item;var gt=J.event;return _(rt,gt)})),x&&(et("onDragMove","dragmove"),this.subscribe("dragmove",function(J){J.items,J.item;var rt=J.event;return x(rt)})),H&&(et("onDragStart","dragstart"),this.subscribe("dragstart",function(J){J.items,J.item;var rt=J.event;return H(rt)})),F&&(et("onDragStartBegin","dragstart"),this.subscribe("dragstart",function(J){J.items,J.item;var rt=J.event;return F(rt)})),B&&(et("onElementSelect","elementselect"),this.subscribe("elementselect",function(J){J.items;var rt=J.item,gt=J.event;return B(rt,gt)})),Y&&(et("onElementUnselect","elementunselect"),this.subscribe("elementunselect",function(J){J.items;var rt=J.item,gt=J.event;return Y(rt,gt)}))}},{key:"stop",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;x&&this.publish("callback",{items:this.getSelection()}),this.Interaction.stop(),this.Area.stop(),this.Drag.stop(),this.Selector.stop(),this.SelectorArea.stop(s),this.stores.KeyStore.stop(),this.stores.PointerStore.stop(),this.stores.ScrollStore.stop(),s&&this.SelectableSet.clear(),_&&this.SelectedSet.clear()}},{key:"addSelection",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.addAll(Vt(s)),x||this.addSelectables(s),_&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"removeSelection",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.SelectedSet.deleteAll(Vt(s)),x&&this.removeSelectables(s),_&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"toggleSelection",value:function(s){var _=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Vt(s).forEach(function(F){return _.SelectedSet.has(F)?_.removeSelection(s,x,H):_.addSelection(s,x,H)}),x&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"setSelection",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.clearSelection(),this.addSelection(s,_,x),this.getSelection()}},{key:"clearSelection",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.SelectedSet.clear(),s&&this.PubSub.publish("callback",{items:this.getSelection()}),this.getSelection()}},{key:"addSelectables",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=Vt(s);return this.SelectableSet.addAll(x),_&&this.SelectedSet.addAll(x),s}},{key:"setSelectables",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this.removeSelectables(s,_),this.addSelectables(s,x)}},{key:"removeSelectables",value:function(s){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.SelectableSet.deleteAll(Vt(s)),_&&this.removeSelection(s),s}},{key:"getCursorPositionDifference",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;console.warn("[DragSelect] Using .getCursorPositionDifference is deprecated. Calculate yourself instead. i.e. `.getCurrentCursorPosition().x - .getInitialCursorPosition().x`");var x=_?this.getCurrentCursorPositionArea():this.getCurrentCursorPosition(),H=s?_?this.getPreviousCursorPositionArea():this.getPreviousCursorPosition():_?this.getInitialCursorPositionArea():this.getInitialCursorPosition();return Et(x,"-",H)}}]),b}();return Qe})})(DragSelect$1);var DragSelect=DragSelect$1.exports,jBox_all_min={exports:{}};(function(module){function jBoxWrapper(c){function f(a,l){return this.options={id:null,width:"auto",height:"auto",minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,responsiveWidth:!0,responsiveHeight:!0,responsiveMinWidth:100,responsiveMinHeight:100,attach:null,trigger:"click",preventDefault:!1,content:null,getContent:null,title:null,getTitle:null,footer:null,isolateScroll:!0,ajax:{url:null,data:"",reload:!1,getURL:"data-url",getData:"data-ajax",setContent:!0,loadingClass:!0,spinner:!0,spinnerDelay:300,spinnerReposition:!0},cancelAjaxOnClose:!0,target:null,position:{x:"center",y:"center"},outside:null,offset:0,attributes:{x:"left",y:"top"},fixed:!1,adjustPosition:!0,adjustTracker:!1,adjustDistance:5,reposition:!0,repositionOnOpen:!0,repositionOnContent:!0,holdPosition:!0,pointer:!1,pointTo:"target",fade:180,animation:null,theme:"Default",addClass:null,overlay:!1,overlayClass:null,zIndex:1e4,delayOpen:0,delayClose:0,closeOnEsc:!1,closeOnClick:!1,closeOnMouseleave:!1,closeButton:!1,appendTo:c("body"),createOnInit:!1,blockScroll:!1,blockScrollAdjust:!0,draggable:!1,dragOver:!0,autoClose:!1,delayOnHover:!1,showCountdown:!1,preloadAudio:!0,audio:null,volume:100,onInit:null,onAttach:null,onPosition:null,onCreated:null,onOpen:null,onOpenComplete:null,onClose:null,onCloseComplete:null,onDragStart:null,onDragEnd:null},this._pluginOptions={Tooltip:{getContent:"title",trigger:"mouseenter",position:{x:"center",y:"top"},outside:"y",pointer:!0},Mouse:{responsiveWidth:!1,responsiveHeight:!1,adjustPosition:"flip",target:"mouse",trigger:"mouseenter",position:{x:"right",y:"bottom"},outside:"xy",offset:5},Modal:{target:c(window),fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"overlay",closeButton:!0,overlay:!0,animation:"zoomIn"}},this.options=c.extend(!0,this.options,this._pluginOptions[a]||f._pluginOptions[a],l),c.type(a)=="string"&&(this.type=a),this.isTouchDevice=function(){var S=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var y,S=["(",S.join("touch-enabled),("),"heartz",")"].join("");return y=S,window.matchMedia(y).matches}(),this.isTouchDevice&&this.options.trigger==="mouseenter"&&this.options.closeOnClick===!1&&(this.options.closeOnClick="body"),this._fireEvent=function(y,S){this.options["_"+y]&&this.options["_"+y].bind(this)(S),this.options[y]&&this.options[y].bind(this)(S)},this.options.id===null&&(this.options.id="jBox"+f._getUniqueID()),this.id=this.options.id,(this.options.position.x=="center"&&this.options.outside=="x"||this.options.position.y=="center"&&this.options.outside=="y")&&(this.options.outside=null),this.options.pointTo!="target"||this.options.outside&&this.options.outside!="xy"||(this.options.pointer=!1),c.type(this.options.offset)!="object"?this.options.offset={x:this.options.offset,y:this.options.offset}:this.options.offset=c.extend({x:0,y:0},this.options.offset),c.type(this.options.adjustDistance)!="object"?this.options.adjustDistance={top:this.options.adjustDistance,right:this.options.adjustDistance,bottom:this.options.adjustDistance,left:this.options.adjustDistance}:this.options.adjustDistance=c.extend({top:5,left:5,right:5,bottom:5},this.options.adjustDistance),this.outside=!(!this.options.outside||this.options.outside=="xy")&&this.options.position[this.options.outside],this.align=this.outside||(this.options.position.y!="center"&&c.type(this.options.position.y)!="number"?this.options.position.x:this.options.position.x!="center"&&c.type(this.options.position.x)!="number"?this.options.position.y:this.options.attributes.x),f.zIndexMax=Math.max(f.zIndexMax||0,this.options.zIndex==="auto"?1e4:this.options.zIndex),this.options.zIndex==="auto"&&(this.adjustZIndexOnOpen=!0,this.options.zIndex=f.zIndexMax+=2,this.trueModal=this.options.overlay),this._getOpp=function(y){return{left:"right",right:"left",top:"bottom",bottom:"top",x:"y",y:"x"}[y]},this._getXY=function(y){return{left:"x",right:"x",top:"y",bottom:"y",center:"x"}[y]},this._getTL=function(y){return{left:"left",right:"left",top:"top",bottom:"top",center:"left",x:"left",y:"top"}[y]},this._getInt=function(y,S){return y=="auto"?"auto":y&&c.type(y)=="string"&&y.slice(-1)=="%"?c(window)[S=="height"?"innerHeight":"innerWidth"]()*parseInt(y.replace("%",""))/100:y},this._createSVG=function(y,S){var A=document.createElementNS("http://www.w3.org/2000/svg",y);return c.each(S,function(I,U){A.setAttribute(U[0],U[1]||"")}),A},this._isolateScroll=function(y){y&&y.length&&y.on("DOMMouseScroll.jBoxIsolateScroll mousewheel.jBoxIsolateScroll",function(S){var A=S.wheelDelta||S.originalEvent&&S.originalEvent.wheelDelta||-S.detail,I=0<=this.scrollTop+y.outerHeight()-this.scrollHeight,U=this.scrollTop<=0;(A<0&&I||0<A&&U)&&S.preventDefault()})},this._setTitleWidth=function(){if(!this.titleContainer||this.content[0].style.width=="auto"&&!this.content[0].style.maxWidth)return null;var y;this.wrapper.css("display")=="none"?(this.wrapper.css("display","block"),y=this.content.outerWidth(),this.wrapper.css("display","none")):y=this.content.outerWidth(),this.titleContainer.css({maxWidth:Math.max(y,parseInt(this.content[0].style.maxWidth))||null})},this._draggable=function(){if(!this.options.draggable)return!1;var y=this.options.draggable=="title"?this.titleContainer:this.options.draggable instanceof c?this.options.draggable:c.type(this.options.draggable)=="string"?c(this.options.draggable):this.wrapper;return!(!(y&&y instanceof c&&y.length)||y.data("jBox-draggable"))&&(y.addClass("jBox-draggable").data("jBox-draggable",!0).on("touchstart mousedown",function(S){var A,I,U,R,M,K;S.button==2||c(S.target).hasClass("jBox-noDrag")||c(S.target).parents(".jBox-noDrag").length?S.type=="touchstart"&&(c(S.target).hasClass("jBox-closeButton")||c(S.target).parents(".jBox-closeButton").length)&&this.close({ignoreDelay:!0}):(I=S.type=="touchstart"&&S.touches&&S.touches[0]?(A=S.touches[0].pageX,S.touches[0].pageY):(A=S.pageX,S.pageY),this.draggingStartX=A,this.draggingStartY=I,this.options.dragOver&&!this.trueModal&&parseInt(this.wrapper.css("zIndex"),10)<=f.zIndexMaxDragover&&(f.zIndexMaxDragover+=1,this.wrapper.css("zIndex",f.zIndexMaxDragover)),U=this.wrapper.outerHeight(),R=this.wrapper.outerWidth(),M=this.wrapper.offset().top+U-I,K=this.wrapper.offset().left+R-A,c(document).on("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id,function(pt){var W,pt=pt.type=="touchmove"&&pt.touches&&pt.touches[0]?(W=pt.touches[0].pageX,pt.touches[0].pageY):(W=pt.pageX,pt.pageY);this.dragging||this.draggingStartX==W||this.draggingStartY==pt||(this._fireEvent("onDragStart"),this.dragging=!0),this.wrapper.offset({top:pt+M-U,left:W+K-R})}.bind(this)),S.preventDefault())}.bind(this)).on("touchend mouseup",function(){var S;c(document).off("touchmove.jBox-draggable-"+this.id+" mousemove.jBox-draggable-"+this.id),this.dragging&&this._fireEvent("onDragEnd"),this.dragging=!1,this.type!="Modal"&&this.type!="Confirm"||!this.options.holdPosition||(S={x:(S=c("#"+this.id).offset()).left-c(document).scrollLeft(),y:S.top-c(document).scrollTop()},this.position({position:S,offset:{x:0,y:0}}))}.bind(this)),this.trueModal||(f.zIndexMaxDragover=f.zIndexMaxDragover?Math.max(f.zIndexMaxDragover,this.options.zIndex):this.options.zIndex),this)},this._create=function(){var y;this.wrapper||(this.wrapper=c("<div/>",{id:this.id,class:"jBox-wrapper"+(this.type?" jBox-"+this.type:"")+(this.options.theme?" jBox-"+this.options.theme:"")+(this.options.addClass?" "+this.options.addClass:"")}).css({position:this.options.fixed?"fixed":"absolute",display:"none",opacity:0,zIndex:this.options.zIndex}).data("jBox",this),this.options.closeOnMouseleave&&this.wrapper.on("mouseleave",function(S){!this.source||S.relatedTarget!=this.source[0]&&c.inArray(this.source[0],c(S.relatedTarget).parents("*"))===-1&&this.close()}.bind(this)),this.options.closeOnClick=="box"&&this.wrapper.on("click tap",function(){this.close({ignoreDelay:!0})}.bind(this)),this.container=c('<div class="jBox-container"/>').appendTo(this.wrapper),this.content=c('<div class="jBox-content"/>').appendTo(this.container),this.options.footer&&(this.footer=c('<div class="jBox-footer"/>').append(this.options.footer).appendTo(this.container)),this.options.isolateScroll&&this._isolateScroll(this.content),this.options.closeButton&&((y=this._createSVG("svg",[["viewBox","0 0 24 24"]])).appendChild(this._createSVG("path",[["d","M22.2,4c0,0,0.5,0.6,0,1.1l-6.8,6.8l6.9,6.9c0.5,0.5,0,1.1,0,1.1L20,22.3c0,0-0.6,0.5-1.1,0L12,15.4l-6.9,6.9c-0.5,0.5-1.1,0-1.1,0L1.7,20c0,0-0.5-0.6,0-1.1L8.6,12L1.7,5.1C1.2,4.6,1.7,4,1.7,4L4,1.7c0,0,0.6-0.5,1.1,0L12,8.5l6.8-6.8c0.5-0.5,1.1,0,1.1,0L22.2,4z"]])),this.closeButton=c('<div class="jBox-closeButton jBox-noDrag"/>').on("click tap",function(S){this.close({ignoreDelay:!0})}.bind(this)).append(y),this.options.closeButton!="box"&&(this.options.closeButton!==!0||this.options.overlay||this.options.title||this.options.getTitle)||(this.wrapper.addClass("jBox-closeButton-box"),this.closeButton.appendTo(this.container))),this.wrapper.appendTo(this.options.appendTo),this.wrapper.find(".jBox-closeButton").length&&c.each(["top","right","bottom","left"],function(S,A){this.wrapper.find(".jBox-closeButton").css(A)&&this.wrapper.find(".jBox-closeButton").css(A)!="auto"&&(this.options.adjustDistance[A]=Math.max(this.options.adjustDistance[A],this.options.adjustDistance[A]+-1*((parseInt(this.wrapper.find(".jBox-closeButton").css(A))||0)+(parseInt(this.container.css("border-"+A+"-width"))||0))))}.bind(this)),this.options.pointer&&(this.pointer={position:this.options.pointTo!="target"?this.options.pointTo:this._getOpp(this.outside),xy:this.options.pointTo!="target"?this._getXY(this.options.pointTo):this._getXY(this.outside),align:"center",offset:0},this.pointer.element=c('<div class="jBox-pointer jBox-pointer-'+this.pointer.position+'"/>').appendTo(this.wrapper),this.pointer.dimensions={x:this.pointer.element.outerWidth(),y:this.pointer.element.outerHeight()},c.type(this.options.pointer)=="string"&&((y=this.options.pointer.split(":"))[0]&&(this.pointer.align=y[0]),y[1]&&(this.pointer.offset=parseInt(y[1]))),this.pointer.alignAttribute=this.pointer.xy=="x"?this.pointer.align=="bottom"?"bottom":"top":this.pointer.align=="right"?"right":"left",this.wrapper.css("padding-"+this.pointer.position,this.pointer.dimensions[this.pointer.xy]),this.pointer.element.css(this.pointer.alignAttribute,this.pointer.align=="center"?"50%":0).css("margin-"+this.pointer.alignAttribute,this.pointer.offset),this.pointer.margin={},this.pointer.margin["margin-"+this.pointer.alignAttribute]=this.pointer.offset,this.pointer.align=="center"&&this.pointer.element.css("transform","translate("+(this.pointer.xy=="y"?-.5*this.pointer.dimensions.x+"px":0)+", "+(this.pointer.xy=="x"?-.5*this.pointer.dimensions.y+"px":0)+")"),this.pointer.element.css(this.pointer.xy=="x"?"width":"height",parseInt(this.pointer.dimensions[this.pointer.xy])+parseInt(this.container.css("border-"+this.pointer.alignAttribute+"-width"))),this.wrapper.addClass("jBox-pointerPosition-"+this.pointer.position)),this.setContent(this.options.content,!0),this.setTitle(this.options.title,!0),this.options.draggable&&this._draggable(),this._fireEvent("onCreated"))},this.options.createOnInit&&this._create(),this.options.attach&&this.attach(),this._attachEvents=function(){this.options.delayOnHover&&c("#"+this.id).on("mouseenter",function(y){this.isHovered=!0}.bind(this)),this.options.delayOnHover&&c("#"+this.id).on("mouseleave",function(y){this.isHovered=!1}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&!this.fixed&&this.outside&&(this.options.adjustTracker&&c(window).on("scroll.jBox-"+this.id,function(y){this.position()}.bind(this)),(this.options.adjustPosition||this.options.reposition)&&c(window).on("resize.jBox-"+this.id,function(y){this.position()}.bind(this))),this.options.target=="mouse"&&c("body").on("mousemove.jBox-"+this.id,function(y){this.position({mouseTarget:{top:y.pageY,left:y.pageX}})}.bind(this))},this._detachEvents=function(){this.options.closeOnEsc&&c(document).off("keyup.jBox-"+this.id),this.options.closeOnClick!==!0&&this.options.closeOnClick!="body"||c(document).off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.options.adjustTracker&&c(window).off("scroll.jBox-"+this.id),(this.options.adjustPosition||this.options.reposition)&&c(window).off("resize.jBox-"+this.id),this.options.target=="mouse"&&c("body").off("mousemove.jBox-"+this.id)},this._showOverlay=function(){this.overlay||(this.overlay=c('<div id="'+this.id+'-overlay"/>').addClass("jBox-overlay"+(this.type?" jBox-overlay-"+this.type:"")).css({display:"none",opacity:0,zIndex:this.options.zIndex-1}).appendTo(this.options.appendTo),this.options.overlayClass&&this.overlay.addClass(this.options.overlayClass),this.options.closeButton!="overlay"&&this.options.closeButton!==!0||this.overlay.append(this.closeButton),this.options.closeOnClick=="overlay"&&this.overlay.on("click tap",function(){this.close({ignoreDelay:!0})}.bind(this)),c("#"+this.id+"-overlay .jBox-closeButton").length&&(this.options.adjustDistance.top=Math.max(c("#"+this.id+"-overlay .jBox-closeButton").outerHeight(),this.options.adjustDistance.top))),this.adjustZIndexOnOpen===!0&&this.overlay.css("zIndex",parseInt(this.wrapper.css("zIndex"),10)-1),this.overlay.css("display")!="block"&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.overlay.css({display:"block"})}.bind(this)}):this.overlay.css({display:"block",opacity:1}))},this._hideOverlay=function(){this.overlay&&(this.options.fade?this.overlay.stop()&&this.overlay.animate({opacity:0},{queue:!1,duration:this.options.fade,complete:function(){this.overlay.css({display:"none"})}.bind(this)}):this.overlay.css({display:"none",opacity:0}))},this._exposeDimensions=function(){this.wrapper.css({top:-1e4,left:-1e4,right:"auto",bottom:"auto"});var y={x:this.wrapper.outerWidth(),y:this.wrapper.outerHeight()};return this.wrapper.css({top:"auto",left:"auto"}),y},this._generateAnimationCSS=function(){if(c.type(this.options.animation)!="object"&&(this.options.animation={pulse:{open:"pulse",close:"zoomOut"},zoomIn:{open:"zoomIn",close:"zoomIn"},zoomOut:{open:"zoomOut",close:"zoomOut"},move:{open:"move",close:"move"},slide:{open:"slide",close:"slide"},flip:{open:"flip",close:"flip"},tada:{open:"tada",close:"zoomOut"}}[this.options.animation]),!this.options.animation)return null;this.options.animation.open&&(this.options.animation.open=this.options.animation.open.split(":")),this.options.animation.close&&(this.options.animation.close=this.options.animation.close.split(":")),this.options.animation.openDirection=this.options.animation.open[1]||null,this.options.animation.closeDirection=this.options.animation.close[1]||null,this.options.animation.open&&(this.options.animation.open=this.options.animation.open[0]),this.options.animation.close&&(this.options.animation.close=this.options.animation.close[0]),this.options.animation.open&&(this.options.animation.open+="Open"),this.options.animation.close&&(this.options.animation.close+="Close");var y={pulse:{duration:350,css:[["0%","scale(1)"],["50%","scale(1.1)"],["100%","scale(1)"]]},zoomInOpen:{duration:this.options.fade||180,css:[["0%","scale(0.9)"],["100%","scale(1)"]]},zoomInClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(0.9)"]]},zoomOutOpen:{duration:this.options.fade||180,css:[["0%","scale(1.1)"],["100%","scale(1)"]]},zoomOutClose:{duration:this.options.fade||180,css:[["0%","scale(1)"],["100%","scale(1.1)"]]},moveOpen:{duration:this.options.fade||180,positions:{top:{"0%":-12},right:{"0%":12},bottom:{"0%":12},left:{"0%":-12}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},moveClose:{duration:this.options.fade||180,timing:"ease-in",positions:{top:{"100%":-12},right:{"100%":12},bottom:{"100%":12},left:{"100%":-12}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},slideOpen:{duration:400,positions:{top:{"0%":-400},right:{"0%":400},bottom:{"0%":400},left:{"0%":-400}},css:[["0%","translate%XY(%Vpx)"],["100%","translate%XY(0px)"]]},slideClose:{duration:400,timing:"ease-in",positions:{top:{"100%":-400},right:{"100%":400},bottom:{"100%":400},left:{"100%":-400}},css:[["0%","translate%XY(0px)"],["100%","translate%XY(%Vpx)"]]},flipOpen:{duration:600,css:[["0%","perspective(400px) rotateX(90deg)"],["40%","perspective(400px) rotateX(-15deg)"],["70%","perspective(400px) rotateX(15deg)"],["100%","perspective(400px) rotateX(0deg)"]]},flipClose:{duration:this.options.fade||300,css:[["0%","perspective(400px) rotateX(0deg)"],["100%","perspective(400px) rotateX(90deg)"]]},tada:{duration:800,css:[["0%","scale(1)"],["10%, 20%","scale(0.9) rotate(-3deg)"],["30%, 50%, 70%, 90%","scale(1.1) rotate(3deg)"],["40%, 60%, 80%","scale(1.1) rotate(-3deg)"],["100%","scale(1) rotate(0)"]]}};c.each(["pulse","tada"],function(A,I){y[I+"Open"]=y[I+"Close"]=y[I]});var S=function(A,I){var U="@keyframes jBox-"+this.id+"-animation-"+this.options.animation[A]+"-"+A+(I?"-"+I:"")+" {";return c.each(y[this.options.animation[A]].css,function(R,M){var K=I?M[1].replace("%XY",this._getXY(I).toUpperCase()):M[1];y[this.options.animation[A]].positions&&(K=K.replace("%V",y[this.options.animation[A]].positions[I][M[0]])),U+=M[0]+" {transform:"+K+";}"}.bind(this)),U+="}",U+=".jBox-"+this.id+"-animation-"+this.options.animation[A]+"-"+A+(I?"-"+I:"")+" {",U+="animation-duration: "+y[this.options.animation[A]].duration+"ms;",U+="animation-name: jBox-"+this.id+"-animation-"+this.options.animation[A]+"-"+A+(I?"-"+I:"")+";",U+=y[this.options.animation[A]].timing?"animation-timing-function: "+y[this.options.animation[A]].timing+";":"",U+="}"}.bind(this);this._animationCSS="",c.each(["open","close"],function(A,I){if(!this.options.animation[I]||!y[this.options.animation[I]]||I=="close"&&!this.options.fade)return"";y[this.options.animation[I]].positions?c.each(["top","right","bottom","left"],function(U,R){this._animationCSS+=S(I,R)}.bind(this)):this._animationCSS+=S(I)}.bind(this))},this.options.animation&&this._generateAnimationCSS(),this._blockBodyClick=function(){this.blockBodyClick=!0,setTimeout(function(){this.blockBodyClick=!1}.bind(this),10)},this._animate=function(y){if(y=y||(this.isOpen?"open":"close"),!this.options.fade&&y=="close")return null;var S=this.options.animation[y+"Direction"]||(this.align!="center"?this.align:this.options.attributes.x);this.flipped&&this._getXY(S)==this._getXY(this.align)&&(S=this._getOpp(S));var A="jBox-"+this.id+"-animation-"+this.options.animation[y]+"-"+y+" jBox-"+this.id+"-animation-"+this.options.animation[y]+"-"+y+"-"+S;this.wrapper.addClass(A),S=1e3*parseFloat(this.wrapper.css("animation-duration")),y=="close"&&(S=Math.min(S,this.options.fade)),setTimeout(function(){this.wrapper&&this.wrapper.removeClass(A)}.bind(this),S)},this._abortAnimation=function(){var y=this.wrapper.attr("class").split(" ").filter(function(S){return S.lastIndexOf("jBox-"+this.id+"-animation",0)!==0}.bind(this));this.wrapper.attr("class",y.join(" "))},(this.options.responsiveWidth||this.options.responsiveHeight)&&c(window).on("resize.responsivejBox-"+this.id,function(y){this.isOpen&&this.position()}.bind(this)),c.type(this.options.preloadAudio)==="string"&&(this.options.preloadAudio=[this.options.preloadAudio]),c.type(this.options.audio)==="string"&&(this.options.audio={open:this.options.audio}),c.type(this.options.volume)==="number"&&(this.options.volume={open:this.options.volume,close:this.options.volume}),this.options.preloadAudio===!0&&this.options.audio&&(this.options.preloadAudio=[],c.each(this.options.audio,function(y,S){this.options.preloadAudio.push(S+".mp3"),this.options.preloadAudio.push(S+".ogg")}.bind(this))),this.options.preloadAudio.length&&c.each(this.options.preloadAudio,function(y,S){var A=new Audio;A.src=S,A.preload="auto"}),this._fireEvent("onInit"),this}var m,p;return f.prototype.attach=function(a,l){return a=a||this.options.attach,c.type(a)=="string"&&(a=c(a)),l=l||this.options.trigger,a&&a.length&&c.each(a,function(y,S){(S=c(S)).data("jBox-attached-"+this.id)||(this.options.getContent=="title"&&S.attr("title")!=null&&S.data("jBox-getContent",S.attr("title")).removeAttr("title"),this.attachedElements||(this.attachedElements=[]),this.attachedElements.push(S[0]),S.on(l+".jBox-attach-"+this.id,function(A){var I;this.timer&&clearTimeout(this.timer),l=="mouseenter"&&this.isOpen&&this.source[0]==S[0]||(this.isOpen&&this.source&&this.source[0]!=S[0]&&(I=!0),this.source=S,this.options.target||(this.target=S),l=="click"&&this.options.preventDefault&&A.preventDefault(),this[l!="click"||I?"open":"toggle"]())}.bind(this)),this.options.trigger=="mouseenter"&&S.on("mouseleave",function(A){if(!this.wrapper)return null;this.options.closeOnMouseleave&&(A.relatedTarget==this.wrapper[0]||c(A.relatedTarget).parents("#"+this.id).length)||this.close()}.bind(this)),S.data("jBox-attached-"+this.id,l),this._fireEvent("onAttach",S))}.bind(this)),this},f.prototype.detach=function(a){return(a=a||this.attachedElements||[])&&a.length&&c.each(a,function(l,y){(y=c(y)).data("jBox-attached-"+this.id)&&(y.off(y.data("jBox-attached-"+this.id)+".jBox-attach-"+this.id),y.data("jBox-attached-"+this.id,null)),this.attachedElements=c.grep(this.attachedElements,function(S){return S!=y[0]})}.bind(this)),this},f.prototype.setTitle=function(a,l){if(a==null||a==null)return this;this.wrapper||this._create();var y=this.wrapper.outerHeight(),S=this.wrapper.outerWidth();return this.title||(this.titleContainer=c('<div class="jBox-title"/>'),this.title=c("<div/>").appendTo(this.titleContainer),this.options.closeButton!="title"&&(this.options.closeButton!==!0||this.options.overlay)||(this.wrapper.addClass("jBox-closeButton-title"),this.closeButton.appendTo(this.titleContainer)),this.titleContainer.insertBefore(this.content),this._setTitleWidth()),this.wrapper[a?"addClass":"removeClass"]("jBox-hasTitle"),this.title.html(a),S!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),l||!this.options.repositionOnContent||y==this.wrapper.outerHeight()&&S==this.wrapper.outerWidth()||this.position(),this},f.prototype.setContent=function(a,l){if(a==null||a==null)return this;this.wrapper||this._create();var y=this.wrapper.outerHeight(),S=this.wrapper.outerWidth();switch(this.content.children("[data-jbox-content-appended]").appendTo("body").css({display:"none"}),c.type(a)){case"string":this.content.html(a);break;case"object":a&&(a instanceof c||a.constructor.prototype.jquery)?(this.content.html(""),a.attr("data-jbox-content-appended",1).appendTo(this.content).css({display:"block"})):this.content.html(JSON.stringify(a))}return S!=this.wrapper.outerWidth()&&this._setTitleWidth(),this.options.draggable&&this._draggable(),l||!this.options.repositionOnContent||y==this.wrapper.outerHeight()&&S==this.wrapper.outerWidth()||this.position(),this},f.prototype.setDimensions=function(a,l,y){this.wrapper||this._create(),this.content.css(a,this._getInt(l=l==null?"auto":l)),a=="width"&&this._setTitleWidth(),this.options[a]=l,y!=null&&!y||this.position()},f.prototype.setWidth=function(a,l){this.setDimensions("width",a,l)},f.prototype.setHeight=function(a,l){this.setDimensions("height",a,l)},f.prototype.position=function(a){if(a=c.extend(!0,this.options,a=a||{}),this.target=a.target||this.target||c(window),this.target instanceof c||this.target=="mouse"||(this.target=c(this.target)),!this.target.length)return this;this.content.css({width:this._getInt(a.width,"width"),height:this._getInt(a.height,"height"),minWidth:this._getInt(a.minWidth,"width"),minHeight:this._getInt(a.minHeight,"height"),maxWidth:this._getInt(a.maxWidth,"width"),maxHeight:this._getInt(a.maxHeight,"height")}),this._setTitleWidth();var l=this._exposeDimensions();this.target=="mouse"||this.target.data("jBox-"+this.id+"-fixed")||this.target.data("jBox-"+this.id+"-fixed",this.target[0]!=c(window)[0]&&(this.target.css("position")=="fixed"||0<this.target.parents().filter(function(){return c(this).css("position")=="fixed"}).length)?"fixed":"static");var y={x:c(window).outerWidth(),y:c(window).outerHeight(),top:a.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:c(window).scrollTop(),left:a.fixed&&this.target.data("jBox-"+this.id+"-fixed")?0:c(window).scrollLeft()};y.bottom=y.top+y.y,y.right=y.left+y.x;try{var S=this.target.offset()}catch{S={top:0,left:0}}this.target!="mouse"&&this.target.data("jBox-"+this.id+"-fixed")=="fixed"&&a.fixed&&(S.top=S.top-c(window).scrollTop(),S.left=S.left-c(window).scrollLeft());var A={x:this.target=="mouse"?12:this.target.outerWidth(),y:this.target=="mouse"?20:this.target.outerHeight(),top:this.target=="mouse"&&a.mouseTarget?a.mouseTarget.top:S?S.top:0,left:this.target=="mouse"&&a.mouseTarget?a.mouseTarget.left:S?S.left:0},I=a.outside&&!(a.position.x=="center"&&a.position.y=="center"),U={x:y.x-a.adjustDistance.left-a.adjustDistance.right,y:y.y-a.adjustDistance.top-a.adjustDistance.bottom,left:I?A.left-c(window).scrollLeft()-a.adjustDistance.left:0,right:I?y.x-A.left+c(window).scrollLeft()-A.x-a.adjustDistance.right:0,top:I?A.top-c(window).scrollTop()-this.options.adjustDistance.top:0,bottom:I?y.y-A.top+c(window).scrollTop()-A.y-a.adjustDistance.bottom:0},R={x:a.outside!="x"&&a.outside!="xy"||c.type(a.position.x)=="number"?null:a.position.x,y:a.outside!="y"&&a.outside!="xy"||c.type(a.position.y)=="number"?null:a.position.y},M={x:!1,y:!1};R.x&&l.x>U[R.x]&&U[this._getOpp(R.x)]>U[R.x]&&(R.x=this._getOpp(R.x))&&(M.x=!0),R.y&&l.y>U[R.y]&&U[this._getOpp(R.y)]>U[R.y]&&(R.y=this._getOpp(R.y))&&(M.y=!0),(a.responsiveWidth||a.responsiveHeight)&&(Tt=function(){var Q;a.responsiveWidth&&l.x>U[R.x||"x"]&&(Q=U[R.x||"x"]-(this.pointer&&I&&a.outside=="x"?this.pointer.dimensions.x:0)-parseInt(this.container.css("border-left-width"))-parseInt(this.container.css("border-right-width")),this.content.css({width:Q>this.options.responsiveMinWidth?Q:null,minWidth:Q<parseInt(this.content.css("minWidth"))?0:null}),this._setTitleWidth()),l=this._exposeDimensions()}.bind(this),a.responsiveWidth&&Tt(),a.responsiveWidth&&!M.y&&R.y&&l.y>U[R.y]&&U[this._getOpp(R.y)]>U[R.y]&&(R.y=this._getOpp(R.y))&&(M.y=!0),Lt=function(){var Q;a.responsiveHeight&&l.y>U[R.y||"y"]&&(Q=function(){return this.titleContainer||this.footer?(this.wrapper.css("display")=="none"?(this.wrapper.css("display","block"),X=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0),this.wrapper.css("display","none")):X=(this.titleContainer?this.titleContainer.outerHeight():0)+(this.footer?this.footer.outerHeight():0),X||0):0;var X}.bind(this),Q=U[R.y||"y"]-(this.pointer&&I&&a.outside=="y"?this.pointer.dimensions.y:0)-Q()-parseInt(this.container.css("border-top-width"))-parseInt(this.container.css("border-bottom-width")),this.content.css({height:Q>this.options.responsiveMinHeight?Q:null}),this._setTitleWidth()),l=this._exposeDimensions()}.bind(this),a.responsiveHeight&&Lt(),a.responsiveHeight&&!M.x&&R.x&&l.x>U[R.x]&&U[this._getOpp(R.x)]>U[R.x]&&(R.x=this._getOpp(R.x))&&(M.x=!0),a.adjustPosition&&a.adjustPosition!="move"&&(M.x&&Tt(),M.y&&Lt()));var K={},q=function(Q){if(c.type(a.position[Q])!="number"){var X=a.attributes[Q]=Q=="x"?"left":"top";if(K[X]=A[X],a.position[Q]=="center")return K[X]+=Math.ceil((A[Q]-l[Q])/2),void(this.target!="mouse"&&this.target[0]&&this.target[0]==c(window)[0]&&(K[X]+=.5*(a.adjustDistance[X]-a.adjustDistance[this._getOpp(X)])));X!=a.position[Q]&&(K[X]+=A[Q]-l[Q]),a.outside!=Q&&a.outside!="xy"||(K[X]+=l[Q]*(X!=a.position[Q]?1:-1))}else K[a.attributes[Q]]=a.position[Q]}.bind(this);if(q("x"),q("y"),this.pointer&&a.pointTo=="target"&&c.type(a.position.x)!="number"&&c.type(a.position.y)!="number"&&(jt=0,this.pointer.align==="center"?a.position[this._getOpp(a.outside)]!="center"&&(jt+=l[this._getOpp(a.outside)]/2):a.position[this._getOpp(a.outside)]==="center"?jt+=(l[this._getOpp(a.outside)]/2-this.pointer.dimensions[this._getOpp(a.outside)]/2)*(this.pointer.align==this._getTL(this.pointer.align)?1:-1):jt+=this.pointer.align!=a.position[this._getOpp(a.outside)]?l[this._getOpp(a.outside)]*(c.inArray(this.pointer.align,["top","left"])!==-1?1:-1)+this.pointer.dimensions[this._getOpp(a.outside)]/2*(c.inArray(this.pointer.align,["top","left"])!==-1?-1:1):this.pointer.dimensions[this._getOpp(a.outside)]/2*(c.inArray(this.pointer.align,["top","left"])!==-1?1:-1),jt*=a.position[this._getOpp(a.outside)]==this.pointer.alignAttribute?-1:1,jt+=this.pointer.offset*(this.pointer.align==this._getOpp(this._getTL(this.pointer.align))?1:-1),K[this._getTL(this._getOpp(this.pointer.xy))]+=jt),K[a.attributes.x]+=a.offset.x,K[a.attributes.y]+=a.offset.y,this.wrapper.css(K),a.adjustPosition){this.positionAdjusted&&(this.pointer&&this.wrapper.css("padding",0).css("padding-"+this._getOpp(this.outside),this.pointer.dimensions[this._getXY(this.outside)]).removeClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).addClass("jBox-pointerPosition-"+this.pointer.position),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+this._getOpp(this.outside)).css(this.pointer.margin),this.positionAdjusted=!1,this.flipped=!1);var W=y.top>K.top-(a.adjustDistance.top||0),pt=y.right<K.left+l.x+(a.adjustDistance.right||0),ht=y.bottom<K.top+l.y+(a.adjustDistance.bottom||0),Ut=y.left>K.left-(a.adjustDistance.left||0),S=Ut?"left":pt?"right":null,Tt=W?"top":ht?"bottom":null;if(S||Tt){if((this.type=="Modal"||this.type=="Confirm")&&c.type(this.options.position.x)=="number"&&c.type(this.options.position.y)=="number"){var Lt=0,jt=0;return this.options.holdPosition&&(Ut?Lt=y.left-(K.left-(a.adjustDistance.left||0)):pt&&(Lt=y.right-(K.left+l.x+(a.adjustDistance.right||0))),W?jt=y.top-(K.top-(a.adjustDistance.top||0)):ht&&(jt=y.bottom-(K.top+l.y+(a.adjustDistance.bottom||0))),this.options.position.x=Math.max(y.top,this.options.position.x+Lt),this.options.position.y=Math.max(y.left,this.options.position.y+jt),q("x"),q("y"),this.wrapper.css(K)),this._fireEvent("onPosition"),this}a.adjustPosition!==!0&&a.adjustPosition!=="flip"||(o=function(X){this.wrapper.css(this._getTL(X),K[this._getTL(X)]+(l[this._getXY(X)]+a.offset[this._getXY(X)]*(X=="top"||X=="left"?-2:2)+A[this._getXY(X)])*(X=="top"||X=="left"?1:-1)),this.pointer&&this.wrapper.removeClass("jBox-pointerPosition-"+this.pointer.position).addClass("jBox-pointerPosition-"+this._getOpp(this.pointer.position)).css("padding",0).css("padding-"+X,this.pointer.dimensions[this._getXY(X)]),this.pointer&&this.pointer.element.attr("class","jBox-pointer jBox-pointer-"+X),this.positionAdjusted=!0,this.flipped=!0}.bind(this),M.x&&o(this.options.position.x),M.y&&o(this.options.position.y));var o=this._getXY(this.outside)=="x"?Tt:S;this.pointer&&a.pointTo=="target"&&a.adjustPosition!="flip"&&this._getXY(o)==this._getOpp(this._getXY(this.outside))&&(Tt=this.pointer.align=="center"?l[this._getXY(o)]/2-this.pointer.dimensions[this._getOpp(this.pointer.xy)]/2-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))*(o!=this._getTL(o)?-1:1):o==this.pointer.alignAttribute?parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute)):l[this._getXY(o)]-parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-this.pointer.dimensions[this._getXY(o)],S=o==this._getTL(o)?y[this._getTL(o)]-K[this._getTL(o)]+a.adjustDistance[o]:-1*(y[this._getOpp(this._getTL(o))]-K[this._getTL(o)]-a.adjustDistance[o]-l[this._getXY(o)]),o==this._getOpp(this._getTL(o))&&K[this._getTL(o)]-S<y[this._getTL(o)]+a.adjustDistance[this._getTL(o)]&&(S-=y[this._getTL(o)]+a.adjustDistance[this._getTL(o)]-(K[this._getTL(o)]-S)),(S=Math.min(S,Tt))<=Tt&&0<S&&(this.pointer.element.css("margin-"+this.pointer.alignAttribute,parseInt(this.pointer.element.css("margin-"+this.pointer.alignAttribute))-S*(o!=this.pointer.alignAttribute?-1:1)),this.wrapper.css(this._getTL(o),K[this._getTL(o)]+S*(o!=this._getTL(o)?-1:1)),this.positionAdjusted=!0))}}return this._fireEvent("onPosition"),this},(f.prototype.unscroll=function(a){if(this.set=function(M,K){window.unscrollStore||(window.unscrollStore={}),window.unscrollStore[M]=K},this.get=function(M){return window.unscrollStore?window.unscrollStore[M]:null},this.getScrollbarWidth=function(){if(this.get("scrollbarWidth"))return this.get("scrollbarWidth")+"px";var M=document.createElement("div");M.style.width="100px",M.style.height="100px",M.style.overflow="scroll",M.style.position="absolute",M.style.top="-10000",document.body.appendChild(M);var K=M.offsetWidth-M.clientWidth;return document.body.removeChild(M),this.set("scrollbarWidth",K),K+"px"},this.getElementsToAdjust=function(M){(M=typeof(M=M||[])=="string"?[[M,"padding-right"]]:M).forEach(function(W,pt){typeof W=="string"&&(M[pt]=[W,"padding-right"])});for(var K=!1,q=0;q<M.length;q++)M[q][0].indexOf("body")!==-1&&(K=!0);return K===!1&&M.push(["body","padding-right"]),M},this.pageHasScrollbar=function(){return this.getScrollbarWidth()&&document.body.offsetHeight>window.innerHeight},this.pageHasScrollbar()){a=this.getElementsToAdjust(a);for(var l=0;l<a.length;l++)for(var y=document.querySelectorAll(a[l][0]),S=0;S<y.length;S++){if(y[S].getAttribute("data-unscroll"))return;var A=a[l][1],I=window.getComputedStyle(y[S]).getPropertyValue(A);y[S].setAttribute("data-unscroll",A),y[S].style[A]="calc("+(I=I||"0px")+" "+(A=="padding-right"||A=="right"?"+":"-")+" "+this.getScrollbarWidth()+")"}}var U,R;document.getElementById("unscroll-class-name")||(U=document.head||document.getElementsByTagName("head")[0],(R=document.createElement("style")).type="text/css",R.setAttribute("id","unscroll-class-name"),R.appendChild(document.createTextNode(".unscrollable { overflow: hidden !important; }")),U.appendChild(R)),document.body.classList.add("unscrollable")}).reset=function(){for(var a=document.querySelectorAll("[data-unscroll]"),l=0;l<a.length;l++){var y=a[l].getAttribute("data-unscroll");a[l].style[y]=null,a[l].removeAttribute("data-unscroll")}document.body.classList.remove("unscrollable")},f.prototype.open=function(a){if(a=a||{},this.isDestroyed)return this;if(this.wrapper||this._create(),this._styles||(this._styles=c("<style/>").append(this._animationCSS).appendTo(c("head"))),this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;this.options.closeOnEsc&&c(document).on("keyup.jBox-"+this.id,function(y){y.keyCode==27&&this.close({ignoreDelay:!0})}.bind(this)),this.options.closeOnClick!==!0&&this.options.closeOnClick!=="body"||(c("body").on("click.jBox-"+this.id+" tap.jBox-"+this.id,function(y){this.blockBodyClick||this.options.closeOnClick=="body"&&(y.target==this.wrapper[0]||this.wrapper.has(y.target).length)||this.close({ignoreDelay:!0})}.bind(this)),this.isTouchDevice&&c("body > *").on("click.jBox-"+this.id+" tap.jBox-"+this.id,function(){return!0}));var l=function(){this.adjustZIndexOnOpen===!0&&(f.zIndexMax=Math.max(parseInt(this.wrapper.css("zIndex"),10),this.options.zIndex,f.zIndexMax||0,f.zIndexMaxDragover||0)+2,this.wrapper.css("zIndex",f.zIndexMax),this.options.zIndex=f.zIndexMax),this.source&&this.options.getTitle&&this.source.attr(this.options.getTitle)&&this.setTitle(this.source.attr(this.options.getTitle),!0),this.source&&this.options.getContent&&(this.source.data("jBox-getContent")?this.setContent(this.source.data("jBox-getContent"),!0):this.source.attr(this.options.getContent)?this.setContent(this.source.attr(this.options.getContent),!0):this.options.getContent=="html"&&this.setContent(this.source.html(),!0)),this._fireEvent("onOpen"),(this.options.ajax&&(this.options.ajax.url||this.source&&this.source.attr(this.options.ajax.getURL))&&(!this.ajaxLoaded||this.options.ajax.reload)||a.ajax&&(a.ajax.url||a.ajax.data))&&(this.options.ajax.reload=="strict"||!this.source||!this.source.data("jBox-ajax-data")||a.ajax&&(a.ajax.url||a.ajax.data)?this.ajax(a.ajax||null,!0):this.setContent(this.source.data("jBox-ajax-data"))),this.positionedOnOpen&&!this.options.repositionOnOpen||!this.position(a)||(this.positionedOnOpen=!0),this.isClosing&&this._abortAnimation(),this.isOpen||(this.isOpen=!0,this.options.autoClose&&(this.options.delayClose=this.options.autoClose)&&this.close(),this._attachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?f.blockScrollScopes?f.blockScrollScopes++:(f.blockScrollScopes=1,this.unscroll(Array.isArray(this.options.blockScrollAdjust)||typeof this.options.blockScrollAdjust=="string"?this.options.blockScrollAdjust:null)):c("body").addClass("jBox-blockScroll-"+this.id)),this.options.overlay&&(this._showOverlay(),this.position()),this.options.animation&&!this.isClosing&&this._animate("open"),this.options.audio&&this.options.audio.open&&this.audio(this.options.audio.open,this.options.volume.open),this.options.fade?this.wrapper.stop().animate({opacity:1},{queue:!1,duration:this.options.fade,start:function(){this.isOpening=!0,this.wrapper.css({display:"block"})}.bind(this),complete:function(){this._fireEvent("onOpenComplete")}.bind(this),always:function(){this.isOpening=!1,setTimeout(function(){this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1)}.bind(this),10)}.bind(this)}):(this.wrapper.css({display:"block",opacity:1}),this.positionOnFadeComplete&&this.position()&&(this.positionOnFadeComplete=!1),this._fireEvent("onOpenComplete")))}.bind(this);return!this.options.delayOpen||this.isOpen||this.isClosing||a.ignoreDelay?l():this.timer=setTimeout(l,this.options.delayOpen),this},f.prototype.close=function(a){if(a=a||{},c("body").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isTouchDevice&&c("body > *").off("click.jBox-"+this.id+" tap.jBox-"+this.id),this.isDestroyed||this.isClosing)return this;if(this.timer&&clearTimeout(this.timer),this._blockBodyClick(),this.isDisabled)return this;var l,y,S,A=function(){var I;this._fireEvent("onClose"),this.options.cancelAjaxOnClose&&this.cancelAjax(),this.isOpen&&(this.isOpen=!1,this._detachEvents(),this.options.blockScroll&&(this.options.blockScrollAdjust?(f.blockScrollScopes=f.blockScrollScopes?--f.blockScrollScopes:0)||this.unscroll.reset():c("body").removeClass("jBox-blockScroll-"+this.id)),this.options.overlay&&this._hideOverlay(),this.options.animation&&!this.isOpening&&this._animate("close"),this.options.audio&&this.options.audio.close&&this.audio(this.options.audio.close,this.options.volume.close),(I=this.isTouchDevice&&this.options.target=="mouse"?0:this.options.fade)?this.wrapper.stop().animate({opacity:0},{queue:!1,duration:I,start:function(){this.isClosing=!0}.bind(this),complete:function(){this.wrapper.css({display:"none"}),this._fireEvent("onCloseComplete")}.bind(this),always:function(){this.isClosing=!1}.bind(this)}):(this.wrapper.css({display:"none",opacity:0}),this._fireEvent("onCloseComplete")))}.bind(this);return a.ignoreDelay||this.isTouchDevice&&this.options.target=="mouse"?A():(this.options.delayOnHover||this.options.showCountdown)&&10<this.options.delayClose?(y=(l=this).options.delayClose,S=Date.now(),this.options.showCountdown&&!this.inner&&(a=c('<div class="jBox-countdown" />'),this.inner=c('<div class="jBox-countdown-inner" />'),a.prepend(this.inner),c("#"+this.id).append(a)),this.countdown=function(){var I=Date.now();l.isHovered||(y-=I-S),S=I,0<y?(l.options.showCountdown&&l.inner.css("width",100*y/l.options.delayClose+"%"),window.requestAnimationFrame(l.countdown)):A()},window.requestAnimationFrame(this.countdown)):this.timer=setTimeout(A,Math.max(this.options.delayClose,10)),this},f.prototype.toggle=function(a){return this[this.isOpen?"close":"open"](a),this},f.prototype.disable=function(){return this.isDisabled=!0,this},f.prototype.enable=function(){return this.isDisabled=!1,this},f.prototype.hide=function(){return this.disable(),this.wrapper&&(this.cacheWrapperDisplay=this.wrapper.css("display"),this.wrapper.css({display:"none"})),this.overlay&&(this.cacheOverlayDisplay=this.overlay.css("display"),this.overlay.css({display:"none"})),this},f.prototype.show=function(){return this.enable(),this.wrapper&&this.cacheWrapperDisplay&&(this.wrapper.css({display:this.cacheWrapperDisplay}),this.cacheWrapperDisplay=null),this.overlay&&this.cacheOverlayDisplay&&(this.overlay.css({display:this.cacheOverlayDisplay}),this.cacheOverlayDisplay=null),this},f.prototype.ajax=function(a,l){a=a||{},c.each([["getData","data"],["getURL","url"]],function(M,K){this.options.ajax[K[0]]&&!a[K[1]]&&this.source&&this.source.attr(this.options.ajax[K[0]])!=null&&(a[K[1]]=this.source.attr(this.options.ajax[K[0]])||"")}.bind(this));var y=c.extend(!0,{},this.options.ajax);this.cancelAjax();var S=a.beforeSend||y.beforeSend||function(){},A=a.complete||y.complete||function(){},I=a.success||y.success||function(){},U=a.error||y.error||function(){},R=c.extend(!0,y,a);return R.beforeSend=function(M){R.loadingClass&&this.wrapper.addClass(R.loadingClass===!0?"jBox-loading":R.loadingClass),R.spinner&&(this.spinnerDelay=setTimeout(function(){this.wrapper.addClass("jBox-loading-spinner"),R.spinnerReposition&&(l?this.positionOnFadeComplete=!0:this.position()),this.spinner=c(R.spinner!==!0?R.spinner:'<div class="jBox-spinner"></div>').appendTo(this.container),this.titleContainer&&this.spinner.css("position")=="absolute"&&this.spinner.css({transform:"translateY("+.5*this.titleContainer.outerHeight()+"px)"})}.bind(this),this.content.html()!=""&&R.spinnerDelay||0)),S.bind(this)(M)}.bind(this),R.complete=function(M){this.spinnerDelay&&clearTimeout(this.spinnerDelay),this.wrapper.removeClass("jBox-loading jBox-loading-spinner jBox-loading-spinner-delay"),this.spinner&&this.spinner.length&&this.spinner.remove()&&R.spinnerReposition&&(l?this.positionOnFadeComplete=!0:this.position()),this.ajaxLoaded=!0,A.bind(this)(M)}.bind(this),R.success=function(M){R.setContent&&this.setContent(M,!0)&&(l?this.positionOnFadeComplete=!0:this.position()),R.setContent&&this.source&&this.source.data("jBox-ajax-data",M),I.bind(this)(M)}.bind(this),R.error=function(M){U.bind(this)(M)}.bind(this),this.ajaxRequest=c.ajax(R),this},f.prototype.cancelAjax=function(){this.ajaxRequest&&(this.ajaxRequest.abort(),this.ajaxLoaded=!1)},f.prototype.audio=function(a,l){if(!a)return this;var y;(f._audio=f._audio?f._audio:{})[a]||(y=c("<audio/>"),c("<source/>",{src:a+".mp3"}).appendTo(y),c("<source/>",{src:a+".ogg"}).appendTo(y),f._audio[a]=y[0]),f._audio[a].volume=Math.min((l!=null?l:100)/100,1);try{f._audio[a].pause(),f._audio[a].currentTime=0}catch{}return f._audio[a].play(),this},f._animationSpeeds={tada:1e3,tadaSmall:1e3,flash:500,shake:400,pulseUp:250,pulseDown:250,popIn:250,popOut:250,fadeIn:200,fadeOut:200,slideUp:400,slideRight:400,slideLeft:400,slideDown:400},f.prototype.animate=function(a,l){l=l||{},this.animationTimeout||(this.animationTimeout={}),l.element||(l.element=this.wrapper),l.element.data("jBox-animating-id")||l.element.data("jBox-animating-id",f._getUniqueElementID()),l.element.data("jBox-animating")&&(l.element.removeClass(l.element.data("jBox-animating")).data("jBox-animating",null),this.animationTimeout[l.element.data("jBox-animating-id")]&&clearTimeout(this.animationTimeout[l.element.data("jBox-animating-id")])),l.element.addClass("jBox-animated-"+a).data("jBox-animating","jBox-animated-"+a),this.animationTimeout[l.element.data("jBox-animating-id")]=setTimeout(function(){l.element.removeClass(l.element.data("jBox-animating")).data("jBox-animating",null),l.complete&&l.complete()},f._animationSpeeds[a])},f.prototype.swipeDetector=function(a,l){var y=0,S=0,A=0,I=0,U=0;function R(q){l.useOnlyTouch&&!q.originalEvent.touches||(q.originalEvent.touches&&(q=q.originalEvent.touches[0]),y===0&&(y=1,S=q.clientX,A=q.clientY))}function M(q){y===2&&(y=0,Math.abs(I)>Math.abs(U)&&Math.abs(I)>l.swipeThreshold?I<0?a.trigger(c.Event("swipeLeft.sd")):a.trigger(c.Event("swipeRight.sd")):Math.abs(U)>l.swipeThreshold&&(U<0?a.trigger(c.Event("swipeUp.sd")):a.trigger(c.Event("swipeDown.sd"))))}function K(q){var W;y===1&&(W=(q=q.originalEvent.touches?q.originalEvent.touches[0]:q).clientX-S,q=q.clientY-A,(Math.abs(W)>l.swipeThreshold||Math.abs(q)>l.swipeThreshold)&&(y=2,I=W,U=q))}return l=c.extend({swipeThreshold:70,useOnlyTouch:!1},l),a.on("mousedown touchstart",R),c("html").on("mouseup touchend",M),c("html").on("mousemove touchmove",K),a},f.prototype.destroy=function(){return this.detach(),this.isOpen&&this.close({ignoreDelay:!0}),this.wrapper&&this.wrapper.remove(),this.overlay&&this.overlay.remove(),this._styles&&this._styles.remove(),this.isDestroyed=!0,this},f._getUniqueID=(m=1,function(){return m++}),f._getUniqueElementID=(p=1,function(){return p++}),f._pluginOptions={},f.plugin=function(a,l){f._pluginOptions[a]=l},c.fn.jBox=function(a,l){return new f(a=a||{},c.extend(l=l||{},{attach:this}))},f}function jBoxConfirmWrapper(jBox,jQuery){new jBox.plugin("Confirm",{confirmButton:"Submit",cancelButton:"Cancel",confirm:null,cancel:null,closeOnConfirm:!0,target:window,fixed:!0,attach:"[data-confirm]",getContent:"data-confirm",content:"Do you really want to do this?",minWidth:360,maxWidth:500,blockScroll:!0,closeOnEsc:!0,closeOnClick:!1,closeButton:!1,overlay:!0,animation:"zoomIn",preventDefault:!0,_onAttach:function(c){var f;this.options.confirm||(f=c.attr("onclick")?c.attr("onclick"):c.attr("href")?c.attr("target")?'window.open("'+c.attr("href")+'", "'+c.attr("target")+'");':'window.location.href = "'+c.attr("href")+'";':"",c.prop("onclick",null).data("jBox-Confirm-submit",f))},_onCreated:function(){this.wrapper.addClass("jBox-Modal"),this.footer=jQuery('<div class="jBox-Confirm-footer"/>'),jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-cancel"/>').html(this.options.cancelButton).on("click tap",function(){this.options.cancel&&this.options.cancel(this.source),this.close()}.bind(this)).appendTo(this.footer),this.submitButton=jQuery('<div class="jBox-Confirm-button jBox-Confirm-button-submit"/>').html(this.options.confirmButton).appendTo(this.footer),this.footer.appendTo(this.container)},_onOpen:function(){this.submitButton.off("click.jBox-Confirm"+this.id+" tap.jBox-Confirm"+this.id).on("click.jBox-Confirm"+this.id+" tap.jBox-Confirm"+this.id,function(){this.options.confirm?this.options.confirm(this.source):eval(this.source.data("jBox-Confirm-submit")),this.options.closeOnConfirm&&this.close()}.bind(this))}})}function jBoxImageWrapper(c,f){new c.plugin("Image",{src:"href",gallery:"data-jbox-image",imageLabel:"title",imageFade:360,imageSize:"contain",imageCounter:!1,imageCounterSeparator:"/",downloadButton:!1,downloadButtonText:null,downloadButtonUrl:null,mobileImageAttr:null,mobileImageBreakpoint:null,preloadFirstImage:!1,target:window,attach:"[data-jbox-image]",fixed:!0,blockScroll:!0,closeOnEsc:!0,closeOnClick:"button",closeButton:!0,overlay:!0,animation:"zoomIn",preventDefault:!0,width:"100%",height:"100%",adjustDistance:{top:40,right:0,bottom:40,left:0},_onInit:function(){this.images=this.currentImage={},this.imageZIndex=1,this.initImage=function(a){var l,y;(a=f(a)).data("jBox-image-gallery")||(l=a.attr(this.options.src),this.options.mobileImageAttr&&this.options.mobileImageBreakpoint&&a.attr(this.options.mobileImageAttr)&&f(window).width()<=this.options.mobileImageBreakpoint&&(l=a.attr(this.options.mobileImageAttr)),y=a.attr(this.options.gallery)||"default",this.images[y]||(this.images[y]=[]),this.images[y].push({src:l,label:a.attr(this.options.imageLabel)||"",downloadUrl:this.options.downloadButtonUrl&&a.attr(this.options.downloadButtonUrl)?a.attr(this.options.downloadButtonUrl):null}),this.options.imageLabel=="title"&&a.removeAttr("title"),a.data("jBox-image-gallery",y),a.data("jBox-image-id",this.images[y].length-1))}.bind(this),this.attachedElements&&this.attachedElements.length&&f.each(this.attachedElements,function(a,l){this.initImage(l)}.bind(this));var m=function(a,l,y,S){if(!f("#jBox-image-"+a+"-"+l).length){var A=f("<div/>",{id:"jBox-image-"+a+"-"+l,class:"jBox-image-container"+(y?" jBox-image-"+a+"-current":"")}).css({backgroundSize:this.options.imageSize,opacity:S?1:0,zIndex:y?this.imageZIndex++:0}).appendTo(this.content);return this.swipeDetector(A).on("swipeLeft.sd swipeRight.sd",function(I){I.type==="swipeLeft"?this.showImage("next"):I.type==="swipeRight"&&this.showImage("prev")}.bind(this)),f("<div/>",{id:"jBox-image-label-"+a+"-"+l,class:"jBox-image-label"+(y?" active":"")}).html(this.images[a][l].label).on("click tap",function(){f(this).toggleClass("expanded")}).appendTo(this.imageLabelContainer),y&&A.animate({opacity:1},S?0:this.options.imageFade),A}}.bind(this);this.downloadImage=function(a){var l=document.createElement("a");l.href=a,l.setAttribute("download",a.substring(a.lastIndexOf("/")+1)),document.body.appendChild(l),l.click()};var p=function(a,l,y,S){var A=m(a,l,y,S);A.addClass("jBox-image-loading"),f('<img src="'+this.images[a][l].src+'" />').each(function(){var I=new Image;I.onload=function(){A.removeClass("jBox-image-loading"),A.css({backgroundImage:'url("'+this.images[a][l].src+'")'})}.bind(this),I.onerror=function(){A.removeClass("jBox-image-loading"),A.addClass("jBox-image-not-found")}.bind(this),I.src=this.images[a][l].src}.bind(this))}.bind(this);this.showImage=function(a){var l,y,S;if(a!="open")l=this.currentImage.gallery,S=(S=this.currentImage.id+(+(a=="prev")?-1:1))>this.images[l].length-1?0:S<0?this.images[l].length-1:S;else{if(this.source)l=this.source.data("jBox-image-gallery"),S=this.source.data("jBox-image-id");else{if(!this.attachedElements||!this.attachedElements.length)return;l=f(this.attachedElements[0]).data("jBox-image-gallery"),S=f(this.attachedElements[0]).data("jBox-image-id")}this.images&&this.images[l]&&f(".jBox-image-pointer-prev, .jBox-image-pointer-next").css({display:1<this.images[l].length?"block":"none"})}f(".jBox-image-"+l+"-current").length&&f(".jBox-image-"+l+"-current").removeClass("jBox-image-"+l+"-current").animate({opacity:0},a=="open"?0:this.options.imageFade),this.currentImage={gallery:l,id:S},f("#jBox-image-"+l+"-"+S).length?f("#jBox-image-"+l+"-"+S).addClass("jBox-image-"+l+"-current").css({zIndex:this.imageZIndex++,opacity:0}).animate({opacity:1},a=="open"?0:this.options.imageFade):p(l,S,!0,a==="open"),y=l,a=S,f(".jBox-image-label.active").removeClass("active expanded"),f("#jBox-image-label-"+y+"-"+a).addClass("active"),this.imageCounter&&(this.images[l]&&1<this.images[l].length?(this.wrapper.addClass("jBox-image-has-counter"),this.imageCounter.find(".jBox-image-counter-all").html(this.images[l].length),this.imageCounter.find(".jBox-image-counter-current").html(S+1)):this.wrapper.removeClass("jBox-image-has-counter")),this.images[l]&&this.images[l].length-1&&(S=(S=S+1)>this.images[l].length-1?0:S<0?this.images[l].length-1:S,f("#jBox-image-"+l+"-"+S).length||p(l,S,!1,!1))},this.options.preloadFirstImage&&f(window).on("load",function(){this.showImage("open")}.bind(this))},_onAttach:function(m){this.initImage&&this.initImage(m)},_onCreated:function(){this.imageLabelWrapper=f('<div class="jBox-image-label-wrapper"/>').appendTo(this.wrapper),this.imagePrevButton=f('<div class="jBox-image-pointer-prev"/>').on("click tap",function(){this.showImage("prev")}.bind(this)),this.imageNextButton=f('<div class="jBox-image-pointer-next"/>').on("click tap",function(){this.showImage("next")}.bind(this)),this.imageLabelContainer=f('<div class="jBox-image-label-container"/>'),this.imageLabelWrapper.append(this.imagePrevButton).append(this.imageLabelContainer).append(this.imageNextButton),this.options.downloadButton&&(this.downloadButton=f("<div/>",{class:"jBox-image-download-button-wrapper"}).appendTo(this.wrapper).append(this.options.downloadButtonText?f("<div/>",{class:"jBox-image-download-button-text"}).html(this.options.downloadButtonText):null).append(f("<div/>",{class:"jBox-image-download-button-icon"})).on("click tap",function(){var m;m=this.images[this.currentImage.gallery][this.currentImage.id].downloadUrl||this.wrapper.find(".jBox-image-"+this.currentImage.gallery+"-current")[0].style.backgroundImage.slice(4,-1).replace(/["']/g,""),this.downloadImage(m)}.bind(this))),this.options.imageCounter&&(this.imageCounter=f("<div/>",{class:"jBox-image-counter-container"}).insertAfter(this.imageLabelContainer),this.imageCounter.append(f("<span/>",{class:"jBox-image-counter-current"})).append(f("<span/>").html(this.options.imageCounterSeparator)).append(f("<span/>",{class:"jBox-image-counter-all"})))},_onOpen:function(){f(document).on("keyup.jBox-Image-"+this.id,function(m){m.keyCode==37&&this.showImage("prev"),m.keyCode==39&&this.showImage("next")}.bind(this)),this.showImage("open")},_onClose:function(){f(document).off("keyup.jBox-Image-"+this.id)},_onCloseComplete:function(){this.wrapper.find(".jBox-image-container").css("opacity",0)}})}function jBoxNoticeWrapper(c,f){new c.plugin("Notice",{color:null,stack:!0,stackSpacing:10,autoClose:6e3,attributes:{x:"right",y:"top"},position:{x:15,y:15},responsivePositions:{500:{x:5,y:5},768:{x:10,y:10}},target:window,fixed:!0,animation:"zoomIn",closeOnClick:"box",zIndex:12e3,_onInit:function(){this.defaultNoticePosition=f.extend({},this.options.position),this._adjustNoticePositon=function(){var m=f(window),p=m.width();m.height(),this.options.position=f.extend({},this.defaultNoticePosition),f.each(this.options.responsivePositions,function(a,l){if(p<=a)return this.options.position=l,!1}.bind(this)),this.options.adjustDistance={top:this.options.position.y,right:this.options.position.x,bottom:this.options.position.y,left:this.options.position.x}},this.options.content instanceof f&&(this.options.content=this.options.content.clone().attr("id","")),f(window).on("resize.responsivejBoxNotice-"+this.id,function(m){this.isOpen&&this._adjustNoticePositon()}.bind(this)),this.open()},_onCreated:function(){this.wrapper.addClass("jBox-Notice-color jBox-Notice-"+(this.options.color||"gray")),this.wrapper.data("jBox-Notice-position",this.options.attributes.x+"-"+this.options.attributes.y)},_onOpen:function(){this.options.stack||(this._adjustNoticePositon(),f.each(f(".jBox-Notice"),function(m,p){(p=f(p)).attr("id")!=this.id&&p.data("jBox-Notice-position")==this.options.attributes.x+"-"+this.options.attributes.y&&(this.options.stack||p.data("jBox").close({ignoreDelay:!0}))}.bind(this)))},_onPosition:function(){var m,p={};for(m in f.each(f(".jBox-Notice"),function(A,I){var U=(I=f(I)).data("jBox-Notice-position");p[U]||(p[U]=[]),p[U].push(I)}),p){var a=m.split("-")[1];p[m].reverse();var l,y=0;for(l in p[m]){var S=f(p[m][l]);S.css("margin-"+a,y),y+=S.outerHeight()+this.options.stackSpacing}}},_onCloseComplete:function(){this.destroy(),this.options._onPosition.bind(this).call()}})}(function(c,f){module.exports?module.exports=c.jBox=f(jquery.exports):c.jBox=f(c.jQuery)})(commonjsGlobal,function(c){var f=jBoxWrapper(c);try{jBoxConfirmWrapper!==void 0&&jBoxConfirmWrapper&&jBoxConfirmWrapper(f,c)}catch(m){console.error(m)}try{jBoxImageWrapper!==void 0&&jBoxImageWrapper&&jBoxImageWrapper(f,c)}catch(m){console.error(m)}try{jBoxNoticeWrapper!==void 0&&jBoxNoticeWrapper&&jBoxNoticeWrapper(f,c)}catch(m){console.error(m)}return f})})(jBox_all_min);var jBox=jBox_all_min.exports;export{$,DragSelect as D,Soundfont as S,polygonHull as a,index as i,jBox as j,pagemap as p};
